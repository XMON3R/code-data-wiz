var Vk=Object.defineProperty;var qk=(l,t,e)=>t in l?Vk(l,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):l[t]=e;var ny=(l,t,e)=>qk(l,typeof t!="symbol"?t+"":t,e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function e(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=e(r);fetch(r.href,a)}})();function Ab(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var ld={exports:{}},Ma={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ly;function jk(){if(ly)return Ma;ly=1;var l=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,r,a){var u=null;if(a!==void 0&&(u=""+a),r.key!==void 0&&(u=""+r.key),"key"in r){a={};for(var f in r)f!=="key"&&(a[f]=r[f])}else a=r;return r=a.ref,{$$typeof:l,type:i,key:u,ref:r!==void 0?r:null,props:a}}return Ma.Fragment=t,Ma.jsx=e,Ma.jsxs=e,Ma}var ry;function Qk(){return ry||(ry=1,ld.exports=jk()),ld.exports}var It=Qk(),rd={exports:{}},Vt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sy;function Yk(){if(sy)return Vt;sy=1;var l=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function b(E){return E===null||typeof E!="object"?null:(E=y&&E[y]||E["@@iterator"],typeof E=="function"?E:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,_={};function O(E,W,J){this.props=E,this.context=W,this.refs=_,this.updater=J||x}O.prototype.isReactComponent={},O.prototype.setState=function(E,W){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,W,"setState")},O.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function M(){}M.prototype=O.prototype;function B(E,W,J){this.props=E,this.context=W,this.refs=_,this.updater=J||x}var j=B.prototype=new M;j.constructor=B,w(j,O.prototype),j.isPureReactComponent=!0;var et=Array.isArray,L={H:null,A:null,T:null,S:null,V:null},Q=Object.prototype.hasOwnProperty;function Z(E,W,J,ht,vt,Rt){return J=Rt.ref,{$$typeof:l,type:E,key:W,ref:J!==void 0?J:null,props:Rt}}function nt(E,W){return Z(E.type,W,void 0,void 0,void 0,E.props)}function st(E){return typeof E=="object"&&E!==null&&E.$$typeof===l}function mt(E){var W={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(J){return W[J]})}var ut=/\/+/g;function G(E,W){return typeof E=="object"&&E!==null&&E.key!=null?mt(""+E.key):W.toString(36)}function yt(){}function St(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(yt,yt):(E.status="pending",E.then(function(W){E.status==="pending"&&(E.status="fulfilled",E.value=W)},function(W){E.status==="pending"&&(E.status="rejected",E.reason=W)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function gt(E,W,J,ht,vt){var Rt=typeof E;(Rt==="undefined"||Rt==="boolean")&&(E=null);var Mt=!1;if(E===null)Mt=!0;else switch(Rt){case"bigint":case"string":case"number":Mt=!0;break;case"object":switch(E.$$typeof){case l:case t:Mt=!0;break;case g:return Mt=E._init,gt(Mt(E._payload),W,J,ht,vt)}}if(Mt)return vt=vt(E),Mt=ht===""?"."+G(E,0):ht,et(vt)?(J="",Mt!=null&&(J=Mt.replace(ut,"$&/")+"/"),gt(vt,W,J,"",function(Ae){return Ae})):vt!=null&&(st(vt)&&(vt=nt(vt,J+(vt.key==null||E&&E.key===vt.key?"":(""+vt.key).replace(ut,"$&/")+"/")+Mt)),W.push(vt)),1;Mt=0;var Wt=ht===""?".":ht+":";if(et(E))for(var Ht=0;Ht<E.length;Ht++)ht=E[Ht],Rt=Wt+G(ht,Ht),Mt+=gt(ht,W,J,Rt,vt);else if(Ht=b(E),typeof Ht=="function")for(E=Ht.call(E),Ht=0;!(ht=E.next()).done;)ht=ht.value,Rt=Wt+G(ht,Ht++),Mt+=gt(ht,W,J,Rt,vt);else if(Rt==="object"){if(typeof E.then=="function")return gt(St(E),W,J,ht,vt);throw W=String(E),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return Mt}function U(E,W,J){if(E==null)return E;var ht=[],vt=0;return gt(E,ht,"","",function(Rt){return W.call(J,Rt,vt++)}),ht}function $(E){if(E._status===-1){var W=E._result;W=W(),W.then(function(J){(E._status===0||E._status===-1)&&(E._status=1,E._result=J)},function(J){(E._status===0||E._status===-1)&&(E._status=2,E._result=J)}),E._status===-1&&(E._status=0,E._result=W)}if(E._status===1)return E._result.default;throw E._result}var rt=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)};function bt(){}return Vt.Children={map:U,forEach:function(E,W,J){U(E,function(){W.apply(this,arguments)},J)},count:function(E){var W=0;return U(E,function(){W++}),W},toArray:function(E){return U(E,function(W){return W})||[]},only:function(E){if(!st(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},Vt.Component=O,Vt.Fragment=e,Vt.Profiler=r,Vt.PureComponent=B,Vt.StrictMode=i,Vt.Suspense=c,Vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,Vt.__COMPILER_RUNTIME={__proto__:null,c:function(E){return L.H.useMemoCache(E)}},Vt.cache=function(E){return function(){return E.apply(null,arguments)}},Vt.cloneElement=function(E,W,J){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var ht=w({},E.props),vt=E.key,Rt=void 0;if(W!=null)for(Mt in W.ref!==void 0&&(Rt=void 0),W.key!==void 0&&(vt=""+W.key),W)!Q.call(W,Mt)||Mt==="key"||Mt==="__self"||Mt==="__source"||Mt==="ref"&&W.ref===void 0||(ht[Mt]=W[Mt]);var Mt=arguments.length-2;if(Mt===1)ht.children=J;else if(1<Mt){for(var Wt=Array(Mt),Ht=0;Ht<Mt;Ht++)Wt[Ht]=arguments[Ht+2];ht.children=Wt}return Z(E.type,vt,void 0,void 0,Rt,ht)},Vt.createContext=function(E){return E={$$typeof:u,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:a,_context:E},E},Vt.createElement=function(E,W,J){var ht,vt={},Rt=null;if(W!=null)for(ht in W.key!==void 0&&(Rt=""+W.key),W)Q.call(W,ht)&&ht!=="key"&&ht!=="__self"&&ht!=="__source"&&(vt[ht]=W[ht]);var Mt=arguments.length-2;if(Mt===1)vt.children=J;else if(1<Mt){for(var Wt=Array(Mt),Ht=0;Ht<Mt;Ht++)Wt[Ht]=arguments[Ht+2];vt.children=Wt}if(E&&E.defaultProps)for(ht in Mt=E.defaultProps,Mt)vt[ht]===void 0&&(vt[ht]=Mt[ht]);return Z(E,Rt,void 0,void 0,null,vt)},Vt.createRef=function(){return{current:null}},Vt.forwardRef=function(E){return{$$typeof:f,render:E}},Vt.isValidElement=st,Vt.lazy=function(E){return{$$typeof:g,_payload:{_status:-1,_result:E},_init:$}},Vt.memo=function(E,W){return{$$typeof:d,type:E,compare:W===void 0?null:W}},Vt.startTransition=function(E){var W=L.T,J={};L.T=J;try{var ht=E(),vt=L.S;vt!==null&&vt(J,ht),typeof ht=="object"&&ht!==null&&typeof ht.then=="function"&&ht.then(bt,rt)}catch(Rt){rt(Rt)}finally{L.T=W}},Vt.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},Vt.use=function(E){return L.H.use(E)},Vt.useActionState=function(E,W,J){return L.H.useActionState(E,W,J)},Vt.useCallback=function(E,W){return L.H.useCallback(E,W)},Vt.useContext=function(E){return L.H.useContext(E)},Vt.useDebugValue=function(){},Vt.useDeferredValue=function(E,W){return L.H.useDeferredValue(E,W)},Vt.useEffect=function(E,W,J){var ht=L.H;if(typeof J=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ht.useEffect(E,W)},Vt.useId=function(){return L.H.useId()},Vt.useImperativeHandle=function(E,W,J){return L.H.useImperativeHandle(E,W,J)},Vt.useInsertionEffect=function(E,W){return L.H.useInsertionEffect(E,W)},Vt.useLayoutEffect=function(E,W){return L.H.useLayoutEffect(E,W)},Vt.useMemo=function(E,W){return L.H.useMemo(E,W)},Vt.useOptimistic=function(E,W){return L.H.useOptimistic(E,W)},Vt.useReducer=function(E,W,J){return L.H.useReducer(E,W,J)},Vt.useRef=function(E){return L.H.useRef(E)},Vt.useState=function(E){return L.H.useState(E)},Vt.useSyncExternalStore=function(E,W,J){return L.H.useSyncExternalStore(E,W,J)},Vt.useTransition=function(){return L.H.useTransition()},Vt.version="19.1.0",Vt}var ay;function jm(){return ay||(ay=1,rd.exports=Yk()),rd.exports}var se=jm();const Pk=Ab(se);var sd={exports:{}},Ea={},ad={exports:{}},od={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oy;function Gk(){return oy||(oy=1,function(l){function t(U,$){var rt=U.length;U.push($);t:for(;0<rt;){var bt=rt-1>>>1,E=U[bt];if(0<r(E,$))U[bt]=$,U[rt]=E,rt=bt;else break t}}function e(U){return U.length===0?null:U[0]}function i(U){if(U.length===0)return null;var $=U[0],rt=U.pop();if(rt!==$){U[0]=rt;t:for(var bt=0,E=U.length,W=E>>>1;bt<W;){var J=2*(bt+1)-1,ht=U[J],vt=J+1,Rt=U[vt];if(0>r(ht,rt))vt<E&&0>r(Rt,ht)?(U[bt]=Rt,U[vt]=rt,bt=vt):(U[bt]=ht,U[J]=rt,bt=J);else if(vt<E&&0>r(Rt,rt))U[bt]=Rt,U[vt]=rt,bt=vt;else break t}}return $}function r(U,$){var rt=U.sortIndex-$.sortIndex;return rt!==0?rt:U.id-$.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;l.unstable_now=function(){return a.now()}}else{var u=Date,f=u.now();l.unstable_now=function(){return u.now()-f}}var c=[],d=[],g=1,y=null,b=3,x=!1,w=!1,_=!1,O=!1,M=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function et(U){for(var $=e(d);$!==null;){if($.callback===null)i(d);else if($.startTime<=U)i(d),$.sortIndex=$.expirationTime,t(c,$);else break;$=e(d)}}function L(U){if(_=!1,et(U),!w)if(e(c)!==null)w=!0,Q||(Q=!0,G());else{var $=e(d);$!==null&&gt(L,$.startTime-U)}}var Q=!1,Z=-1,nt=5,st=-1;function mt(){return O?!0:!(l.unstable_now()-st<nt)}function ut(){if(O=!1,Q){var U=l.unstable_now();st=U;var $=!0;try{t:{w=!1,_&&(_=!1,B(Z),Z=-1),x=!0;var rt=b;try{e:{for(et(U),y=e(c);y!==null&&!(y.expirationTime>U&&mt());){var bt=y.callback;if(typeof bt=="function"){y.callback=null,b=y.priorityLevel;var E=bt(y.expirationTime<=U);if(U=l.unstable_now(),typeof E=="function"){y.callback=E,et(U),$=!0;break e}y===e(c)&&i(c),et(U)}else i(c);y=e(c)}if(y!==null)$=!0;else{var W=e(d);W!==null&&gt(L,W.startTime-U),$=!1}}break t}finally{y=null,b=rt,x=!1}$=void 0}}finally{$?G():Q=!1}}}var G;if(typeof j=="function")G=function(){j(ut)};else if(typeof MessageChannel<"u"){var yt=new MessageChannel,St=yt.port2;yt.port1.onmessage=ut,G=function(){St.postMessage(null)}}else G=function(){M(ut,0)};function gt(U,$){Z=M(function(){U(l.unstable_now())},$)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(U){U.callback=null},l.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):nt=0<U?Math.floor(1e3/U):5},l.unstable_getCurrentPriorityLevel=function(){return b},l.unstable_next=function(U){switch(b){case 1:case 2:case 3:var $=3;break;default:$=b}var rt=b;b=$;try{return U()}finally{b=rt}},l.unstable_requestPaint=function(){O=!0},l.unstable_runWithPriority=function(U,$){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var rt=b;b=U;try{return $()}finally{b=rt}},l.unstable_scheduleCallback=function(U,$,rt){var bt=l.unstable_now();switch(typeof rt=="object"&&rt!==null?(rt=rt.delay,rt=typeof rt=="number"&&0<rt?bt+rt:bt):rt=bt,U){case 1:var E=-1;break;case 2:E=250;break;case 5:E=1073741823;break;case 4:E=1e4;break;default:E=5e3}return E=rt+E,U={id:g++,callback:$,priorityLevel:U,startTime:rt,expirationTime:E,sortIndex:-1},rt>bt?(U.sortIndex=rt,t(d,U),e(c)===null&&U===e(d)&&(_?(B(Z),Z=-1):_=!0,gt(L,rt-bt))):(U.sortIndex=E,t(c,U),w||x||(w=!0,Q||(Q=!0,G()))),U},l.unstable_shouldYield=mt,l.unstable_wrapCallback=function(U){var $=b;return function(){var rt=b;b=$;try{return U.apply(this,arguments)}finally{b=rt}}}}(od)),od}var uy;function Xk(){return uy||(uy=1,ad.exports=Gk()),ad.exports}var ud={exports:{}},mi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fy;function Zk(){if(fy)return mi;fy=1;var l=jm();function t(c){var d="https://react.dev/errors/"+c;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)d+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function a(c,d,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:y==null?null:""+y,children:c,containerInfo:d,implementation:g}}var u=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(c,d){if(c==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return mi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,mi.createPortal=function(c,d){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return a(c,d,null,g)},mi.flushSync=function(c){var d=u.T,g=i.p;try{if(u.T=null,i.p=2,c)return c()}finally{u.T=d,i.p=g,i.d.f()}},mi.preconnect=function(c,d){typeof c=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(c,d))},mi.prefetchDNS=function(c){typeof c=="string"&&i.d.D(c)},mi.preinit=function(c,d){if(typeof c=="string"&&d&&typeof d.as=="string"){var g=d.as,y=f(g,d.crossOrigin),b=typeof d.integrity=="string"?d.integrity:void 0,x=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;g==="style"?i.d.S(c,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:y,integrity:b,fetchPriority:x}):g==="script"&&i.d.X(c,{crossOrigin:y,integrity:b,fetchPriority:x,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},mi.preinitModule=function(c,d){if(typeof c=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var g=f(d.as,d.crossOrigin);i.d.M(c,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(c)},mi.preload=function(c,d){if(typeof c=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var g=d.as,y=f(g,d.crossOrigin);i.d.L(c,g,{crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},mi.preloadModule=function(c,d){if(typeof c=="string")if(d){var g=f(d.as,d.crossOrigin);i.d.m(c,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(c)},mi.requestFormReset=function(c){i.d.r(c)},mi.unstable_batchedUpdates=function(c,d){return c(d)},mi.useFormState=function(c,d,g){return u.H.useFormState(c,d,g)},mi.useFormStatus=function(){return u.H.useHostTransitionStatus()},mi.version="19.1.0",mi}var hy;function Kk(){if(hy)return ud.exports;hy=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(t){console.error(t)}}return l(),ud.exports=Zk(),ud.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cy;function Ik(){if(cy)return Ea;cy=1;var l=Xk(),t=jm(),e=Kk();function i(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function a(n){var s=n,o=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(o=s.return),n=s.return;while(n)}return s.tag===3?o:null}function u(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function f(n){if(a(n)!==n)throw Error(i(188))}function c(n){var s=n.alternate;if(!s){if(s=a(n),s===null)throw Error(i(188));return s!==n?null:n}for(var o=n,h=s;;){var m=o.return;if(m===null)break;var p=m.alternate;if(p===null){if(h=m.return,h!==null){o=h;continue}break}if(m.child===p.child){for(p=m.child;p;){if(p===o)return f(m),n;if(p===h)return f(m),s;p=p.sibling}throw Error(i(188))}if(o.return!==h.return)o=m,h=p;else{for(var S=!1,A=m.child;A;){if(A===o){S=!0,o=m,h=p;break}if(A===h){S=!0,h=m,o=p;break}A=A.sibling}if(!S){for(A=p.child;A;){if(A===o){S=!0,o=p,h=m;break}if(A===h){S=!0,h=p,o=m;break}A=A.sibling}if(!S)throw Error(i(189))}}if(o.alternate!==h)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?n:s}function d(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=d(n),s!==null)return s;n=n.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),B=Symbol.for("react.consumer"),j=Symbol.for("react.context"),et=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),nt=Symbol.for("react.lazy"),st=Symbol.for("react.activity"),mt=Symbol.for("react.memo_cache_sentinel"),ut=Symbol.iterator;function G(n){return n===null||typeof n!="object"?null:(n=ut&&n[ut]||n["@@iterator"],typeof n=="function"?n:null)}var yt=Symbol.for("react.client.reference");function St(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===yt?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case w:return"Fragment";case O:return"Profiler";case _:return"StrictMode";case L:return"Suspense";case Q:return"SuspenseList";case st:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case x:return"Portal";case j:return(n.displayName||"Context")+".Provider";case B:return(n._context.displayName||"Context")+".Consumer";case et:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Z:return s=n.displayName||null,s!==null?s:St(n.type)||"Memo";case nt:s=n._payload,n=n._init;try{return St(n(s))}catch{}}return null}var gt=Array.isArray,U=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt={pending:!1,data:null,method:null,action:null},bt=[],E=-1;function W(n){return{current:n}}function J(n){0>E||(n.current=bt[E],bt[E]=null,E--)}function ht(n,s){E++,bt[E]=n.current,n.current=s}var vt=W(null),Rt=W(null),Mt=W(null),Wt=W(null);function Ht(n,s){switch(ht(Mt,s),ht(Rt,n),ht(vt,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?D1(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=D1(s),n=R1(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}J(vt),ht(vt,n)}function Ae(){J(vt),J(Rt),J(Mt)}function Me(n){n.memoizedState!==null&&ht(Wt,n);var s=vt.current,o=R1(s,n.type);s!==o&&(ht(Rt,n),ht(vt,o))}function te(n){Rt.current===n&&(J(vt),J(Rt)),Wt.current===n&&(J(Wt),Aa._currentValue=rt)}var pe=Object.prototype.hasOwnProperty,Jt=l.unstable_scheduleCallback,Ve=l.unstable_cancelCallback,Ci=l.unstable_shouldYield,_i=l.unstable_requestPaint,jt=l.unstable_now,ci=l.unstable_getCurrentPriorityLevel,_n=l.unstable_ImmediatePriority,vi=l.unstable_UserBlockingPriority,Fe=l.unstable_NormalPriority,xe=l.unstable_LowPriority,qt=l.unstable_IdlePriority,Ti=l.log,ml=l.unstable_setDisableYieldValue,Oi=null,ye=null;function bi(n){if(typeof Ti=="function"&&ml(n),ye&&typeof ye.setStrictMode=="function")try{ye.setStrictMode(Oi,n)}catch{}}var Ee=Math.clz32?Math.clz32:Tn,Vi=Math.log,gl=Math.LN2;function Tn(n){return n>>>=0,n===0?32:31-(Vi(n)/gl|0)|0}var Be=256,xi=4194304;function Mi(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function T(n,s,o){var h=n.pendingLanes;if(h===0)return 0;var m=0,p=n.suspendedLanes,S=n.pingedLanes;n=n.warmLanes;var A=h&134217727;return A!==0?(h=A&~p,h!==0?m=Mi(h):(S&=A,S!==0?m=Mi(S):o||(o=A&~n,o!==0&&(m=Mi(o))))):(A=h&~p,A!==0?m=Mi(A):S!==0?m=Mi(S):o||(o=h&~n,o!==0&&(m=Mi(o)))),m===0?0:s!==0&&s!==m&&(s&p)===0&&(p=m&-m,o=s&-s,p>=o||p===32&&(o&4194048)!==0)?s:m}function ft(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function dt(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ct(){var n=Be;return Be<<=1,(Be&4194048)===0&&(Be=256),n}function z(){var n=xi;return xi<<=1,(xi&62914560)===0&&(xi=4194304),n}function tt(n){for(var s=[],o=0;31>o;o++)s.push(n);return s}function k(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function ct(n,s,o,h,m,p){var S=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var A=n.entanglements,D=n.expirationTimes,q=n.hiddenUpdates;for(o=S&~o;0<o;){var it=31-Ee(o),at=1<<it;A[it]=0,D[it]=-1;var P=q[it];if(P!==null)for(q[it]=null,it=0;it<P.length;it++){var X=P[it];X!==null&&(X.lane&=-536870913)}o&=~at}h!==0&&Bt(n,h,0),p!==0&&m===0&&n.tag!==0&&(n.suspendedLanes|=p&~(S&~s))}function Bt(n,s,o){n.pendingLanes|=s,n.suspendedLanes&=~s;var h=31-Ee(s);n.entangledLanes|=s,n.entanglements[h]=n.entanglements[h]|1073741824|o&4194090}function v(n,s){var o=n.entangledLanes|=s;for(n=n.entanglements;o;){var h=31-Ee(o),m=1<<h;m&s|n[h]&s&&(n[h]|=s),o&=~m}}function K(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function F(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function C(){var n=$.p;return n!==0?n:(n=window.event,n===void 0?32:W1(n.type))}function R(n,s){var o=$.p;try{return $.p=n,s()}finally{$.p=o}}var Y=Math.random().toString(36).slice(2),wt="__reactFiber$"+Y,pt="__reactProps$"+Y,kt="__reactContainer$"+Y,Yt="__reactEvents$"+Y,pn="__reactListeners$"+Y,Ce="__reactHandles$"+Y,Kt="__reactResources$"+Y,Se="__reactMarker$"+Y;function qe(n){delete n[wt],delete n[pt],delete n[Yt],delete n[pn],delete n[Ce]}function Ne(n){var s=n[wt];if(s)return s;for(var o=n.parentNode;o;){if(s=o[kt]||o[wt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(n=L1(n);n!==null;){if(o=n[wt])return o;n=L1(n)}return s}n=o,o=n.parentNode}return null}function yn(n){if(n=n[wt]||n[kt]){var s=n.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return n}return null}function On(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(i(33))}function ce(n){var s=n[Kt];return s||(s=n[Kt]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function le(n){n[Se]=!0}var je=new Set,Ji={};function We(n,s){Zn(n,s),Zn(n+"Capture",s)}function Zn(n,s){for(Ji[n]=s,n=0;n<s.length;n++)je.add(s[n])}var D2=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wg={},kg={};function R2(n){return pe.call(kg,n)?!0:pe.call(wg,n)?!1:D2.test(n)?kg[n]=!0:(wg[n]=!0,!1)}function bo(n,s,o){if(R2(s))if(o===null)n.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var h=s.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+o)}}function xo(n,s,o){if(o===null)n.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+o)}}function Kn(n,s,o,h){if(h===null)n.removeAttribute(o);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(s,o,""+h)}}var Jf,Ag;function Rr(n){if(Jf===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);Jf=s&&s[1]||"",Ag=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Jf+n+Ag}var $f=!1;function th(n,s){if(!n||$f)return"";$f=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(s){var at=function(){throw Error()};if(Object.defineProperty(at.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(at,[])}catch(X){var P=X}Reflect.construct(n,[],at)}else{try{at.call()}catch(X){P=X}n.call(at.prototype)}}else{try{throw Error()}catch(X){P=X}(at=n())&&typeof at.catch=="function"&&at.catch(function(){})}}catch(X){if(X&&P&&typeof X.stack=="string")return[X.stack,P.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=h.DetermineComponentFrameRoot(),S=p[0],A=p[1];if(S&&A){var D=S.split(`
`),q=A.split(`
`);for(m=h=0;h<D.length&&!D[h].includes("DetermineComponentFrameRoot");)h++;for(;m<q.length&&!q[m].includes("DetermineComponentFrameRoot");)m++;if(h===D.length||m===q.length)for(h=D.length-1,m=q.length-1;1<=h&&0<=m&&D[h]!==q[m];)m--;for(;1<=h&&0<=m;h--,m--)if(D[h]!==q[m]){if(h!==1||m!==1)do if(h--,m--,0>m||D[h]!==q[m]){var it=`
`+D[h].replace(" at new "," at ");return n.displayName&&it.includes("<anonymous>")&&(it=it.replace("<anonymous>",n.displayName)),it}while(1<=h&&0<=m);break}}}finally{$f=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?Rr(o):""}function B2(n){switch(n.tag){case 26:case 27:case 5:return Rr(n.type);case 16:return Rr("Lazy");case 13:return Rr("Suspense");case 19:return Rr("SuspenseList");case 0:case 15:return th(n.type,!1);case 11:return th(n.type.render,!1);case 1:return th(n.type,!0);case 31:return Rr("Activity");default:return""}}function Cg(n){try{var s="";do s+=B2(n),n=n.return;while(n);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function $i(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function _g(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function N2(n){var s=_g(n)?"checked":"value",o=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),h=""+n[s];if(!n.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var m=o.get,p=o.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return m.call(this)},set:function(S){h=""+S,p.call(this,S)}}),Object.defineProperty(n,s,{enumerable:o.enumerable}),{getValue:function(){return h},setValue:function(S){h=""+S},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function So(n){n._valueTracker||(n._valueTracker=N2(n))}function Tg(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var o=s.getValue(),h="";return n&&(h=_g(n)?n.checked?"true":"false":n.value),n=h,n!==o?(s.setValue(n),!0):!1}function wo(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var z2=/[\n"\\]/g;function tn(n){return n.replace(z2,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function eh(n,s,o,h,m,p,S,A){n.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?n.type=S:n.removeAttribute("type"),s!=null?S==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+$i(s)):n.value!==""+$i(s)&&(n.value=""+$i(s)):S!=="submit"&&S!=="reset"||n.removeAttribute("value"),s!=null?ih(n,S,$i(s)):o!=null?ih(n,S,$i(o)):h!=null&&n.removeAttribute("value"),m==null&&p!=null&&(n.defaultChecked=!!p),m!=null&&(n.checked=m&&typeof m!="function"&&typeof m!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?n.name=""+$i(A):n.removeAttribute("name")}function Og(n,s,o,h,m,p,S,A){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(n.type=p),s!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||s!=null))return;o=o!=null?""+$i(o):"",s=s!=null?""+$i(s):o,A||s===n.value||(n.value=s),n.defaultValue=s}h=h??m,h=typeof h!="function"&&typeof h!="symbol"&&!!h,n.checked=A?n.checked:!!h,n.defaultChecked=!!h,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(n.name=S)}function ih(n,s,o){s==="number"&&wo(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function Br(n,s,o,h){if(n=n.options,s){s={};for(var m=0;m<o.length;m++)s["$"+o[m]]=!0;for(o=0;o<n.length;o++)m=s.hasOwnProperty("$"+n[o].value),n[o].selected!==m&&(n[o].selected=m),m&&h&&(n[o].defaultSelected=!0)}else{for(o=""+$i(o),s=null,m=0;m<n.length;m++){if(n[m].value===o){n[m].selected=!0,h&&(n[m].defaultSelected=!0);return}s!==null||n[m].disabled||(s=n[m])}s!==null&&(s.selected=!0)}}function Mg(n,s,o){if(s!=null&&(s=""+$i(s),s!==n.value&&(n.value=s),o==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=o!=null?""+$i(o):""}function Eg(n,s,o,h){if(s==null){if(h!=null){if(o!=null)throw Error(i(92));if(gt(h)){if(1<h.length)throw Error(i(93));h=h[0]}o=h}o==null&&(o=""),s=o}o=$i(s),n.defaultValue=o,h=n.textContent,h===o&&h!==""&&h!==null&&(n.value=h)}function Nr(n,s){if(s){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=s;return}}n.textContent=s}var L2=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Dg(n,s,o){var h=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?h?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":h?n.setProperty(s,o):typeof o!="number"||o===0||L2.has(s)?s==="float"?n.cssFloat=o:n[s]=(""+o).trim():n[s]=o+"px"}function Rg(n,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(n=n.style,o!=null){for(var h in o)!o.hasOwnProperty(h)||s!=null&&s.hasOwnProperty(h)||(h.indexOf("--")===0?n.setProperty(h,""):h==="float"?n.cssFloat="":n[h]="");for(var m in s)h=s[m],s.hasOwnProperty(m)&&o[m]!==h&&Dg(n,m,h)}else for(var p in s)s.hasOwnProperty(p)&&Dg(n,p,s[p])}function nh(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var H2=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),U2=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ko(n){return U2.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var lh=null;function rh(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var zr=null,Lr=null;function Bg(n){var s=yn(n);if(s&&(n=s.stateNode)){var o=n[pt]||null;t:switch(n=s.stateNode,s.type){case"input":if(eh(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+tn(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var h=o[s];if(h!==n&&h.form===n.form){var m=h[pt]||null;if(!m)throw Error(i(90));eh(h,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(s=0;s<o.length;s++)h=o[s],h.form===n.form&&Tg(h)}break t;case"textarea":Mg(n,o.value,o.defaultValue);break t;case"select":s=o.value,s!=null&&Br(n,!!o.multiple,s,!1)}}}var sh=!1;function Ng(n,s,o){if(sh)return n(s,o);sh=!0;try{var h=n(s);return h}finally{if(sh=!1,(zr!==null||Lr!==null)&&(ou(),zr&&(s=zr,n=Lr,Lr=zr=null,Bg(s),n)))for(s=0;s<n.length;s++)Bg(n[s])}}function Hs(n,s){var o=n.stateNode;if(o===null)return null;var h=o[pt]||null;if(h===null)return null;o=h[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(n=n.type,h=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!h;break t;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ah=!1;if(In)try{var Us={};Object.defineProperty(Us,"passive",{get:function(){ah=!0}}),window.addEventListener("test",Us,Us),window.removeEventListener("test",Us,Us)}catch{ah=!1}var pl=null,oh=null,Ao=null;function zg(){if(Ao)return Ao;var n,s=oh,o=s.length,h,m="value"in pl?pl.value:pl.textContent,p=m.length;for(n=0;n<o&&s[n]===m[n];n++);var S=o-n;for(h=1;h<=S&&s[o-h]===m[p-h];h++);return Ao=m.slice(n,1<h?1-h:void 0)}function Co(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function _o(){return!0}function Lg(){return!1}function Ei(n){function s(o,h,m,p,S){this._reactName=o,this._targetInst=m,this.type=h,this.nativeEvent=p,this.target=S,this.currentTarget=null;for(var A in n)n.hasOwnProperty(A)&&(o=n[A],this[A]=o?o(p):p[A]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?_o:Lg,this.isPropagationStopped=Lg,this}return g(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=_o)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=_o)},persist:function(){},isPersistent:_o}),s}var ir={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},To=Ei(ir),Vs=g({},ir,{view:0,detail:0}),V2=Ei(Vs),uh,fh,qs,Oo=g({},Vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ch,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==qs&&(qs&&n.type==="mousemove"?(uh=n.screenX-qs.screenX,fh=n.screenY-qs.screenY):fh=uh=0,qs=n),uh)},movementY:function(n){return"movementY"in n?n.movementY:fh}}),Hg=Ei(Oo),q2=g({},Oo,{dataTransfer:0}),j2=Ei(q2),Q2=g({},Vs,{relatedTarget:0}),hh=Ei(Q2),Y2=g({},ir,{animationName:0,elapsedTime:0,pseudoElement:0}),P2=Ei(Y2),G2=g({},ir,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),X2=Ei(G2),Z2=g({},ir,{data:0}),Ug=Ei(Z2),K2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},I2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},F2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function W2(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=F2[n])?!!s[n]:!1}function ch(){return W2}var J2=g({},Vs,{key:function(n){if(n.key){var s=K2[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=Co(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?I2[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ch,charCode:function(n){return n.type==="keypress"?Co(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Co(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),$2=Ei(J2),tw=g({},Oo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vg=Ei(tw),ew=g({},Vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ch}),iw=Ei(ew),nw=g({},ir,{propertyName:0,elapsedTime:0,pseudoElement:0}),lw=Ei(nw),rw=g({},Oo,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),sw=Ei(rw),aw=g({},ir,{newState:0,oldState:0}),ow=Ei(aw),uw=[9,13,27,32],dh=In&&"CompositionEvent"in window,js=null;In&&"documentMode"in document&&(js=document.documentMode);var fw=In&&"TextEvent"in window&&!js,qg=In&&(!dh||js&&8<js&&11>=js),jg=" ",Qg=!1;function Yg(n,s){switch(n){case"keyup":return uw.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pg(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Hr=!1;function hw(n,s){switch(n){case"compositionend":return Pg(s);case"keypress":return s.which!==32?null:(Qg=!0,jg);case"textInput":return n=s.data,n===jg&&Qg?null:n;default:return null}}function cw(n,s){if(Hr)return n==="compositionend"||!dh&&Yg(n,s)?(n=zg(),Ao=oh=pl=null,Hr=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return qg&&s.locale!=="ko"?null:s.data;default:return null}}var dw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gg(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!dw[n.type]:s==="textarea"}function Xg(n,s,o,h){zr?Lr?Lr.push(h):Lr=[h]:zr=h,s=mu(s,"onChange"),0<s.length&&(o=new To("onChange","change",null,o,h),n.push({event:o,listeners:s}))}var Qs=null,Ys=null;function mw(n){_1(n,0)}function Mo(n){var s=On(n);if(Tg(s))return n}function Zg(n,s){if(n==="change")return s}var Kg=!1;if(In){var mh;if(In){var gh="oninput"in document;if(!gh){var Ig=document.createElement("div");Ig.setAttribute("oninput","return;"),gh=typeof Ig.oninput=="function"}mh=gh}else mh=!1;Kg=mh&&(!document.documentMode||9<document.documentMode)}function Fg(){Qs&&(Qs.detachEvent("onpropertychange",Wg),Ys=Qs=null)}function Wg(n){if(n.propertyName==="value"&&Mo(Ys)){var s=[];Xg(s,Ys,n,rh(n)),Ng(mw,s)}}function gw(n,s,o){n==="focusin"?(Fg(),Qs=s,Ys=o,Qs.attachEvent("onpropertychange",Wg)):n==="focusout"&&Fg()}function pw(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Mo(Ys)}function yw(n,s){if(n==="click")return Mo(s)}function vw(n,s){if(n==="input"||n==="change")return Mo(s)}function bw(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var qi=typeof Object.is=="function"?Object.is:bw;function Ps(n,s){if(qi(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var o=Object.keys(n),h=Object.keys(s);if(o.length!==h.length)return!1;for(h=0;h<o.length;h++){var m=o[h];if(!pe.call(s,m)||!qi(n[m],s[m]))return!1}return!0}function Jg(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function $g(n,s){var o=Jg(n);n=0;for(var h;o;){if(o.nodeType===3){if(h=n+o.textContent.length,n<=s&&h>=s)return{node:o,offset:s-n};n=h}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=Jg(o)}}function tp(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?tp(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function ep(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=wo(n.document);s instanceof n.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)n=s.contentWindow;else break;s=wo(n.document)}return s}function ph(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var xw=In&&"documentMode"in document&&11>=document.documentMode,Ur=null,yh=null,Gs=null,vh=!1;function ip(n,s,o){var h=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;vh||Ur==null||Ur!==wo(h)||(h=Ur,"selectionStart"in h&&ph(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Gs&&Ps(Gs,h)||(Gs=h,h=mu(yh,"onSelect"),0<h.length&&(s=new To("onSelect","select",null,s,o),n.push({event:s,listeners:h}),s.target=Ur)))}function nr(n,s){var o={};return o[n.toLowerCase()]=s.toLowerCase(),o["Webkit"+n]="webkit"+s,o["Moz"+n]="moz"+s,o}var Vr={animationend:nr("Animation","AnimationEnd"),animationiteration:nr("Animation","AnimationIteration"),animationstart:nr("Animation","AnimationStart"),transitionrun:nr("Transition","TransitionRun"),transitionstart:nr("Transition","TransitionStart"),transitioncancel:nr("Transition","TransitionCancel"),transitionend:nr("Transition","TransitionEnd")},bh={},np={};In&&(np=document.createElement("div").style,"AnimationEvent"in window||(delete Vr.animationend.animation,delete Vr.animationiteration.animation,delete Vr.animationstart.animation),"TransitionEvent"in window||delete Vr.transitionend.transition);function lr(n){if(bh[n])return bh[n];if(!Vr[n])return n;var s=Vr[n],o;for(o in s)if(s.hasOwnProperty(o)&&o in np)return bh[n]=s[o];return n}var lp=lr("animationend"),rp=lr("animationiteration"),sp=lr("animationstart"),Sw=lr("transitionrun"),ww=lr("transitionstart"),kw=lr("transitioncancel"),ap=lr("transitionend"),op=new Map,xh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xh.push("scrollEnd");function vn(n,s){op.set(n,s),We(s,[n])}var up=new WeakMap;function en(n,s){if(typeof n=="object"&&n!==null){var o=up.get(n);return o!==void 0?o:(s={value:n,source:s,stack:Cg(s)},up.set(n,s),s)}return{value:n,source:s,stack:Cg(s)}}var nn=[],qr=0,Sh=0;function Eo(){for(var n=qr,s=Sh=qr=0;s<n;){var o=nn[s];nn[s++]=null;var h=nn[s];nn[s++]=null;var m=nn[s];nn[s++]=null;var p=nn[s];if(nn[s++]=null,h!==null&&m!==null){var S=h.pending;S===null?m.next=m:(m.next=S.next,S.next=m),h.pending=m}p!==0&&fp(o,m,p)}}function Do(n,s,o,h){nn[qr++]=n,nn[qr++]=s,nn[qr++]=o,nn[qr++]=h,Sh|=h,n.lanes|=h,n=n.alternate,n!==null&&(n.lanes|=h)}function wh(n,s,o,h){return Do(n,s,o,h),Ro(n)}function jr(n,s){return Do(n,null,null,s),Ro(n)}function fp(n,s,o){n.lanes|=o;var h=n.alternate;h!==null&&(h.lanes|=o);for(var m=!1,p=n.return;p!==null;)p.childLanes|=o,h=p.alternate,h!==null&&(h.childLanes|=o),p.tag===22&&(n=p.stateNode,n===null||n._visibility&1||(m=!0)),n=p,p=p.return;return n.tag===3?(p=n.stateNode,m&&s!==null&&(m=31-Ee(o),n=p.hiddenUpdates,h=n[m],h===null?n[m]=[s]:h.push(s),s.lane=o|536870912),p):null}function Ro(n){if(50<pa)throw pa=0,Oc=null,Error(i(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var Qr={};function Aw(n,s,o,h){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ji(n,s,o,h){return new Aw(n,s,o,h)}function kh(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Fn(n,s){var o=n.alternate;return o===null?(o=ji(n.tag,s,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=s,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,s=n.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function hp(n,s){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,s=o.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function Bo(n,s,o,h,m,p){var S=0;if(h=n,typeof n=="function")kh(n)&&(S=1);else if(typeof n=="string")S=_k(n,o,vt.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case st:return n=ji(31,o,s,m),n.elementType=st,n.lanes=p,n;case w:return rr(o.children,m,p,s);case _:S=8,m|=24;break;case O:return n=ji(12,o,s,m|2),n.elementType=O,n.lanes=p,n;case L:return n=ji(13,o,s,m),n.elementType=L,n.lanes=p,n;case Q:return n=ji(19,o,s,m),n.elementType=Q,n.lanes=p,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case M:case j:S=10;break t;case B:S=9;break t;case et:S=11;break t;case Z:S=14;break t;case nt:S=16,h=null;break t}S=29,o=Error(i(130,n===null?"null":typeof n,"")),h=null}return s=ji(S,o,s,m),s.elementType=n,s.type=h,s.lanes=p,s}function rr(n,s,o,h){return n=ji(7,n,h,s),n.lanes=o,n}function Ah(n,s,o){return n=ji(6,n,null,s),n.lanes=o,n}function Ch(n,s,o){return s=ji(4,n.children!==null?n.children:[],n.key,s),s.lanes=o,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var Yr=[],Pr=0,No=null,zo=0,ln=[],rn=0,sr=null,Wn=1,Jn="";function ar(n,s){Yr[Pr++]=zo,Yr[Pr++]=No,No=n,zo=s}function cp(n,s,o){ln[rn++]=Wn,ln[rn++]=Jn,ln[rn++]=sr,sr=n;var h=Wn;n=Jn;var m=32-Ee(h)-1;h&=~(1<<m),o+=1;var p=32-Ee(s)+m;if(30<p){var S=m-m%5;p=(h&(1<<S)-1).toString(32),h>>=S,m-=S,Wn=1<<32-Ee(s)+m|o<<m|h,Jn=p+n}else Wn=1<<p|o<<m|h,Jn=n}function _h(n){n.return!==null&&(ar(n,1),cp(n,1,0))}function Th(n){for(;n===No;)No=Yr[--Pr],Yr[Pr]=null,zo=Yr[--Pr],Yr[Pr]=null;for(;n===sr;)sr=ln[--rn],ln[rn]=null,Jn=ln[--rn],ln[rn]=null,Wn=ln[--rn],ln[rn]=null}var Si=null,De=null,re=!1,or=null,Mn=!1,Oh=Error(i(519));function ur(n){var s=Error(i(418,""));throw Ks(en(s,n)),Oh}function dp(n){var s=n.stateNode,o=n.type,h=n.memoizedProps;switch(s[wt]=n,s[pt]=h,o){case"dialog":Zt("cancel",s),Zt("close",s);break;case"iframe":case"object":case"embed":Zt("load",s);break;case"video":case"audio":for(o=0;o<va.length;o++)Zt(va[o],s);break;case"source":Zt("error",s);break;case"img":case"image":case"link":Zt("error",s),Zt("load",s);break;case"details":Zt("toggle",s);break;case"input":Zt("invalid",s),Og(s,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),So(s);break;case"select":Zt("invalid",s);break;case"textarea":Zt("invalid",s),Eg(s,h.value,h.defaultValue,h.children),So(s)}o=h.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||h.suppressHydrationWarning===!0||E1(s.textContent,o)?(h.popover!=null&&(Zt("beforetoggle",s),Zt("toggle",s)),h.onScroll!=null&&Zt("scroll",s),h.onScrollEnd!=null&&Zt("scrollend",s),h.onClick!=null&&(s.onclick=gu),s=!0):s=!1,s||ur(n)}function mp(n){for(Si=n.return;Si;)switch(Si.tag){case 5:case 13:Mn=!1;return;case 27:case 3:Mn=!0;return;default:Si=Si.return}}function Xs(n){if(n!==Si)return!1;if(!re)return mp(n),re=!0,!1;var s=n.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||Pc(n.type,n.memoizedProps)),o=!o),o&&De&&ur(n),mp(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));t:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8)if(o=n.data,o==="/$"){if(s===0){De=xn(n.nextSibling);break t}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;n=n.nextSibling}De=null}}else s===27?(s=De,Rl(n.type)?(n=Kc,Kc=null,De=n):De=s):De=Si?xn(n.stateNode.nextSibling):null;return!0}function Zs(){De=Si=null,re=!1}function gp(){var n=or;return n!==null&&(Bi===null?Bi=n:Bi.push.apply(Bi,n),or=null),n}function Ks(n){or===null?or=[n]:or.push(n)}var Mh=W(null),fr=null,$n=null;function yl(n,s,o){ht(Mh,s._currentValue),s._currentValue=o}function tl(n){n._currentValue=Mh.current,J(Mh)}function Eh(n,s,o){for(;n!==null;){var h=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),n===o)break;n=n.return}}function Dh(n,s,o,h){var m=n.child;for(m!==null&&(m.return=n);m!==null;){var p=m.dependencies;if(p!==null){var S=m.child;p=p.firstContext;t:for(;p!==null;){var A=p;p=m;for(var D=0;D<s.length;D++)if(A.context===s[D]){p.lanes|=o,A=p.alternate,A!==null&&(A.lanes|=o),Eh(p.return,o,n),h||(S=null);break t}p=A.next}}else if(m.tag===18){if(S=m.return,S===null)throw Error(i(341));S.lanes|=o,p=S.alternate,p!==null&&(p.lanes|=o),Eh(S,o,n),S=null}else S=m.child;if(S!==null)S.return=m;else for(S=m;S!==null;){if(S===n){S=null;break}if(m=S.sibling,m!==null){m.return=S.return,S=m;break}S=S.return}m=S}}function Is(n,s,o,h){n=null;for(var m=s,p=!1;m!==null;){if(!p){if((m.flags&524288)!==0)p=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var S=m.alternate;if(S===null)throw Error(i(387));if(S=S.memoizedProps,S!==null){var A=m.type;qi(m.pendingProps.value,S.value)||(n!==null?n.push(A):n=[A])}}else if(m===Wt.current){if(S=m.alternate,S===null)throw Error(i(387));S.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(n!==null?n.push(Aa):n=[Aa])}m=m.return}n!==null&&Dh(s,n,o,h),s.flags|=262144}function Lo(n){for(n=n.firstContext;n!==null;){if(!qi(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function hr(n){fr=n,$n=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function di(n){return pp(fr,n)}function Ho(n,s){return fr===null&&hr(n),pp(n,s)}function pp(n,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},$n===null){if(n===null)throw Error(i(308));$n=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else $n=$n.next=s;return o}var Cw=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(o,h){n.push(h)}};this.abort=function(){s.aborted=!0,n.forEach(function(o){return o()})}},_w=l.unstable_scheduleCallback,Tw=l.unstable_NormalPriority,Xe={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Rh(){return{controller:new Cw,data:new Map,refCount:0}}function Fs(n){n.refCount--,n.refCount===0&&_w(Tw,function(){n.controller.abort()})}var Ws=null,Bh=0,Gr=0,Xr=null;function Ow(n,s){if(Ws===null){var o=Ws=[];Bh=0,Gr=zc(),Xr={status:"pending",value:void 0,then:function(h){o.push(h)}}}return Bh++,s.then(yp,yp),s}function yp(){if(--Bh===0&&Ws!==null){Xr!==null&&(Xr.status="fulfilled");var n=Ws;Ws=null,Gr=0,Xr=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function Mw(n,s){var o=[],h={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return n.then(function(){h.status="fulfilled",h.value=s;for(var m=0;m<o.length;m++)(0,o[m])(s)},function(m){for(h.status="rejected",h.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),h}var vp=U.S;U.S=function(n,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&Ow(n,s),vp!==null&&vp(n,s)};var cr=W(null);function Nh(){var n=cr.current;return n!==null?n:ve.pooledCache}function Uo(n,s){s===null?ht(cr,cr.current):ht(cr,s.pool)}function bp(){var n=Nh();return n===null?null:{parent:Xe._currentValue,pool:n}}var Js=Error(i(460)),xp=Error(i(474)),Vo=Error(i(542)),zh={then:function(){}};function Sp(n){return n=n.status,n==="fulfilled"||n==="rejected"}function qo(){}function wp(n,s,o){switch(o=n[o],o===void 0?n.push(s):o!==s&&(s.then(qo,qo),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,Ap(n),n;default:if(typeof s.status=="string")s.then(qo,qo);else{if(n=ve,n!==null&&100<n.shellSuspendCounter)throw Error(i(482));n=s,n.status="pending",n.then(function(h){if(s.status==="pending"){var m=s;m.status="fulfilled",m.value=h}},function(h){if(s.status==="pending"){var m=s;m.status="rejected",m.reason=h}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,Ap(n),n}throw $s=s,Js}}var $s=null;function kp(){if($s===null)throw Error(i(459));var n=$s;return $s=null,n}function Ap(n){if(n===Js||n===Vo)throw Error(i(483))}var vl=!1;function Lh(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hh(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function bl(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function xl(n,s,o){var h=n.updateQueue;if(h===null)return null;if(h=h.shared,(ae&2)!==0){var m=h.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),h.pending=s,s=Ro(n),fp(n,null,o),s}return Do(n,h,s,o),Ro(n)}function ta(n,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var h=s.lanes;h&=n.pendingLanes,o|=h,s.lanes=o,v(n,o)}}function Uh(n,s){var o=n.updateQueue,h=n.alternate;if(h!==null&&(h=h.updateQueue,o===h)){var m=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var S={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?m=p=S:p=p.next=S,o=o.next}while(o!==null);p===null?m=p=s:p=p.next=s}else m=p=s;o={baseState:h.baseState,firstBaseUpdate:m,lastBaseUpdate:p,shared:h.shared,callbacks:h.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=s:n.next=s,o.lastBaseUpdate=s}var Vh=!1;function ea(){if(Vh){var n=Xr;if(n!==null)throw n}}function ia(n,s,o,h){Vh=!1;var m=n.updateQueue;vl=!1;var p=m.firstBaseUpdate,S=m.lastBaseUpdate,A=m.shared.pending;if(A!==null){m.shared.pending=null;var D=A,q=D.next;D.next=null,S===null?p=q:S.next=q,S=D;var it=n.alternate;it!==null&&(it=it.updateQueue,A=it.lastBaseUpdate,A!==S&&(A===null?it.firstBaseUpdate=q:A.next=q,it.lastBaseUpdate=D))}if(p!==null){var at=m.baseState;S=0,it=q=D=null,A=p;do{var P=A.lane&-536870913,X=P!==A.lane;if(X?($t&P)===P:(h&P)===P){P!==0&&P===Gr&&(Vh=!0),it!==null&&(it=it.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});t:{var Lt=n,Nt=A;P=s;var he=o;switch(Nt.tag){case 1:if(Lt=Nt.payload,typeof Lt=="function"){at=Lt.call(he,at,P);break t}at=Lt;break t;case 3:Lt.flags=Lt.flags&-65537|128;case 0:if(Lt=Nt.payload,P=typeof Lt=="function"?Lt.call(he,at,P):Lt,P==null)break t;at=g({},at,P);break t;case 2:vl=!0}}P=A.callback,P!==null&&(n.flags|=64,X&&(n.flags|=8192),X=m.callbacks,X===null?m.callbacks=[P]:X.push(P))}else X={lane:P,tag:A.tag,payload:A.payload,callback:A.callback,next:null},it===null?(q=it=X,D=at):it=it.next=X,S|=P;if(A=A.next,A===null){if(A=m.shared.pending,A===null)break;X=A,A=X.next,X.next=null,m.lastBaseUpdate=X,m.shared.pending=null}}while(!0);it===null&&(D=at),m.baseState=D,m.firstBaseUpdate=q,m.lastBaseUpdate=it,p===null&&(m.shared.lanes=0),Ol|=S,n.lanes=S,n.memoizedState=at}}function Cp(n,s){if(typeof n!="function")throw Error(i(191,n));n.call(s)}function _p(n,s){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)Cp(o[n],s)}var Zr=W(null),jo=W(0);function Tp(n,s){n=al,ht(jo,n),ht(Zr,s),al=n|s.baseLanes}function qh(){ht(jo,al),ht(Zr,Zr.current)}function jh(){al=jo.current,J(Zr),J(jo)}var Sl=0,Qt=null,ue=null,Qe=null,Qo=!1,Kr=!1,dr=!1,Yo=0,na=0,Ir=null,Ew=0;function ze(){throw Error(i(321))}function Qh(n,s){if(s===null)return!1;for(var o=0;o<s.length&&o<n.length;o++)if(!qi(n[o],s[o]))return!1;return!0}function Yh(n,s,o,h,m,p){return Sl=p,Qt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,U.H=n===null||n.memoizedState===null?f0:h0,dr=!1,p=o(h,m),dr=!1,Kr&&(p=Mp(s,o,h,m)),Op(n),p}function Op(n){U.H=Io;var s=ue!==null&&ue.next!==null;if(Sl=0,Qe=ue=Qt=null,Qo=!1,na=0,Ir=null,s)throw Error(i(300));n===null||Je||(n=n.dependencies,n!==null&&Lo(n)&&(Je=!0))}function Mp(n,s,o,h){Qt=n;var m=0;do{if(Kr&&(Ir=null),na=0,Kr=!1,25<=m)throw Error(i(301));if(m+=1,Qe=ue=null,n.updateQueue!=null){var p=n.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}U.H=Hw,p=s(o,h)}while(Kr);return p}function Dw(){var n=U.H,s=n.useState()[0];return s=typeof s.then=="function"?la(s):s,n=n.useState()[0],(ue!==null?ue.memoizedState:null)!==n&&(Qt.flags|=1024),s}function Ph(){var n=Yo!==0;return Yo=0,n}function Gh(n,s,o){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~o}function Xh(n){if(Qo){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Qo=!1}Sl=0,Qe=ue=Qt=null,Kr=!1,na=Yo=0,Ir=null}function Di(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qe===null?Qt.memoizedState=Qe=n:Qe=Qe.next=n,Qe}function Ye(){if(ue===null){var n=Qt.alternate;n=n!==null?n.memoizedState:null}else n=ue.next;var s=Qe===null?Qt.memoizedState:Qe.next;if(s!==null)Qe=s,ue=n;else{if(n===null)throw Qt.alternate===null?Error(i(467)):Error(i(310));ue=n,n={memoizedState:ue.memoizedState,baseState:ue.baseState,baseQueue:ue.baseQueue,queue:ue.queue,next:null},Qe===null?Qt.memoizedState=Qe=n:Qe=Qe.next=n}return Qe}function Zh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function la(n){var s=na;return na+=1,Ir===null&&(Ir=[]),n=wp(Ir,n,s),s=Qt,(Qe===null?s.memoizedState:Qe.next)===null&&(s=s.alternate,U.H=s===null||s.memoizedState===null?f0:h0),n}function Po(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return la(n);if(n.$$typeof===j)return di(n)}throw Error(i(438,String(n)))}function Kh(n){var s=null,o=Qt.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var h=Qt.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(s={data:h.data.map(function(m){return m.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=Zh(),Qt.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(n),h=0;h<n;h++)o[h]=mt;return s.index++,o}function el(n,s){return typeof s=="function"?s(n):s}function Go(n){var s=Ye();return Ih(s,ue,n)}function Ih(n,s,o){var h=n.queue;if(h===null)throw Error(i(311));h.lastRenderedReducer=o;var m=n.baseQueue,p=h.pending;if(p!==null){if(m!==null){var S=m.next;m.next=p.next,p.next=S}s.baseQueue=m=p,h.pending=null}if(p=n.baseState,m===null)n.memoizedState=p;else{s=m.next;var A=S=null,D=null,q=s,it=!1;do{var at=q.lane&-536870913;if(at!==q.lane?($t&at)===at:(Sl&at)===at){var P=q.revertLane;if(P===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),at===Gr&&(it=!0);else if((Sl&P)===P){q=q.next,P===Gr&&(it=!0);continue}else at={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},D===null?(A=D=at,S=p):D=D.next=at,Qt.lanes|=P,Ol|=P;at=q.action,dr&&o(p,at),p=q.hasEagerState?q.eagerState:o(p,at)}else P={lane:at,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},D===null?(A=D=P,S=p):D=D.next=P,Qt.lanes|=at,Ol|=at;q=q.next}while(q!==null&&q!==s);if(D===null?S=p:D.next=A,!qi(p,n.memoizedState)&&(Je=!0,it&&(o=Xr,o!==null)))throw o;n.memoizedState=p,n.baseState=S,n.baseQueue=D,h.lastRenderedState=p}return m===null&&(h.lanes=0),[n.memoizedState,h.dispatch]}function Fh(n){var s=Ye(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=n;var h=o.dispatch,m=o.pending,p=s.memoizedState;if(m!==null){o.pending=null;var S=m=m.next;do p=n(p,S.action),S=S.next;while(S!==m);qi(p,s.memoizedState)||(Je=!0),s.memoizedState=p,s.baseQueue===null&&(s.baseState=p),o.lastRenderedState=p}return[p,h]}function Ep(n,s,o){var h=Qt,m=Ye(),p=re;if(p){if(o===void 0)throw Error(i(407));o=o()}else o=s();var S=!qi((ue||m).memoizedState,o);S&&(m.memoizedState=o,Je=!0),m=m.queue;var A=Bp.bind(null,h,m,n);if(ra(2048,8,A,[n]),m.getSnapshot!==s||S||Qe!==null&&Qe.memoizedState.tag&1){if(h.flags|=2048,Fr(9,Xo(),Rp.bind(null,h,m,o,s),null),ve===null)throw Error(i(349));p||(Sl&124)!==0||Dp(h,s,o)}return o}function Dp(n,s,o){n.flags|=16384,n={getSnapshot:s,value:o},s=Qt.updateQueue,s===null?(s=Zh(),Qt.updateQueue=s,s.stores=[n]):(o=s.stores,o===null?s.stores=[n]:o.push(n))}function Rp(n,s,o,h){s.value=o,s.getSnapshot=h,Np(s)&&zp(n)}function Bp(n,s,o){return o(function(){Np(s)&&zp(n)})}function Np(n){var s=n.getSnapshot;n=n.value;try{var o=s();return!qi(n,o)}catch{return!0}}function zp(n){var s=jr(n,2);s!==null&&Xi(s,n,2)}function Wh(n){var s=Di();if(typeof n=="function"){var o=n;if(n=o(),dr){bi(!0);try{o()}finally{bi(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:el,lastRenderedState:n},s}function Lp(n,s,o,h){return n.baseState=o,Ih(n,ue,typeof h=="function"?h:el)}function Rw(n,s,o,h,m){if(Ko(n))throw Error(i(485));if(n=s.action,n!==null){var p={payload:m,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){p.listeners.push(S)}};U.T!==null?o(!0):p.isTransition=!1,h(p),o=s.pending,o===null?(p.next=s.pending=p,Hp(s,p)):(p.next=o.next,s.pending=o.next=p)}}function Hp(n,s){var o=s.action,h=s.payload,m=n.state;if(s.isTransition){var p=U.T,S={};U.T=S;try{var A=o(m,h),D=U.S;D!==null&&D(S,A),Up(n,s,A)}catch(q){Jh(n,s,q)}finally{U.T=p}}else try{p=o(m,h),Up(n,s,p)}catch(q){Jh(n,s,q)}}function Up(n,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(h){Vp(n,s,h)},function(h){return Jh(n,s,h)}):Vp(n,s,o)}function Vp(n,s,o){s.status="fulfilled",s.value=o,qp(s),n.state=o,s=n.pending,s!==null&&(o=s.next,o===s?n.pending=null:(o=o.next,s.next=o,Hp(n,o)))}function Jh(n,s,o){var h=n.pending;if(n.pending=null,h!==null){h=h.next;do s.status="rejected",s.reason=o,qp(s),s=s.next;while(s!==h)}n.action=null}function qp(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function jp(n,s){return s}function Qp(n,s){if(re){var o=ve.formState;if(o!==null){t:{var h=Qt;if(re){if(De){e:{for(var m=De,p=Mn;m.nodeType!==8;){if(!p){m=null;break e}if(m=xn(m.nextSibling),m===null){m=null;break e}}p=m.data,m=p==="F!"||p==="F"?m:null}if(m){De=xn(m.nextSibling),h=m.data==="F!";break t}}ur(h)}h=!1}h&&(s=o[0])}}return o=Di(),o.memoizedState=o.baseState=s,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jp,lastRenderedState:s},o.queue=h,o=a0.bind(null,Qt,h),h.dispatch=o,h=Wh(!1),p=nc.bind(null,Qt,!1,h.queue),h=Di(),m={state:s,dispatch:null,action:n,pending:null},h.queue=m,o=Rw.bind(null,Qt,m,p,o),m.dispatch=o,h.memoizedState=n,[s,o,!1]}function Yp(n){var s=Ye();return Pp(s,ue,n)}function Pp(n,s,o){if(s=Ih(n,s,jp)[0],n=Go(el)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var h=la(s)}catch(S){throw S===Js?Vo:S}else h=s;s=Ye();var m=s.queue,p=m.dispatch;return o!==s.memoizedState&&(Qt.flags|=2048,Fr(9,Xo(),Bw.bind(null,m,o),null)),[h,p,n]}function Bw(n,s){n.action=s}function Gp(n){var s=Ye(),o=ue;if(o!==null)return Pp(s,o,n);Ye(),s=s.memoizedState,o=Ye();var h=o.queue.dispatch;return o.memoizedState=n,[s,h,!1]}function Fr(n,s,o,h){return n={tag:n,create:o,deps:h,inst:s,next:null},s=Qt.updateQueue,s===null&&(s=Zh(),Qt.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=n.next=n:(h=o.next,o.next=n,n.next=h,s.lastEffect=n),n}function Xo(){return{destroy:void 0,resource:void 0}}function Xp(){return Ye().memoizedState}function Zo(n,s,o,h){var m=Di();h=h===void 0?null:h,Qt.flags|=n,m.memoizedState=Fr(1|s,Xo(),o,h)}function ra(n,s,o,h){var m=Ye();h=h===void 0?null:h;var p=m.memoizedState.inst;ue!==null&&h!==null&&Qh(h,ue.memoizedState.deps)?m.memoizedState=Fr(s,p,o,h):(Qt.flags|=n,m.memoizedState=Fr(1|s,p,o,h))}function Zp(n,s){Zo(8390656,8,n,s)}function Kp(n,s){ra(2048,8,n,s)}function Ip(n,s){return ra(4,2,n,s)}function Fp(n,s){return ra(4,4,n,s)}function Wp(n,s){if(typeof s=="function"){n=n();var o=s(n);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function Jp(n,s,o){o=o!=null?o.concat([n]):null,ra(4,4,Wp.bind(null,s,n),o)}function $h(){}function $p(n,s){var o=Ye();s=s===void 0?null:s;var h=o.memoizedState;return s!==null&&Qh(s,h[1])?h[0]:(o.memoizedState=[n,s],n)}function t0(n,s){var o=Ye();s=s===void 0?null:s;var h=o.memoizedState;if(s!==null&&Qh(s,h[1]))return h[0];if(h=n(),dr){bi(!0);try{n()}finally{bi(!1)}}return o.memoizedState=[h,s],h}function tc(n,s,o){return o===void 0||(Sl&1073741824)!==0?n.memoizedState=s:(n.memoizedState=o,n=n1(),Qt.lanes|=n,Ol|=n,o)}function e0(n,s,o,h){return qi(o,s)?o:Zr.current!==null?(n=tc(n,o,h),qi(n,s)||(Je=!0),n):(Sl&42)===0?(Je=!0,n.memoizedState=o):(n=n1(),Qt.lanes|=n,Ol|=n,s)}function i0(n,s,o,h,m){var p=$.p;$.p=p!==0&&8>p?p:8;var S=U.T,A={};U.T=A,nc(n,!1,s,o);try{var D=m(),q=U.S;if(q!==null&&q(A,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var it=Mw(D,h);sa(n,s,it,Gi(n))}else sa(n,s,h,Gi(n))}catch(at){sa(n,s,{then:function(){},status:"rejected",reason:at},Gi())}finally{$.p=p,U.T=S}}function Nw(){}function ec(n,s,o,h){if(n.tag!==5)throw Error(i(476));var m=n0(n).queue;i0(n,m,s,rt,o===null?Nw:function(){return l0(n),o(h)})}function n0(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:rt,baseState:rt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:el,lastRenderedState:rt},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:el,lastRenderedState:o},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function l0(n){var s=n0(n).next.queue;sa(n,s,{},Gi())}function ic(){return di(Aa)}function r0(){return Ye().memoizedState}function s0(){return Ye().memoizedState}function zw(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var o=Gi();n=bl(o);var h=xl(s,n,o);h!==null&&(Xi(h,s,o),ta(h,s,o)),s={cache:Rh()},n.payload=s;return}s=s.return}}function Lw(n,s,o){var h=Gi();o={lane:h,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Ko(n)?o0(s,o):(o=wh(n,s,o,h),o!==null&&(Xi(o,n,h),u0(o,s,h)))}function a0(n,s,o){var h=Gi();sa(n,s,o,h)}function sa(n,s,o,h){var m={lane:h,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Ko(n))o0(s,m);else{var p=n.alternate;if(n.lanes===0&&(p===null||p.lanes===0)&&(p=s.lastRenderedReducer,p!==null))try{var S=s.lastRenderedState,A=p(S,o);if(m.hasEagerState=!0,m.eagerState=A,qi(A,S))return Do(n,s,m,0),ve===null&&Eo(),!1}catch{}finally{}if(o=wh(n,s,m,h),o!==null)return Xi(o,n,h),u0(o,s,h),!0}return!1}function nc(n,s,o,h){if(h={lane:2,revertLane:zc(),action:h,hasEagerState:!1,eagerState:null,next:null},Ko(n)){if(s)throw Error(i(479))}else s=wh(n,o,h,2),s!==null&&Xi(s,n,2)}function Ko(n){var s=n.alternate;return n===Qt||s!==null&&s===Qt}function o0(n,s){Kr=Qo=!0;var o=n.pending;o===null?s.next=s:(s.next=o.next,o.next=s),n.pending=s}function u0(n,s,o){if((o&4194048)!==0){var h=s.lanes;h&=n.pendingLanes,o|=h,s.lanes=o,v(n,o)}}var Io={readContext:di,use:Po,useCallback:ze,useContext:ze,useEffect:ze,useImperativeHandle:ze,useLayoutEffect:ze,useInsertionEffect:ze,useMemo:ze,useReducer:ze,useRef:ze,useState:ze,useDebugValue:ze,useDeferredValue:ze,useTransition:ze,useSyncExternalStore:ze,useId:ze,useHostTransitionStatus:ze,useFormState:ze,useActionState:ze,useOptimistic:ze,useMemoCache:ze,useCacheRefresh:ze},f0={readContext:di,use:Po,useCallback:function(n,s){return Di().memoizedState=[n,s===void 0?null:s],n},useContext:di,useEffect:Zp,useImperativeHandle:function(n,s,o){o=o!=null?o.concat([n]):null,Zo(4194308,4,Wp.bind(null,s,n),o)},useLayoutEffect:function(n,s){return Zo(4194308,4,n,s)},useInsertionEffect:function(n,s){Zo(4,2,n,s)},useMemo:function(n,s){var o=Di();s=s===void 0?null:s;var h=n();if(dr){bi(!0);try{n()}finally{bi(!1)}}return o.memoizedState=[h,s],h},useReducer:function(n,s,o){var h=Di();if(o!==void 0){var m=o(s);if(dr){bi(!0);try{o(s)}finally{bi(!1)}}}else m=s;return h.memoizedState=h.baseState=m,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:m},h.queue=n,n=n.dispatch=Lw.bind(null,Qt,n),[h.memoizedState,n]},useRef:function(n){var s=Di();return n={current:n},s.memoizedState=n},useState:function(n){n=Wh(n);var s=n.queue,o=a0.bind(null,Qt,s);return s.dispatch=o,[n.memoizedState,o]},useDebugValue:$h,useDeferredValue:function(n,s){var o=Di();return tc(o,n,s)},useTransition:function(){var n=Wh(!1);return n=i0.bind(null,Qt,n.queue,!0,!1),Di().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,o){var h=Qt,m=Di();if(re){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),ve===null)throw Error(i(349));($t&124)!==0||Dp(h,s,o)}m.memoizedState=o;var p={value:o,getSnapshot:s};return m.queue=p,Zp(Bp.bind(null,h,p,n),[n]),h.flags|=2048,Fr(9,Xo(),Rp.bind(null,h,p,o,s),null),o},useId:function(){var n=Di(),s=ve.identifierPrefix;if(re){var o=Jn,h=Wn;o=(h&~(1<<32-Ee(h)-1)).toString(32)+o,s=""+s+"R"+o,o=Yo++,0<o&&(s+="H"+o.toString(32)),s+=""}else o=Ew++,s=""+s+"r"+o.toString(32)+"";return n.memoizedState=s},useHostTransitionStatus:ic,useFormState:Qp,useActionState:Qp,useOptimistic:function(n){var s=Di();s.memoizedState=s.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=nc.bind(null,Qt,!0,o),o.dispatch=s,[n,s]},useMemoCache:Kh,useCacheRefresh:function(){return Di().memoizedState=zw.bind(null,Qt)}},h0={readContext:di,use:Po,useCallback:$p,useContext:di,useEffect:Kp,useImperativeHandle:Jp,useInsertionEffect:Ip,useLayoutEffect:Fp,useMemo:t0,useReducer:Go,useRef:Xp,useState:function(){return Go(el)},useDebugValue:$h,useDeferredValue:function(n,s){var o=Ye();return e0(o,ue.memoizedState,n,s)},useTransition:function(){var n=Go(el)[0],s=Ye().memoizedState;return[typeof n=="boolean"?n:la(n),s]},useSyncExternalStore:Ep,useId:r0,useHostTransitionStatus:ic,useFormState:Yp,useActionState:Yp,useOptimistic:function(n,s){var o=Ye();return Lp(o,ue,n,s)},useMemoCache:Kh,useCacheRefresh:s0},Hw={readContext:di,use:Po,useCallback:$p,useContext:di,useEffect:Kp,useImperativeHandle:Jp,useInsertionEffect:Ip,useLayoutEffect:Fp,useMemo:t0,useReducer:Fh,useRef:Xp,useState:function(){return Fh(el)},useDebugValue:$h,useDeferredValue:function(n,s){var o=Ye();return ue===null?tc(o,n,s):e0(o,ue.memoizedState,n,s)},useTransition:function(){var n=Fh(el)[0],s=Ye().memoizedState;return[typeof n=="boolean"?n:la(n),s]},useSyncExternalStore:Ep,useId:r0,useHostTransitionStatus:ic,useFormState:Gp,useActionState:Gp,useOptimistic:function(n,s){var o=Ye();return ue!==null?Lp(o,ue,n,s):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:Kh,useCacheRefresh:s0},Wr=null,aa=0;function Fo(n){var s=aa;return aa+=1,Wr===null&&(Wr=[]),wp(Wr,n,s)}function oa(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function Wo(n,s){throw s.$$typeof===y?Error(i(525)):(n=Object.prototype.toString.call(s),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function c0(n){var s=n._init;return s(n._payload)}function d0(n){function s(H,N){if(n){var V=H.deletions;V===null?(H.deletions=[N],H.flags|=16):V.push(N)}}function o(H,N){if(!n)return null;for(;N!==null;)s(H,N),N=N.sibling;return null}function h(H){for(var N=new Map;H!==null;)H.key!==null?N.set(H.key,H):N.set(H.index,H),H=H.sibling;return N}function m(H,N){return H=Fn(H,N),H.index=0,H.sibling=null,H}function p(H,N,V){return H.index=V,n?(V=H.alternate,V!==null?(V=V.index,V<N?(H.flags|=67108866,N):V):(H.flags|=67108866,N)):(H.flags|=1048576,N)}function S(H){return n&&H.alternate===null&&(H.flags|=67108866),H}function A(H,N,V,lt){return N===null||N.tag!==6?(N=Ah(V,H.mode,lt),N.return=H,N):(N=m(N,V),N.return=H,N)}function D(H,N,V,lt){var Ot=V.type;return Ot===w?it(H,N,V.props.children,lt,V.key):N!==null&&(N.elementType===Ot||typeof Ot=="object"&&Ot!==null&&Ot.$$typeof===nt&&c0(Ot)===N.type)?(N=m(N,V.props),oa(N,V),N.return=H,N):(N=Bo(V.type,V.key,V.props,null,H.mode,lt),oa(N,V),N.return=H,N)}function q(H,N,V,lt){return N===null||N.tag!==4||N.stateNode.containerInfo!==V.containerInfo||N.stateNode.implementation!==V.implementation?(N=Ch(V,H.mode,lt),N.return=H,N):(N=m(N,V.children||[]),N.return=H,N)}function it(H,N,V,lt,Ot){return N===null||N.tag!==7?(N=rr(V,H.mode,lt,Ot),N.return=H,N):(N=m(N,V),N.return=H,N)}function at(H,N,V){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Ah(""+N,H.mode,V),N.return=H,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case b:return V=Bo(N.type,N.key,N.props,null,H.mode,V),oa(V,N),V.return=H,V;case x:return N=Ch(N,H.mode,V),N.return=H,N;case nt:var lt=N._init;return N=lt(N._payload),at(H,N,V)}if(gt(N)||G(N))return N=rr(N,H.mode,V,null),N.return=H,N;if(typeof N.then=="function")return at(H,Fo(N),V);if(N.$$typeof===j)return at(H,Ho(H,N),V);Wo(H,N)}return null}function P(H,N,V,lt){var Ot=N!==null?N.key:null;if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return Ot!==null?null:A(H,N,""+V,lt);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case b:return V.key===Ot?D(H,N,V,lt):null;case x:return V.key===Ot?q(H,N,V,lt):null;case nt:return Ot=V._init,V=Ot(V._payload),P(H,N,V,lt)}if(gt(V)||G(V))return Ot!==null?null:it(H,N,V,lt,null);if(typeof V.then=="function")return P(H,N,Fo(V),lt);if(V.$$typeof===j)return P(H,N,Ho(H,V),lt);Wo(H,V)}return null}function X(H,N,V,lt,Ot){if(typeof lt=="string"&&lt!==""||typeof lt=="number"||typeof lt=="bigint")return H=H.get(V)||null,A(N,H,""+lt,Ot);if(typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case b:return H=H.get(lt.key===null?V:lt.key)||null,D(N,H,lt,Ot);case x:return H=H.get(lt.key===null?V:lt.key)||null,q(N,H,lt,Ot);case nt:var Pt=lt._init;return lt=Pt(lt._payload),X(H,N,V,lt,Ot)}if(gt(lt)||G(lt))return H=H.get(V)||null,it(N,H,lt,Ot,null);if(typeof lt.then=="function")return X(H,N,V,Fo(lt),Ot);if(lt.$$typeof===j)return X(H,N,V,Ho(N,lt),Ot);Wo(N,lt)}return null}function Lt(H,N,V,lt){for(var Ot=null,Pt=null,Et=N,zt=N=0,ti=null;Et!==null&&zt<V.length;zt++){Et.index>zt?(ti=Et,Et=null):ti=Et.sibling;var ie=P(H,Et,V[zt],lt);if(ie===null){Et===null&&(Et=ti);break}n&&Et&&ie.alternate===null&&s(H,Et),N=p(ie,N,zt),Pt===null?Ot=ie:Pt.sibling=ie,Pt=ie,Et=ti}if(zt===V.length)return o(H,Et),re&&ar(H,zt),Ot;if(Et===null){for(;zt<V.length;zt++)Et=at(H,V[zt],lt),Et!==null&&(N=p(Et,N,zt),Pt===null?Ot=Et:Pt.sibling=Et,Pt=Et);return re&&ar(H,zt),Ot}for(Et=h(Et);zt<V.length;zt++)ti=X(Et,H,zt,V[zt],lt),ti!==null&&(n&&ti.alternate!==null&&Et.delete(ti.key===null?zt:ti.key),N=p(ti,N,zt),Pt===null?Ot=ti:Pt.sibling=ti,Pt=ti);return n&&Et.forEach(function(Hl){return s(H,Hl)}),re&&ar(H,zt),Ot}function Nt(H,N,V,lt){if(V==null)throw Error(i(151));for(var Ot=null,Pt=null,Et=N,zt=N=0,ti=null,ie=V.next();Et!==null&&!ie.done;zt++,ie=V.next()){Et.index>zt?(ti=Et,Et=null):ti=Et.sibling;var Hl=P(H,Et,ie.value,lt);if(Hl===null){Et===null&&(Et=ti);break}n&&Et&&Hl.alternate===null&&s(H,Et),N=p(Hl,N,zt),Pt===null?Ot=Hl:Pt.sibling=Hl,Pt=Hl,Et=ti}if(ie.done)return o(H,Et),re&&ar(H,zt),Ot;if(Et===null){for(;!ie.done;zt++,ie=V.next())ie=at(H,ie.value,lt),ie!==null&&(N=p(ie,N,zt),Pt===null?Ot=ie:Pt.sibling=ie,Pt=ie);return re&&ar(H,zt),Ot}for(Et=h(Et);!ie.done;zt++,ie=V.next())ie=X(Et,H,zt,ie.value,lt),ie!==null&&(n&&ie.alternate!==null&&Et.delete(ie.key===null?zt:ie.key),N=p(ie,N,zt),Pt===null?Ot=ie:Pt.sibling=ie,Pt=ie);return n&&Et.forEach(function(Uk){return s(H,Uk)}),re&&ar(H,zt),Ot}function he(H,N,V,lt){if(typeof V=="object"&&V!==null&&V.type===w&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case b:t:{for(var Ot=V.key;N!==null;){if(N.key===Ot){if(Ot=V.type,Ot===w){if(N.tag===7){o(H,N.sibling),lt=m(N,V.props.children),lt.return=H,H=lt;break t}}else if(N.elementType===Ot||typeof Ot=="object"&&Ot!==null&&Ot.$$typeof===nt&&c0(Ot)===N.type){o(H,N.sibling),lt=m(N,V.props),oa(lt,V),lt.return=H,H=lt;break t}o(H,N);break}else s(H,N);N=N.sibling}V.type===w?(lt=rr(V.props.children,H.mode,lt,V.key),lt.return=H,H=lt):(lt=Bo(V.type,V.key,V.props,null,H.mode,lt),oa(lt,V),lt.return=H,H=lt)}return S(H);case x:t:{for(Ot=V.key;N!==null;){if(N.key===Ot)if(N.tag===4&&N.stateNode.containerInfo===V.containerInfo&&N.stateNode.implementation===V.implementation){o(H,N.sibling),lt=m(N,V.children||[]),lt.return=H,H=lt;break t}else{o(H,N);break}else s(H,N);N=N.sibling}lt=Ch(V,H.mode,lt),lt.return=H,H=lt}return S(H);case nt:return Ot=V._init,V=Ot(V._payload),he(H,N,V,lt)}if(gt(V))return Lt(H,N,V,lt);if(G(V)){if(Ot=G(V),typeof Ot!="function")throw Error(i(150));return V=Ot.call(V),Nt(H,N,V,lt)}if(typeof V.then=="function")return he(H,N,Fo(V),lt);if(V.$$typeof===j)return he(H,N,Ho(H,V),lt);Wo(H,V)}return typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint"?(V=""+V,N!==null&&N.tag===6?(o(H,N.sibling),lt=m(N,V),lt.return=H,H=lt):(o(H,N),lt=Ah(V,H.mode,lt),lt.return=H,H=lt),S(H)):o(H,N)}return function(H,N,V,lt){try{aa=0;var Ot=he(H,N,V,lt);return Wr=null,Ot}catch(Et){if(Et===Js||Et===Vo)throw Et;var Pt=ji(29,Et,null,H.mode);return Pt.lanes=lt,Pt.return=H,Pt}finally{}}}var Jr=d0(!0),m0=d0(!1),sn=W(null),En=null;function wl(n){var s=n.alternate;ht(Ze,Ze.current&1),ht(sn,n),En===null&&(s===null||Zr.current!==null||s.memoizedState!==null)&&(En=n)}function g0(n){if(n.tag===22){if(ht(Ze,Ze.current),ht(sn,n),En===null){var s=n.alternate;s!==null&&s.memoizedState!==null&&(En=n)}}else kl()}function kl(){ht(Ze,Ze.current),ht(sn,sn.current)}function il(n){J(sn),En===n&&(En=null),J(Ze)}var Ze=W(0);function Jo(n){for(var s=n;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Zc(o)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function lc(n,s,o,h){s=n.memoizedState,o=o(h,s),o=o==null?s:g({},s,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var rc={enqueueSetState:function(n,s,o){n=n._reactInternals;var h=Gi(),m=bl(h);m.payload=s,o!=null&&(m.callback=o),s=xl(n,m,h),s!==null&&(Xi(s,n,h),ta(s,n,h))},enqueueReplaceState:function(n,s,o){n=n._reactInternals;var h=Gi(),m=bl(h);m.tag=1,m.payload=s,o!=null&&(m.callback=o),s=xl(n,m,h),s!==null&&(Xi(s,n,h),ta(s,n,h))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var o=Gi(),h=bl(o);h.tag=2,s!=null&&(h.callback=s),s=xl(n,h,o),s!==null&&(Xi(s,n,o),ta(s,n,o))}};function p0(n,s,o,h,m,p,S){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(h,p,S):s.prototype&&s.prototype.isPureReactComponent?!Ps(o,h)||!Ps(m,p):!0}function y0(n,s,o,h){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,h),s.state!==n&&rc.enqueueReplaceState(s,s.state,null)}function mr(n,s){var o=s;if("ref"in s){o={};for(var h in s)h!=="ref"&&(o[h]=s[h])}if(n=n.defaultProps){o===s&&(o=g({},o));for(var m in n)o[m]===void 0&&(o[m]=n[m])}return o}var $o=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function v0(n){$o(n)}function b0(n){console.error(n)}function x0(n){$o(n)}function tu(n,s){try{var o=n.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(h){setTimeout(function(){throw h})}}function S0(n,s,o){try{var h=n.onCaughtError;h(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function sc(n,s,o){return o=bl(o),o.tag=3,o.payload={element:null},o.callback=function(){tu(n,s)},o}function w0(n){return n=bl(n),n.tag=3,n}function k0(n,s,o,h){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var p=h.value;n.payload=function(){return m(p)},n.callback=function(){S0(s,o,h)}}var S=o.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(n.callback=function(){S0(s,o,h),typeof m!="function"&&(Ml===null?Ml=new Set([this]):Ml.add(this));var A=h.stack;this.componentDidCatch(h.value,{componentStack:A!==null?A:""})})}function Uw(n,s,o,h,m){if(o.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(s=o.alternate,s!==null&&Is(s,o,m,!0),o=sn.current,o!==null){switch(o.tag){case 13:return En===null?Ec():o.alternate===null&&Re===0&&(Re=3),o.flags&=-257,o.flags|=65536,o.lanes=m,h===zh?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([h]):s.add(h),Rc(n,h,m)),!1;case 22:return o.flags|=65536,h===zh?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([h])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([h]):o.add(h)),Rc(n,h,m)),!1}throw Error(i(435,o.tag))}return Rc(n,h,m),Ec(),!1}if(re)return s=sn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=m,h!==Oh&&(n=Error(i(422),{cause:h}),Ks(en(n,o)))):(h!==Oh&&(s=Error(i(423),{cause:h}),Ks(en(s,o))),n=n.current.alternate,n.flags|=65536,m&=-m,n.lanes|=m,h=en(h,o),m=sc(n.stateNode,h,m),Uh(n,m),Re!==4&&(Re=2)),!1;var p=Error(i(520),{cause:h});if(p=en(p,o),ga===null?ga=[p]:ga.push(p),Re!==4&&(Re=2),s===null)return!0;h=en(h,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,n=m&-m,o.lanes|=n,n=sc(o.stateNode,h,n),Uh(o,n),!1;case 1:if(s=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Ml===null||!Ml.has(p))))return o.flags|=65536,m&=-m,o.lanes|=m,m=w0(m),k0(m,n,o,h),Uh(o,m),!1}o=o.return}while(o!==null);return!1}var A0=Error(i(461)),Je=!1;function ni(n,s,o,h){s.child=n===null?m0(s,null,o,h):Jr(s,n.child,o,h)}function C0(n,s,o,h,m){o=o.render;var p=s.ref;if("ref"in h){var S={};for(var A in h)A!=="ref"&&(S[A]=h[A])}else S=h;return hr(s),h=Yh(n,s,o,S,p,m),A=Ph(),n!==null&&!Je?(Gh(n,s,m),nl(n,s,m)):(re&&A&&_h(s),s.flags|=1,ni(n,s,h,m),s.child)}function _0(n,s,o,h,m){if(n===null){var p=o.type;return typeof p=="function"&&!kh(p)&&p.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=p,T0(n,s,p,h,m)):(n=Bo(o.type,null,h,s,s.mode,m),n.ref=s.ref,n.return=s,s.child=n)}if(p=n.child,!mc(n,m)){var S=p.memoizedProps;if(o=o.compare,o=o!==null?o:Ps,o(S,h)&&n.ref===s.ref)return nl(n,s,m)}return s.flags|=1,n=Fn(p,h),n.ref=s.ref,n.return=s,s.child=n}function T0(n,s,o,h,m){if(n!==null){var p=n.memoizedProps;if(Ps(p,h)&&n.ref===s.ref)if(Je=!1,s.pendingProps=h=p,mc(n,m))(n.flags&131072)!==0&&(Je=!0);else return s.lanes=n.lanes,nl(n,s,m)}return ac(n,s,o,h,m)}function O0(n,s,o){var h=s.pendingProps,m=h.children,p=n!==null?n.memoizedState:null;if(h.mode==="hidden"){if((s.flags&128)!==0){if(h=p!==null?p.baseLanes|o:o,n!==null){for(m=s.child=n.child,p=0;m!==null;)p=p|m.lanes|m.childLanes,m=m.sibling;s.childLanes=p&~h}else s.childLanes=0,s.child=null;return M0(n,s,h,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&Uo(s,p!==null?p.cachePool:null),p!==null?Tp(s,p):qh(),g0(s);else return s.lanes=s.childLanes=536870912,M0(n,s,p!==null?p.baseLanes|o:o,o)}else p!==null?(Uo(s,p.cachePool),Tp(s,p),kl(),s.memoizedState=null):(n!==null&&Uo(s,null),qh(),kl());return ni(n,s,m,o),s.child}function M0(n,s,o,h){var m=Nh();return m=m===null?null:{parent:Xe._currentValue,pool:m},s.memoizedState={baseLanes:o,cachePool:m},n!==null&&Uo(s,null),qh(),g0(s),n!==null&&Is(n,s,h,!0),null}function eu(n,s){var o=s.ref;if(o===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(n===null||n.ref!==o)&&(s.flags|=4194816)}}function ac(n,s,o,h,m){return hr(s),o=Yh(n,s,o,h,void 0,m),h=Ph(),n!==null&&!Je?(Gh(n,s,m),nl(n,s,m)):(re&&h&&_h(s),s.flags|=1,ni(n,s,o,m),s.child)}function E0(n,s,o,h,m,p){return hr(s),s.updateQueue=null,o=Mp(s,h,o,m),Op(n),h=Ph(),n!==null&&!Je?(Gh(n,s,p),nl(n,s,p)):(re&&h&&_h(s),s.flags|=1,ni(n,s,o,p),s.child)}function D0(n,s,o,h,m){if(hr(s),s.stateNode===null){var p=Qr,S=o.contextType;typeof S=="object"&&S!==null&&(p=di(S)),p=new o(h,p),s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=rc,s.stateNode=p,p._reactInternals=s,p=s.stateNode,p.props=h,p.state=s.memoizedState,p.refs={},Lh(s),S=o.contextType,p.context=typeof S=="object"&&S!==null?di(S):Qr,p.state=s.memoizedState,S=o.getDerivedStateFromProps,typeof S=="function"&&(lc(s,o,S,h),p.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(S=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),S!==p.state&&rc.enqueueReplaceState(p,p.state,null),ia(s,h,p,m),ea(),p.state=s.memoizedState),typeof p.componentDidMount=="function"&&(s.flags|=4194308),h=!0}else if(n===null){p=s.stateNode;var A=s.memoizedProps,D=mr(o,A);p.props=D;var q=p.context,it=o.contextType;S=Qr,typeof it=="object"&&it!==null&&(S=di(it));var at=o.getDerivedStateFromProps;it=typeof at=="function"||typeof p.getSnapshotBeforeUpdate=="function",A=s.pendingProps!==A,it||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(A||q!==S)&&y0(s,p,h,S),vl=!1;var P=s.memoizedState;p.state=P,ia(s,h,p,m),ea(),q=s.memoizedState,A||P!==q||vl?(typeof at=="function"&&(lc(s,o,at,h),q=s.memoizedState),(D=vl||p0(s,o,D,h,P,q,S))?(it||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(s.flags|=4194308)):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=q),p.props=h,p.state=q,p.context=S,h=D):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{p=s.stateNode,Hh(n,s),S=s.memoizedProps,it=mr(o,S),p.props=it,at=s.pendingProps,P=p.context,q=o.contextType,D=Qr,typeof q=="object"&&q!==null&&(D=di(q)),A=o.getDerivedStateFromProps,(q=typeof A=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S!==at||P!==D)&&y0(s,p,h,D),vl=!1,P=s.memoizedState,p.state=P,ia(s,h,p,m),ea();var X=s.memoizedState;S!==at||P!==X||vl||n!==null&&n.dependencies!==null&&Lo(n.dependencies)?(typeof A=="function"&&(lc(s,o,A,h),X=s.memoizedState),(it=vl||p0(s,o,it,h,P,X,D)||n!==null&&n.dependencies!==null&&Lo(n.dependencies))?(q||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(h,X,D),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(h,X,D)),typeof p.componentDidUpdate=="function"&&(s.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof p.componentDidUpdate!="function"||S===n.memoizedProps&&P===n.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||S===n.memoizedProps&&P===n.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=X),p.props=h,p.state=X,p.context=D,h=it):(typeof p.componentDidUpdate!="function"||S===n.memoizedProps&&P===n.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||S===n.memoizedProps&&P===n.memoizedState||(s.flags|=1024),h=!1)}return p=h,eu(n,s),h=(s.flags&128)!==0,p||h?(p=s.stateNode,o=h&&typeof o.getDerivedStateFromError!="function"?null:p.render(),s.flags|=1,n!==null&&h?(s.child=Jr(s,n.child,null,m),s.child=Jr(s,null,o,m)):ni(n,s,o,m),s.memoizedState=p.state,n=s.child):n=nl(n,s,m),n}function R0(n,s,o,h){return Zs(),s.flags|=256,ni(n,s,o,h),s.child}var oc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function uc(n){return{baseLanes:n,cachePool:bp()}}function fc(n,s,o){return n=n!==null?n.childLanes&~o:0,s&&(n|=an),n}function B0(n,s,o){var h=s.pendingProps,m=!1,p=(s.flags&128)!==0,S;if((S=p)||(S=n!==null&&n.memoizedState===null?!1:(Ze.current&2)!==0),S&&(m=!0,s.flags&=-129),S=(s.flags&32)!==0,s.flags&=-33,n===null){if(re){if(m?wl(s):kl(),re){var A=De,D;if(D=A){t:{for(D=A,A=Mn;D.nodeType!==8;){if(!A){A=null;break t}if(D=xn(D.nextSibling),D===null){A=null;break t}}A=D}A!==null?(s.memoizedState={dehydrated:A,treeContext:sr!==null?{id:Wn,overflow:Jn}:null,retryLane:536870912,hydrationErrors:null},D=ji(18,null,null,0),D.stateNode=A,D.return=s,s.child=D,Si=s,De=null,D=!0):D=!1}D||ur(s)}if(A=s.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return Zc(A)?s.lanes=32:s.lanes=536870912,null;il(s)}return A=h.children,h=h.fallback,m?(kl(),m=s.mode,A=iu({mode:"hidden",children:A},m),h=rr(h,m,o,null),A.return=s,h.return=s,A.sibling=h,s.child=A,m=s.child,m.memoizedState=uc(o),m.childLanes=fc(n,S,o),s.memoizedState=oc,h):(wl(s),hc(s,A))}if(D=n.memoizedState,D!==null&&(A=D.dehydrated,A!==null)){if(p)s.flags&256?(wl(s),s.flags&=-257,s=cc(n,s,o)):s.memoizedState!==null?(kl(),s.child=n.child,s.flags|=128,s=null):(kl(),m=h.fallback,A=s.mode,h=iu({mode:"visible",children:h.children},A),m=rr(m,A,o,null),m.flags|=2,h.return=s,m.return=s,h.sibling=m,s.child=h,Jr(s,n.child,null,o),h=s.child,h.memoizedState=uc(o),h.childLanes=fc(n,S,o),s.memoizedState=oc,s=m);else if(wl(s),Zc(A)){if(S=A.nextSibling&&A.nextSibling.dataset,S)var q=S.dgst;S=q,h=Error(i(419)),h.stack="",h.digest=S,Ks({value:h,source:null,stack:null}),s=cc(n,s,o)}else if(Je||Is(n,s,o,!1),S=(o&n.childLanes)!==0,Je||S){if(S=ve,S!==null&&(h=o&-o,h=(h&42)!==0?1:K(h),h=(h&(S.suspendedLanes|o))!==0?0:h,h!==0&&h!==D.retryLane))throw D.retryLane=h,jr(n,h),Xi(S,n,h),A0;A.data==="$?"||Ec(),s=cc(n,s,o)}else A.data==="$?"?(s.flags|=192,s.child=n.child,s=null):(n=D.treeContext,De=xn(A.nextSibling),Si=s,re=!0,or=null,Mn=!1,n!==null&&(ln[rn++]=Wn,ln[rn++]=Jn,ln[rn++]=sr,Wn=n.id,Jn=n.overflow,sr=s),s=hc(s,h.children),s.flags|=4096);return s}return m?(kl(),m=h.fallback,A=s.mode,D=n.child,q=D.sibling,h=Fn(D,{mode:"hidden",children:h.children}),h.subtreeFlags=D.subtreeFlags&65011712,q!==null?m=Fn(q,m):(m=rr(m,A,o,null),m.flags|=2),m.return=s,h.return=s,h.sibling=m,s.child=h,h=m,m=s.child,A=n.child.memoizedState,A===null?A=uc(o):(D=A.cachePool,D!==null?(q=Xe._currentValue,D=D.parent!==q?{parent:q,pool:q}:D):D=bp(),A={baseLanes:A.baseLanes|o,cachePool:D}),m.memoizedState=A,m.childLanes=fc(n,S,o),s.memoizedState=oc,h):(wl(s),o=n.child,n=o.sibling,o=Fn(o,{mode:"visible",children:h.children}),o.return=s,o.sibling=null,n!==null&&(S=s.deletions,S===null?(s.deletions=[n],s.flags|=16):S.push(n)),s.child=o,s.memoizedState=null,o)}function hc(n,s){return s=iu({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function iu(n,s){return n=ji(22,n,null,s),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function cc(n,s,o){return Jr(s,n.child,null,o),n=hc(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function N0(n,s,o){n.lanes|=s;var h=n.alternate;h!==null&&(h.lanes|=s),Eh(n.return,s,o)}function dc(n,s,o,h,m){var p=n.memoizedState;p===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:o,tailMode:m}:(p.isBackwards=s,p.rendering=null,p.renderingStartTime=0,p.last=h,p.tail=o,p.tailMode=m)}function z0(n,s,o){var h=s.pendingProps,m=h.revealOrder,p=h.tail;if(ni(n,s,h.children,o),h=Ze.current,(h&2)!==0)h=h&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)t:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&N0(n,o,s);else if(n.tag===19)N0(n,o,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break t;for(;n.sibling===null;){if(n.return===null||n.return===s)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}h&=1}switch(ht(Ze,h),m){case"forwards":for(o=s.child,m=null;o!==null;)n=o.alternate,n!==null&&Jo(n)===null&&(m=o),o=o.sibling;o=m,o===null?(m=s.child,s.child=null):(m=o.sibling,o.sibling=null),dc(s,!1,m,o,p);break;case"backwards":for(o=null,m=s.child,s.child=null;m!==null;){if(n=m.alternate,n!==null&&Jo(n)===null){s.child=m;break}n=m.sibling,m.sibling=o,o=m,m=n}dc(s,!0,o,null,p);break;case"together":dc(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function nl(n,s,o){if(n!==null&&(s.dependencies=n.dependencies),Ol|=s.lanes,(o&s.childLanes)===0)if(n!==null){if(Is(n,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(i(153));if(s.child!==null){for(n=s.child,o=Fn(n,n.pendingProps),s.child=o,o.return=s;n.sibling!==null;)n=n.sibling,o=o.sibling=Fn(n,n.pendingProps),o.return=s;o.sibling=null}return s.child}function mc(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&Lo(n)))}function Vw(n,s,o){switch(s.tag){case 3:Ht(s,s.stateNode.containerInfo),yl(s,Xe,n.memoizedState.cache),Zs();break;case 27:case 5:Me(s);break;case 4:Ht(s,s.stateNode.containerInfo);break;case 10:yl(s,s.type,s.memoizedProps.value);break;case 13:var h=s.memoizedState;if(h!==null)return h.dehydrated!==null?(wl(s),s.flags|=128,null):(o&s.child.childLanes)!==0?B0(n,s,o):(wl(s),n=nl(n,s,o),n!==null?n.sibling:null);wl(s);break;case 19:var m=(n.flags&128)!==0;if(h=(o&s.childLanes)!==0,h||(Is(n,s,o,!1),h=(o&s.childLanes)!==0),m){if(h)return z0(n,s,o);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ht(Ze,Ze.current),h)break;return null;case 22:case 23:return s.lanes=0,O0(n,s,o);case 24:yl(s,Xe,n.memoizedState.cache)}return nl(n,s,o)}function L0(n,s,o){if(n!==null)if(n.memoizedProps!==s.pendingProps)Je=!0;else{if(!mc(n,o)&&(s.flags&128)===0)return Je=!1,Vw(n,s,o);Je=(n.flags&131072)!==0}else Je=!1,re&&(s.flags&1048576)!==0&&cp(s,zo,s.index);switch(s.lanes=0,s.tag){case 16:t:{n=s.pendingProps;var h=s.elementType,m=h._init;if(h=m(h._payload),s.type=h,typeof h=="function")kh(h)?(n=mr(h,n),s.tag=1,s=D0(null,s,h,n,o)):(s.tag=0,s=ac(null,s,h,n,o));else{if(h!=null){if(m=h.$$typeof,m===et){s.tag=11,s=C0(null,s,h,n,o);break t}else if(m===Z){s.tag=14,s=_0(null,s,h,n,o);break t}}throw s=St(h)||h,Error(i(306,s,""))}}return s;case 0:return ac(n,s,s.type,s.pendingProps,o);case 1:return h=s.type,m=mr(h,s.pendingProps),D0(n,s,h,m,o);case 3:t:{if(Ht(s,s.stateNode.containerInfo),n===null)throw Error(i(387));h=s.pendingProps;var p=s.memoizedState;m=p.element,Hh(n,s),ia(s,h,null,o);var S=s.memoizedState;if(h=S.cache,yl(s,Xe,h),h!==p.cache&&Dh(s,[Xe],o,!0),ea(),h=S.element,p.isDehydrated)if(p={element:h,isDehydrated:!1,cache:S.cache},s.updateQueue.baseState=p,s.memoizedState=p,s.flags&256){s=R0(n,s,h,o);break t}else if(h!==m){m=en(Error(i(424)),s),Ks(m),s=R0(n,s,h,o);break t}else{switch(n=s.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(De=xn(n.firstChild),Si=s,re=!0,or=null,Mn=!0,o=m0(s,null,h,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Zs(),h===m){s=nl(n,s,o);break t}ni(n,s,h,o)}s=s.child}return s;case 26:return eu(n,s),n===null?(o=q1(s.type,null,s.pendingProps,null))?s.memoizedState=o:re||(o=s.type,n=s.pendingProps,h=pu(Mt.current).createElement(o),h[wt]=s,h[pt]=n,ri(h,o,n),le(h),s.stateNode=h):s.memoizedState=q1(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return Me(s),n===null&&re&&(h=s.stateNode=H1(s.type,s.pendingProps,Mt.current),Si=s,Mn=!0,m=De,Rl(s.type)?(Kc=m,De=xn(h.firstChild)):De=m),ni(n,s,s.pendingProps.children,o),eu(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&re&&((m=h=De)&&(h=dk(h,s.type,s.pendingProps,Mn),h!==null?(s.stateNode=h,Si=s,De=xn(h.firstChild),Mn=!1,m=!0):m=!1),m||ur(s)),Me(s),m=s.type,p=s.pendingProps,S=n!==null?n.memoizedProps:null,h=p.children,Pc(m,p)?h=null:S!==null&&Pc(m,S)&&(s.flags|=32),s.memoizedState!==null&&(m=Yh(n,s,Dw,null,null,o),Aa._currentValue=m),eu(n,s),ni(n,s,h,o),s.child;case 6:return n===null&&re&&((n=o=De)&&(o=mk(o,s.pendingProps,Mn),o!==null?(s.stateNode=o,Si=s,De=null,n=!0):n=!1),n||ur(s)),null;case 13:return B0(n,s,o);case 4:return Ht(s,s.stateNode.containerInfo),h=s.pendingProps,n===null?s.child=Jr(s,null,h,o):ni(n,s,h,o),s.child;case 11:return C0(n,s,s.type,s.pendingProps,o);case 7:return ni(n,s,s.pendingProps,o),s.child;case 8:return ni(n,s,s.pendingProps.children,o),s.child;case 12:return ni(n,s,s.pendingProps.children,o),s.child;case 10:return h=s.pendingProps,yl(s,s.type,h.value),ni(n,s,h.children,o),s.child;case 9:return m=s.type._context,h=s.pendingProps.children,hr(s),m=di(m),h=h(m),s.flags|=1,ni(n,s,h,o),s.child;case 14:return _0(n,s,s.type,s.pendingProps,o);case 15:return T0(n,s,s.type,s.pendingProps,o);case 19:return z0(n,s,o);case 31:return h=s.pendingProps,o=s.mode,h={mode:h.mode,children:h.children},n===null?(o=iu(h,o),o.ref=s.ref,s.child=o,o.return=s,s=o):(o=Fn(n.child,h),o.ref=s.ref,s.child=o,o.return=s,s=o),s;case 22:return O0(n,s,o);case 24:return hr(s),h=di(Xe),n===null?(m=Nh(),m===null&&(m=ve,p=Rh(),m.pooledCache=p,p.refCount++,p!==null&&(m.pooledCacheLanes|=o),m=p),s.memoizedState={parent:h,cache:m},Lh(s),yl(s,Xe,m)):((n.lanes&o)!==0&&(Hh(n,s),ia(s,null,null,o),ea()),m=n.memoizedState,p=s.memoizedState,m.parent!==h?(m={parent:h,cache:h},s.memoizedState=m,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=m),yl(s,Xe,h)):(h=p.cache,yl(s,Xe,h),h!==m.cache&&Dh(s,[Xe],o,!0))),ni(n,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function ll(n){n.flags|=4}function H0(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!G1(s)){if(s=sn.current,s!==null&&(($t&4194048)===$t?En!==null:($t&62914560)!==$t&&($t&536870912)===0||s!==En))throw $s=zh,xp;n.flags|=8192}}function nu(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?z():536870912,n.lanes|=s,is|=s)}function ua(n,s){if(!re)switch(n.tailMode){case"hidden":s=n.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var h=null;o!==null;)o.alternate!==null&&(h=o),o=o.sibling;h===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:h.sibling=null}}function Oe(n){var s=n.alternate!==null&&n.alternate.child===n.child,o=0,h=0;if(s)for(var m=n.child;m!==null;)o|=m.lanes|m.childLanes,h|=m.subtreeFlags&65011712,h|=m.flags&65011712,m.return=n,m=m.sibling;else for(m=n.child;m!==null;)o|=m.lanes|m.childLanes,h|=m.subtreeFlags,h|=m.flags,m.return=n,m=m.sibling;return n.subtreeFlags|=h,n.childLanes=o,s}function qw(n,s,o){var h=s.pendingProps;switch(Th(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oe(s),null;case 1:return Oe(s),null;case 3:return o=s.stateNode,h=null,n!==null&&(h=n.memoizedState.cache),s.memoizedState.cache!==h&&(s.flags|=2048),tl(Xe),Ae(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(Xs(s)?ll(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,gp())),Oe(s),null;case 26:return o=s.memoizedState,n===null?(ll(s),o!==null?(Oe(s),H0(s,o)):(Oe(s),s.flags&=-16777217)):o?o!==n.memoizedState?(ll(s),Oe(s),H0(s,o)):(Oe(s),s.flags&=-16777217):(n.memoizedProps!==h&&ll(s),Oe(s),s.flags&=-16777217),null;case 27:te(s),o=Mt.current;var m=s.type;if(n!==null&&s.stateNode!=null)n.memoizedProps!==h&&ll(s);else{if(!h){if(s.stateNode===null)throw Error(i(166));return Oe(s),null}n=vt.current,Xs(s)?dp(s):(n=H1(m,h,o),s.stateNode=n,ll(s))}return Oe(s),null;case 5:if(te(s),o=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==h&&ll(s);else{if(!h){if(s.stateNode===null)throw Error(i(166));return Oe(s),null}if(n=vt.current,Xs(s))dp(s);else{switch(m=pu(Mt.current),n){case 1:n=m.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:n=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":n=m.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":n=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":n=m.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof h.is=="string"?m.createElement("select",{is:h.is}):m.createElement("select"),h.multiple?n.multiple=!0:h.size&&(n.size=h.size);break;default:n=typeof h.is=="string"?m.createElement(o,{is:h.is}):m.createElement(o)}}n[wt]=s,n[pt]=h;t:for(m=s.child;m!==null;){if(m.tag===5||m.tag===6)n.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===s)break t;for(;m.sibling===null;){if(m.return===null||m.return===s)break t;m=m.return}m.sibling.return=m.return,m=m.sibling}s.stateNode=n;t:switch(ri(n,o,h),o){case"button":case"input":case"select":case"textarea":n=!!h.autoFocus;break t;case"img":n=!0;break t;default:n=!1}n&&ll(s)}}return Oe(s),s.flags&=-16777217,null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==h&&ll(s);else{if(typeof h!="string"&&s.stateNode===null)throw Error(i(166));if(n=Mt.current,Xs(s)){if(n=s.stateNode,o=s.memoizedProps,h=null,m=Si,m!==null)switch(m.tag){case 27:case 5:h=m.memoizedProps}n[wt]=s,n=!!(n.nodeValue===o||h!==null&&h.suppressHydrationWarning===!0||E1(n.nodeValue,o)),n||ur(s)}else n=pu(n).createTextNode(h),n[wt]=s,s.stateNode=n}return Oe(s),null;case 13:if(h=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(m=Xs(s),h!==null&&h.dehydrated!==null){if(n===null){if(!m)throw Error(i(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[wt]=s}else Zs(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Oe(s),m=!1}else m=gp(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=m),m=!0;if(!m)return s.flags&256?(il(s),s):(il(s),null)}if(il(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=h!==null,n=n!==null&&n.memoizedState!==null,o){h=s.child,m=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(m=h.alternate.memoizedState.cachePool.pool);var p=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(p=h.memoizedState.cachePool.pool),p!==m&&(h.flags|=2048)}return o!==n&&o&&(s.child.flags|=8192),nu(s,s.updateQueue),Oe(s),null;case 4:return Ae(),n===null&&Vc(s.stateNode.containerInfo),Oe(s),null;case 10:return tl(s.type),Oe(s),null;case 19:if(J(Ze),m=s.memoizedState,m===null)return Oe(s),null;if(h=(s.flags&128)!==0,p=m.rendering,p===null)if(h)ua(m,!1);else{if(Re!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(p=Jo(n),p!==null){for(s.flags|=128,ua(m,!1),n=p.updateQueue,s.updateQueue=n,nu(s,n),s.subtreeFlags=0,n=o,o=s.child;o!==null;)hp(o,n),o=o.sibling;return ht(Ze,Ze.current&1|2),s.child}n=n.sibling}m.tail!==null&&jt()>su&&(s.flags|=128,h=!0,ua(m,!1),s.lanes=4194304)}else{if(!h)if(n=Jo(p),n!==null){if(s.flags|=128,h=!0,n=n.updateQueue,s.updateQueue=n,nu(s,n),ua(m,!0),m.tail===null&&m.tailMode==="hidden"&&!p.alternate&&!re)return Oe(s),null}else 2*jt()-m.renderingStartTime>su&&o!==536870912&&(s.flags|=128,h=!0,ua(m,!1),s.lanes=4194304);m.isBackwards?(p.sibling=s.child,s.child=p):(n=m.last,n!==null?n.sibling=p:s.child=p,m.last=p)}return m.tail!==null?(s=m.tail,m.rendering=s,m.tail=s.sibling,m.renderingStartTime=jt(),s.sibling=null,n=Ze.current,ht(Ze,h?n&1|2:n&1),s):(Oe(s),null);case 22:case 23:return il(s),jh(),h=s.memoizedState!==null,n!==null?n.memoizedState!==null!==h&&(s.flags|=8192):h&&(s.flags|=8192),h?(o&536870912)!==0&&(s.flags&128)===0&&(Oe(s),s.subtreeFlags&6&&(s.flags|=8192)):Oe(s),o=s.updateQueue,o!==null&&nu(s,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),h=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),h!==o&&(s.flags|=2048),n!==null&&J(cr),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),tl(Xe),Oe(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function jw(n,s){switch(Th(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return tl(Xe),Ae(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return te(s),null;case 13:if(il(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Zs()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return J(Ze),null;case 4:return Ae(),null;case 10:return tl(s.type),null;case 22:case 23:return il(s),jh(),n!==null&&J(cr),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return tl(Xe),null;case 25:return null;default:return null}}function U0(n,s){switch(Th(s),s.tag){case 3:tl(Xe),Ae();break;case 26:case 27:case 5:te(s);break;case 4:Ae();break;case 13:il(s);break;case 19:J(Ze);break;case 10:tl(s.type);break;case 22:case 23:il(s),jh(),n!==null&&J(cr);break;case 24:tl(Xe)}}function fa(n,s){try{var o=s.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var m=h.next;o=m;do{if((o.tag&n)===n){h=void 0;var p=o.create,S=o.inst;h=p(),S.destroy=h}o=o.next}while(o!==m)}}catch(A){de(s,s.return,A)}}function Al(n,s,o){try{var h=s.updateQueue,m=h!==null?h.lastEffect:null;if(m!==null){var p=m.next;h=p;do{if((h.tag&n)===n){var S=h.inst,A=S.destroy;if(A!==void 0){S.destroy=void 0,m=s;var D=o,q=A;try{q()}catch(it){de(m,D,it)}}}h=h.next}while(h!==p)}}catch(it){de(s,s.return,it)}}function V0(n){var s=n.updateQueue;if(s!==null){var o=n.stateNode;try{_p(s,o)}catch(h){de(n,n.return,h)}}}function q0(n,s,o){o.props=mr(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(h){de(n,s,h)}}function ha(n,s){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var h=n.stateNode;break;case 30:h=n.stateNode;break;default:h=n.stateNode}typeof o=="function"?n.refCleanup=o(h):o.current=h}}catch(m){de(n,s,m)}}function Dn(n,s){var o=n.ref,h=n.refCleanup;if(o!==null)if(typeof h=="function")try{h()}catch(m){de(n,s,m)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){de(n,s,m)}else o.current=null}function j0(n){var s=n.type,o=n.memoizedProps,h=n.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&h.focus();break t;case"img":o.src?h.src=o.src:o.srcSet&&(h.srcset=o.srcSet)}}catch(m){de(n,n.return,m)}}function gc(n,s,o){try{var h=n.stateNode;ok(h,n.type,o,s),h[pt]=s}catch(m){de(n,n.return,m)}}function Q0(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Rl(n.type)||n.tag===4}function pc(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||Q0(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Rl(n.type)||n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function yc(n,s,o){var h=n.tag;if(h===5||h===6)n=n.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(n),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=gu));else if(h!==4&&(h===27&&Rl(n.type)&&(o=n.stateNode,s=null),n=n.child,n!==null))for(yc(n,s,o),n=n.sibling;n!==null;)yc(n,s,o),n=n.sibling}function lu(n,s,o){var h=n.tag;if(h===5||h===6)n=n.stateNode,s?o.insertBefore(n,s):o.appendChild(n);else if(h!==4&&(h===27&&Rl(n.type)&&(o=n.stateNode),n=n.child,n!==null))for(lu(n,s,o),n=n.sibling;n!==null;)lu(n,s,o),n=n.sibling}function Y0(n){var s=n.stateNode,o=n.memoizedProps;try{for(var h=n.type,m=s.attributes;m.length;)s.removeAttributeNode(m[0]);ri(s,h,o),s[wt]=n,s[pt]=o}catch(p){de(n,n.return,p)}}var rl=!1,Le=!1,vc=!1,P0=typeof WeakSet=="function"?WeakSet:Set,$e=null;function Qw(n,s){if(n=n.containerInfo,Qc=wu,n=ep(n),ph(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else t:{o=(o=n.ownerDocument)&&o.defaultView||window;var h=o.getSelection&&o.getSelection();if(h&&h.rangeCount!==0){o=h.anchorNode;var m=h.anchorOffset,p=h.focusNode;h=h.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break t}var S=0,A=-1,D=-1,q=0,it=0,at=n,P=null;e:for(;;){for(var X;at!==o||m!==0&&at.nodeType!==3||(A=S+m),at!==p||h!==0&&at.nodeType!==3||(D=S+h),at.nodeType===3&&(S+=at.nodeValue.length),(X=at.firstChild)!==null;)P=at,at=X;for(;;){if(at===n)break e;if(P===o&&++q===m&&(A=S),P===p&&++it===h&&(D=S),(X=at.nextSibling)!==null)break;at=P,P=at.parentNode}at=X}o=A===-1||D===-1?null:{start:A,end:D}}else o=null}o=o||{start:0,end:0}}else o=null;for(Yc={focusedElem:n,selectionRange:o},wu=!1,$e=s;$e!==null;)if(s=$e,n=s.child,(s.subtreeFlags&1024)!==0&&n!==null)n.return=s,$e=n;else for(;$e!==null;){switch(s=$e,p=s.alternate,n=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&p!==null){n=void 0,o=s,m=p.memoizedProps,p=p.memoizedState,h=o.stateNode;try{var Lt=mr(o.type,m,o.elementType===o.type);n=h.getSnapshotBeforeUpdate(Lt,p),h.__reactInternalSnapshotBeforeUpdate=n}catch(Nt){de(o,o.return,Nt)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,o=n.nodeType,o===9)Xc(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Xc(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(i(163))}if(n=s.sibling,n!==null){n.return=s.return,$e=n;break}$e=s.return}}function G0(n,s,o){var h=o.flags;switch(o.tag){case 0:case 11:case 15:Cl(n,o),h&4&&fa(5,o);break;case 1:if(Cl(n,o),h&4)if(n=o.stateNode,s===null)try{n.componentDidMount()}catch(S){de(o,o.return,S)}else{var m=mr(o.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(m,s,n.__reactInternalSnapshotBeforeUpdate)}catch(S){de(o,o.return,S)}}h&64&&V0(o),h&512&&ha(o,o.return);break;case 3:if(Cl(n,o),h&64&&(n=o.updateQueue,n!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{_p(n,s)}catch(S){de(o,o.return,S)}}break;case 27:s===null&&h&4&&Y0(o);case 26:case 5:Cl(n,o),s===null&&h&4&&j0(o),h&512&&ha(o,o.return);break;case 12:Cl(n,o);break;case 13:Cl(n,o),h&4&&K0(n,o),h&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=Ww.bind(null,o),gk(n,o))));break;case 22:if(h=o.memoizedState!==null||rl,!h){s=s!==null&&s.memoizedState!==null||Le,m=rl;var p=Le;rl=h,(Le=s)&&!p?_l(n,o,(o.subtreeFlags&8772)!==0):Cl(n,o),rl=m,Le=p}break;case 30:break;default:Cl(n,o)}}function X0(n){var s=n.alternate;s!==null&&(n.alternate=null,X0(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&qe(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var _e=null,Ri=!1;function sl(n,s,o){for(o=o.child;o!==null;)Z0(n,s,o),o=o.sibling}function Z0(n,s,o){if(ye&&typeof ye.onCommitFiberUnmount=="function")try{ye.onCommitFiberUnmount(Oi,o)}catch{}switch(o.tag){case 26:Le||Dn(o,s),sl(n,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Le||Dn(o,s);var h=_e,m=Ri;Rl(o.type)&&(_e=o.stateNode,Ri=!1),sl(n,s,o),xa(o.stateNode),_e=h,Ri=m;break;case 5:Le||Dn(o,s);case 6:if(h=_e,m=Ri,_e=null,sl(n,s,o),_e=h,Ri=m,_e!==null)if(Ri)try{(_e.nodeType===9?_e.body:_e.nodeName==="HTML"?_e.ownerDocument.body:_e).removeChild(o.stateNode)}catch(p){de(o,s,p)}else try{_e.removeChild(o.stateNode)}catch(p){de(o,s,p)}break;case 18:_e!==null&&(Ri?(n=_e,z1(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),Oa(n)):z1(_e,o.stateNode));break;case 4:h=_e,m=Ri,_e=o.stateNode.containerInfo,Ri=!0,sl(n,s,o),_e=h,Ri=m;break;case 0:case 11:case 14:case 15:Le||Al(2,o,s),Le||Al(4,o,s),sl(n,s,o);break;case 1:Le||(Dn(o,s),h=o.stateNode,typeof h.componentWillUnmount=="function"&&q0(o,s,h)),sl(n,s,o);break;case 21:sl(n,s,o);break;case 22:Le=(h=Le)||o.memoizedState!==null,sl(n,s,o),Le=h;break;default:sl(n,s,o)}}function K0(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Oa(n)}catch(o){de(s,s.return,o)}}function Yw(n){switch(n.tag){case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new P0),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new P0),s;default:throw Error(i(435,n.tag))}}function bc(n,s){var o=Yw(n);s.forEach(function(h){var m=Jw.bind(null,n,h);o.has(h)||(o.add(h),h.then(m,m))})}function Qi(n,s){var o=s.deletions;if(o!==null)for(var h=0;h<o.length;h++){var m=o[h],p=n,S=s,A=S;t:for(;A!==null;){switch(A.tag){case 27:if(Rl(A.type)){_e=A.stateNode,Ri=!1;break t}break;case 5:_e=A.stateNode,Ri=!1;break t;case 3:case 4:_e=A.stateNode.containerInfo,Ri=!0;break t}A=A.return}if(_e===null)throw Error(i(160));Z0(p,S,m),_e=null,Ri=!1,p=m.alternate,p!==null&&(p.return=null),m.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)I0(s,n),s=s.sibling}var bn=null;function I0(n,s){var o=n.alternate,h=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Qi(s,n),Yi(n),h&4&&(Al(3,n,n.return),fa(3,n),Al(5,n,n.return));break;case 1:Qi(s,n),Yi(n),h&512&&(Le||o===null||Dn(o,o.return)),h&64&&rl&&(n=n.updateQueue,n!==null&&(h=n.callbacks,h!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?h:o.concat(h))));break;case 26:var m=bn;if(Qi(s,n),Yi(n),h&512&&(Le||o===null||Dn(o,o.return)),h&4){var p=o!==null?o.memoizedState:null;if(h=n.memoizedState,o===null)if(h===null)if(n.stateNode===null){t:{h=n.type,o=n.memoizedProps,m=m.ownerDocument||m;e:switch(h){case"title":p=m.getElementsByTagName("title")[0],(!p||p[Se]||p[wt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=m.createElement(h),m.head.insertBefore(p,m.querySelector("head > title"))),ri(p,h,o),p[wt]=n,le(p),h=p;break t;case"link":var S=Y1("link","href",m).get(h+(o.href||""));if(S){for(var A=0;A<S.length;A++)if(p=S[A],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){S.splice(A,1);break e}}p=m.createElement(h),ri(p,h,o),m.head.appendChild(p);break;case"meta":if(S=Y1("meta","content",m).get(h+(o.content||""))){for(A=0;A<S.length;A++)if(p=S[A],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){S.splice(A,1);break e}}p=m.createElement(h),ri(p,h,o),m.head.appendChild(p);break;default:throw Error(i(468,h))}p[wt]=n,le(p),h=p}n.stateNode=h}else P1(m,n.type,n.stateNode);else n.stateNode=Q1(m,h,n.memoizedProps);else p!==h?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,h===null?P1(m,n.type,n.stateNode):Q1(m,h,n.memoizedProps)):h===null&&n.stateNode!==null&&gc(n,n.memoizedProps,o.memoizedProps)}break;case 27:Qi(s,n),Yi(n),h&512&&(Le||o===null||Dn(o,o.return)),o!==null&&h&4&&gc(n,n.memoizedProps,o.memoizedProps);break;case 5:if(Qi(s,n),Yi(n),h&512&&(Le||o===null||Dn(o,o.return)),n.flags&32){m=n.stateNode;try{Nr(m,"")}catch(X){de(n,n.return,X)}}h&4&&n.stateNode!=null&&(m=n.memoizedProps,gc(n,m,o!==null?o.memoizedProps:m)),h&1024&&(vc=!0);break;case 6:if(Qi(s,n),Yi(n),h&4){if(n.stateNode===null)throw Error(i(162));h=n.memoizedProps,o=n.stateNode;try{o.nodeValue=h}catch(X){de(n,n.return,X)}}break;case 3:if(bu=null,m=bn,bn=yu(s.containerInfo),Qi(s,n),bn=m,Yi(n),h&4&&o!==null&&o.memoizedState.isDehydrated)try{Oa(s.containerInfo)}catch(X){de(n,n.return,X)}vc&&(vc=!1,F0(n));break;case 4:h=bn,bn=yu(n.stateNode.containerInfo),Qi(s,n),Yi(n),bn=h;break;case 12:Qi(s,n),Yi(n);break;case 13:Qi(s,n),Yi(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Cc=jt()),h&4&&(h=n.updateQueue,h!==null&&(n.updateQueue=null,bc(n,h)));break;case 22:m=n.memoizedState!==null;var D=o!==null&&o.memoizedState!==null,q=rl,it=Le;if(rl=q||m,Le=it||D,Qi(s,n),Le=it,rl=q,Yi(n),h&8192)t:for(s=n.stateNode,s._visibility=m?s._visibility&-2:s._visibility|1,m&&(o===null||D||rl||Le||gr(n)),o=null,s=n;;){if(s.tag===5||s.tag===26){if(o===null){D=o=s;try{if(p=D.stateNode,m)S=p.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{A=D.stateNode;var at=D.memoizedProps.style,P=at!=null&&at.hasOwnProperty("display")?at.display:null;A.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(X){de(D,D.return,X)}}}else if(s.tag===6){if(o===null){D=s;try{D.stateNode.nodeValue=m?"":D.memoizedProps}catch(X){de(D,D.return,X)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break t;for(;s.sibling===null;){if(s.return===null||s.return===n)break t;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}h&4&&(h=n.updateQueue,h!==null&&(o=h.retryQueue,o!==null&&(h.retryQueue=null,bc(n,o))));break;case 19:Qi(s,n),Yi(n),h&4&&(h=n.updateQueue,h!==null&&(n.updateQueue=null,bc(n,h)));break;case 30:break;case 21:break;default:Qi(s,n),Yi(n)}}function Yi(n){var s=n.flags;if(s&2){try{for(var o,h=n.return;h!==null;){if(Q0(h)){o=h;break}h=h.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var m=o.stateNode,p=pc(n);lu(n,p,m);break;case 5:var S=o.stateNode;o.flags&32&&(Nr(S,""),o.flags&=-33);var A=pc(n);lu(n,A,S);break;case 3:case 4:var D=o.stateNode.containerInfo,q=pc(n);yc(n,q,D);break;default:throw Error(i(161))}}catch(it){de(n,n.return,it)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function F0(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;F0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function Cl(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)G0(n,s.alternate,s),s=s.sibling}function gr(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:Al(4,s,s.return),gr(s);break;case 1:Dn(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&q0(s,s.return,o),gr(s);break;case 27:xa(s.stateNode);case 26:case 5:Dn(s,s.return),gr(s);break;case 22:s.memoizedState===null&&gr(s);break;case 30:gr(s);break;default:gr(s)}n=n.sibling}}function _l(n,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var h=s.alternate,m=n,p=s,S=p.flags;switch(p.tag){case 0:case 11:case 15:_l(m,p,o),fa(4,p);break;case 1:if(_l(m,p,o),h=p,m=h.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(q){de(h,h.return,q)}if(h=p,m=h.updateQueue,m!==null){var A=h.stateNode;try{var D=m.shared.hiddenCallbacks;if(D!==null)for(m.shared.hiddenCallbacks=null,m=0;m<D.length;m++)Cp(D[m],A)}catch(q){de(h,h.return,q)}}o&&S&64&&V0(p),ha(p,p.return);break;case 27:Y0(p);case 26:case 5:_l(m,p,o),o&&h===null&&S&4&&j0(p),ha(p,p.return);break;case 12:_l(m,p,o);break;case 13:_l(m,p,o),o&&S&4&&K0(m,p);break;case 22:p.memoizedState===null&&_l(m,p,o),ha(p,p.return);break;case 30:break;default:_l(m,p,o)}s=s.sibling}}function xc(n,s){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&Fs(o))}function Sc(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Fs(n))}function Rn(n,s,o,h){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)W0(n,s,o,h),s=s.sibling}function W0(n,s,o,h){var m=s.flags;switch(s.tag){case 0:case 11:case 15:Rn(n,s,o,h),m&2048&&fa(9,s);break;case 1:Rn(n,s,o,h);break;case 3:Rn(n,s,o,h),m&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Fs(n)));break;case 12:if(m&2048){Rn(n,s,o,h),n=s.stateNode;try{var p=s.memoizedProps,S=p.id,A=p.onPostCommit;typeof A=="function"&&A(S,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(D){de(s,s.return,D)}}else Rn(n,s,o,h);break;case 13:Rn(n,s,o,h);break;case 23:break;case 22:p=s.stateNode,S=s.alternate,s.memoizedState!==null?p._visibility&2?Rn(n,s,o,h):ca(n,s):p._visibility&2?Rn(n,s,o,h):(p._visibility|=2,$r(n,s,o,h,(s.subtreeFlags&10256)!==0)),m&2048&&xc(S,s);break;case 24:Rn(n,s,o,h),m&2048&&Sc(s.alternate,s);break;default:Rn(n,s,o,h)}}function $r(n,s,o,h,m){for(m=m&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var p=n,S=s,A=o,D=h,q=S.flags;switch(S.tag){case 0:case 11:case 15:$r(p,S,A,D,m),fa(8,S);break;case 23:break;case 22:var it=S.stateNode;S.memoizedState!==null?it._visibility&2?$r(p,S,A,D,m):ca(p,S):(it._visibility|=2,$r(p,S,A,D,m)),m&&q&2048&&xc(S.alternate,S);break;case 24:$r(p,S,A,D,m),m&&q&2048&&Sc(S.alternate,S);break;default:$r(p,S,A,D,m)}s=s.sibling}}function ca(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=n,h=s,m=h.flags;switch(h.tag){case 22:ca(o,h),m&2048&&xc(h.alternate,h);break;case 24:ca(o,h),m&2048&&Sc(h.alternate,h);break;default:ca(o,h)}s=s.sibling}}var da=8192;function ts(n){if(n.subtreeFlags&da)for(n=n.child;n!==null;)J0(n),n=n.sibling}function J0(n){switch(n.tag){case 26:ts(n),n.flags&da&&n.memoizedState!==null&&Ok(bn,n.memoizedState,n.memoizedProps);break;case 5:ts(n);break;case 3:case 4:var s=bn;bn=yu(n.stateNode.containerInfo),ts(n),bn=s;break;case 22:n.memoizedState===null&&(s=n.alternate,s!==null&&s.memoizedState!==null?(s=da,da=16777216,ts(n),da=s):ts(n));break;default:ts(n)}}function $0(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function ma(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var h=s[o];$e=h,e1(h,n)}$0(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)t1(n),n=n.sibling}function t1(n){switch(n.tag){case 0:case 11:case 15:ma(n),n.flags&2048&&Al(9,n,n.return);break;case 3:ma(n);break;case 12:ma(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,ru(n)):ma(n);break;default:ma(n)}}function ru(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var h=s[o];$e=h,e1(h,n)}$0(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:Al(8,s,s.return),ru(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,ru(s));break;default:ru(s)}n=n.sibling}}function e1(n,s){for(;$e!==null;){var o=$e;switch(o.tag){case 0:case 11:case 15:Al(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var h=o.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Fs(o.memoizedState.cache)}if(h=o.child,h!==null)h.return=o,$e=h;else t:for(o=n;$e!==null;){h=$e;var m=h.sibling,p=h.return;if(X0(h),h===o){$e=null;break t}if(m!==null){m.return=p,$e=m;break t}$e=p}}}var Pw={getCacheForType:function(n){var s=di(Xe),o=s.data.get(n);return o===void 0&&(o=n(),s.data.set(n,o)),o}},Gw=typeof WeakMap=="function"?WeakMap:Map,ae=0,ve=null,Xt=null,$t=0,oe=0,Pi=null,Tl=!1,es=!1,wc=!1,al=0,Re=0,Ol=0,pr=0,kc=0,an=0,is=0,ga=null,Bi=null,Ac=!1,Cc=0,su=1/0,au=null,Ml=null,li=0,El=null,ns=null,ls=0,_c=0,Tc=null,i1=null,pa=0,Oc=null;function Gi(){if((ae&2)!==0&&$t!==0)return $t&-$t;if(U.T!==null){var n=Gr;return n!==0?n:zc()}return C()}function n1(){an===0&&(an=($t&536870912)===0||re?Ct():536870912);var n=sn.current;return n!==null&&(n.flags|=32),an}function Xi(n,s,o){(n===ve&&(oe===2||oe===9)||n.cancelPendingCommit!==null)&&(rs(n,0),Dl(n,$t,an,!1)),k(n,o),((ae&2)===0||n!==ve)&&(n===ve&&((ae&2)===0&&(pr|=o),Re===4&&Dl(n,$t,an,!1)),Bn(n))}function l1(n,s,o){if((ae&6)!==0)throw Error(i(327));var h=!o&&(s&124)===0&&(s&n.expiredLanes)===0||ft(n,s),m=h?Kw(n,s):Dc(n,s,!0),p=h;do{if(m===0){es&&!h&&Dl(n,s,0,!1);break}else{if(o=n.current.alternate,p&&!Xw(o)){m=Dc(n,s,!1),p=!1;continue}if(m===2){if(p=s,n.errorRecoveryDisabledLanes&p)var S=0;else S=n.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){s=S;t:{var A=n;m=ga;var D=A.current.memoizedState.isDehydrated;if(D&&(rs(A,S).flags|=256),S=Dc(A,S,!1),S!==2){if(wc&&!D){A.errorRecoveryDisabledLanes|=p,pr|=p,m=4;break t}p=Bi,Bi=m,p!==null&&(Bi===null?Bi=p:Bi.push.apply(Bi,p))}m=S}if(p=!1,m!==2)continue}}if(m===1){rs(n,0),Dl(n,s,0,!0);break}t:{switch(h=n,p=m,p){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:Dl(h,s,an,!Tl);break t;case 2:Bi=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(m=Cc+300-jt(),10<m)){if(Dl(h,s,an,!Tl),T(h,0,!0)!==0)break t;h.timeoutHandle=B1(r1.bind(null,h,o,Bi,au,Ac,s,an,pr,is,Tl,p,2,-0,0),m);break t}r1(h,o,Bi,au,Ac,s,an,pr,is,Tl,p,0,-0,0)}}break}while(!0);Bn(n)}function r1(n,s,o,h,m,p,S,A,D,q,it,at,P,X){if(n.timeoutHandle=-1,at=s.subtreeFlags,(at&8192||(at&16785408)===16785408)&&(ka={stylesheets:null,count:0,unsuspend:Tk},J0(s),at=Mk(),at!==null)){n.cancelPendingCommit=at(c1.bind(null,n,s,p,o,h,m,S,A,D,it,1,P,X)),Dl(n,p,S,!q);return}c1(n,s,p,o,h,m,S,A,D)}function Xw(n){for(var s=n;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var h=0;h<o.length;h++){var m=o[h],p=m.getSnapshot;m=m.value;try{if(!qi(p(),m))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Dl(n,s,o,h){s&=~kc,s&=~pr,n.suspendedLanes|=s,n.pingedLanes&=~s,h&&(n.warmLanes|=s),h=n.expirationTimes;for(var m=s;0<m;){var p=31-Ee(m),S=1<<p;h[p]=-1,m&=~S}o!==0&&Bt(n,o,s)}function ou(){return(ae&6)===0?(ya(0),!1):!0}function Mc(){if(Xt!==null){if(oe===0)var n=Xt.return;else n=Xt,$n=fr=null,Xh(n),Wr=null,aa=0,n=Xt;for(;n!==null;)U0(n.alternate,n),n=n.return;Xt=null}}function rs(n,s){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,fk(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),Mc(),ve=n,Xt=o=Fn(n.current,null),$t=s,oe=0,Pi=null,Tl=!1,es=ft(n,s),wc=!1,is=an=kc=pr=Ol=Re=0,Bi=ga=null,Ac=!1,(s&8)!==0&&(s|=s&32);var h=n.entangledLanes;if(h!==0)for(n=n.entanglements,h&=s;0<h;){var m=31-Ee(h),p=1<<m;s|=n[m],h&=~p}return al=s,Eo(),o}function s1(n,s){Qt=null,U.H=Io,s===Js||s===Vo?(s=kp(),oe=3):s===xp?(s=kp(),oe=4):oe=s===A0?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Pi=s,Xt===null&&(Re=1,tu(n,en(s,n.current)))}function a1(){var n=U.H;return U.H=Io,n===null?Io:n}function o1(){var n=U.A;return U.A=Pw,n}function Ec(){Re=4,Tl||($t&4194048)!==$t&&sn.current!==null||(es=!0),(Ol&134217727)===0&&(pr&134217727)===0||ve===null||Dl(ve,$t,an,!1)}function Dc(n,s,o){var h=ae;ae|=2;var m=a1(),p=o1();(ve!==n||$t!==s)&&(au=null,rs(n,s)),s=!1;var S=Re;t:do try{if(oe!==0&&Xt!==null){var A=Xt,D=Pi;switch(oe){case 8:Mc(),S=6;break t;case 3:case 2:case 9:case 6:sn.current===null&&(s=!0);var q=oe;if(oe=0,Pi=null,ss(n,A,D,q),o&&es){S=0;break t}break;default:q=oe,oe=0,Pi=null,ss(n,A,D,q)}}Zw(),S=Re;break}catch(it){s1(n,it)}while(!0);return s&&n.shellSuspendCounter++,$n=fr=null,ae=h,U.H=m,U.A=p,Xt===null&&(ve=null,$t=0,Eo()),S}function Zw(){for(;Xt!==null;)u1(Xt)}function Kw(n,s){var o=ae;ae|=2;var h=a1(),m=o1();ve!==n||$t!==s?(au=null,su=jt()+500,rs(n,s)):es=ft(n,s);t:do try{if(oe!==0&&Xt!==null){s=Xt;var p=Pi;e:switch(oe){case 1:oe=0,Pi=null,ss(n,s,p,1);break;case 2:case 9:if(Sp(p)){oe=0,Pi=null,f1(s);break}s=function(){oe!==2&&oe!==9||ve!==n||(oe=7),Bn(n)},p.then(s,s);break t;case 3:oe=7;break t;case 4:oe=5;break t;case 7:Sp(p)?(oe=0,Pi=null,f1(s)):(oe=0,Pi=null,ss(n,s,p,7));break;case 5:var S=null;switch(Xt.tag){case 26:S=Xt.memoizedState;case 5:case 27:var A=Xt;if(!S||G1(S)){oe=0,Pi=null;var D=A.sibling;if(D!==null)Xt=D;else{var q=A.return;q!==null?(Xt=q,uu(q)):Xt=null}break e}}oe=0,Pi=null,ss(n,s,p,5);break;case 6:oe=0,Pi=null,ss(n,s,p,6);break;case 8:Mc(),Re=6;break t;default:throw Error(i(462))}}Iw();break}catch(it){s1(n,it)}while(!0);return $n=fr=null,U.H=h,U.A=m,ae=o,Xt!==null?0:(ve=null,$t=0,Eo(),Re)}function Iw(){for(;Xt!==null&&!Ci();)u1(Xt)}function u1(n){var s=L0(n.alternate,n,al);n.memoizedProps=n.pendingProps,s===null?uu(n):Xt=s}function f1(n){var s=n,o=s.alternate;switch(s.tag){case 15:case 0:s=E0(o,s,s.pendingProps,s.type,void 0,$t);break;case 11:s=E0(o,s,s.pendingProps,s.type.render,s.ref,$t);break;case 5:Xh(s);default:U0(o,s),s=Xt=hp(s,al),s=L0(o,s,al)}n.memoizedProps=n.pendingProps,s===null?uu(n):Xt=s}function ss(n,s,o,h){$n=fr=null,Xh(s),Wr=null,aa=0;var m=s.return;try{if(Uw(n,m,s,o,$t)){Re=1,tu(n,en(o,n.current)),Xt=null;return}}catch(p){if(m!==null)throw Xt=m,p;Re=1,tu(n,en(o,n.current)),Xt=null;return}s.flags&32768?(re||h===1?n=!0:es||($t&536870912)!==0?n=!1:(Tl=n=!0,(h===2||h===9||h===3||h===6)&&(h=sn.current,h!==null&&h.tag===13&&(h.flags|=16384))),h1(s,n)):uu(s)}function uu(n){var s=n;do{if((s.flags&32768)!==0){h1(s,Tl);return}n=s.return;var o=qw(s.alternate,s,al);if(o!==null){Xt=o;return}if(s=s.sibling,s!==null){Xt=s;return}Xt=s=n}while(s!==null);Re===0&&(Re=5)}function h1(n,s){do{var o=jw(n.alternate,n);if(o!==null){o.flags&=32767,Xt=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(n=n.sibling,n!==null)){Xt=n;return}Xt=n=o}while(n!==null);Re=6,Xt=null}function c1(n,s,o,h,m,p,S,A,D){n.cancelPendingCommit=null;do fu();while(li!==0);if((ae&6)!==0)throw Error(i(327));if(s!==null){if(s===n.current)throw Error(i(177));if(p=s.lanes|s.childLanes,p|=Sh,ct(n,o,p,S,A,D),n===ve&&(Xt=ve=null,$t=0),ns=s,El=n,ls=o,_c=p,Tc=m,i1=h,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,$w(Fe,function(){return y1(),null})):(n.callbackNode=null,n.callbackPriority=0),h=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||h){h=U.T,U.T=null,m=$.p,$.p=2,S=ae,ae|=4;try{Qw(n,s,o)}finally{ae=S,$.p=m,U.T=h}}li=1,d1(),m1(),g1()}}function d1(){if(li===1){li=0;var n=El,s=ns,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=U.T,U.T=null;var h=$.p;$.p=2;var m=ae;ae|=4;try{I0(s,n);var p=Yc,S=ep(n.containerInfo),A=p.focusedElem,D=p.selectionRange;if(S!==A&&A&&A.ownerDocument&&tp(A.ownerDocument.documentElement,A)){if(D!==null&&ph(A)){var q=D.start,it=D.end;if(it===void 0&&(it=q),"selectionStart"in A)A.selectionStart=q,A.selectionEnd=Math.min(it,A.value.length);else{var at=A.ownerDocument||document,P=at&&at.defaultView||window;if(P.getSelection){var X=P.getSelection(),Lt=A.textContent.length,Nt=Math.min(D.start,Lt),he=D.end===void 0?Nt:Math.min(D.end,Lt);!X.extend&&Nt>he&&(S=he,he=Nt,Nt=S);var H=$g(A,Nt),N=$g(A,he);if(H&&N&&(X.rangeCount!==1||X.anchorNode!==H.node||X.anchorOffset!==H.offset||X.focusNode!==N.node||X.focusOffset!==N.offset)){var V=at.createRange();V.setStart(H.node,H.offset),X.removeAllRanges(),Nt>he?(X.addRange(V),X.extend(N.node,N.offset)):(V.setEnd(N.node,N.offset),X.addRange(V))}}}}for(at=[],X=A;X=X.parentNode;)X.nodeType===1&&at.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<at.length;A++){var lt=at[A];lt.element.scrollLeft=lt.left,lt.element.scrollTop=lt.top}}wu=!!Qc,Yc=Qc=null}finally{ae=m,$.p=h,U.T=o}}n.current=s,li=2}}function m1(){if(li===2){li=0;var n=El,s=ns,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=U.T,U.T=null;var h=$.p;$.p=2;var m=ae;ae|=4;try{G0(n,s.alternate,s)}finally{ae=m,$.p=h,U.T=o}}li=3}}function g1(){if(li===4||li===3){li=0,_i();var n=El,s=ns,o=ls,h=i1;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?li=5:(li=0,ns=El=null,p1(n,n.pendingLanes));var m=n.pendingLanes;if(m===0&&(Ml=null),F(o),s=s.stateNode,ye&&typeof ye.onCommitFiberRoot=="function")try{ye.onCommitFiberRoot(Oi,s,void 0,(s.current.flags&128)===128)}catch{}if(h!==null){s=U.T,m=$.p,$.p=2,U.T=null;try{for(var p=n.onRecoverableError,S=0;S<h.length;S++){var A=h[S];p(A.value,{componentStack:A.stack})}}finally{U.T=s,$.p=m}}(ls&3)!==0&&fu(),Bn(n),m=n.pendingLanes,(o&4194090)!==0&&(m&42)!==0?n===Oc?pa++:(pa=0,Oc=n):pa=0,ya(0)}}function p1(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,Fs(s)))}function fu(n){return d1(),m1(),g1(),y1()}function y1(){if(li!==5)return!1;var n=El,s=_c;_c=0;var o=F(ls),h=U.T,m=$.p;try{$.p=32>o?32:o,U.T=null,o=Tc,Tc=null;var p=El,S=ls;if(li=0,ns=El=null,ls=0,(ae&6)!==0)throw Error(i(331));var A=ae;if(ae|=4,t1(p.current),W0(p,p.current,S,o),ae=A,ya(0,!1),ye&&typeof ye.onPostCommitFiberRoot=="function")try{ye.onPostCommitFiberRoot(Oi,p)}catch{}return!0}finally{$.p=m,U.T=h,p1(n,s)}}function v1(n,s,o){s=en(o,s),s=sc(n.stateNode,s,2),n=xl(n,s,2),n!==null&&(k(n,2),Bn(n))}function de(n,s,o){if(n.tag===3)v1(n,n,o);else for(;s!==null;){if(s.tag===3){v1(s,n,o);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Ml===null||!Ml.has(h))){n=en(o,n),o=w0(2),h=xl(s,o,2),h!==null&&(k0(o,h,s,n),k(h,2),Bn(h));break}}s=s.return}}function Rc(n,s,o){var h=n.pingCache;if(h===null){h=n.pingCache=new Gw;var m=new Set;h.set(s,m)}else m=h.get(s),m===void 0&&(m=new Set,h.set(s,m));m.has(o)||(wc=!0,m.add(o),n=Fw.bind(null,n,s,o),s.then(n,n))}function Fw(n,s,o){var h=n.pingCache;h!==null&&h.delete(s),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,ve===n&&($t&o)===o&&(Re===4||Re===3&&($t&62914560)===$t&&300>jt()-Cc?(ae&2)===0&&rs(n,0):kc|=o,is===$t&&(is=0)),Bn(n)}function b1(n,s){s===0&&(s=z()),n=jr(n,s),n!==null&&(k(n,s),Bn(n))}function Ww(n){var s=n.memoizedState,o=0;s!==null&&(o=s.retryLane),b1(n,o)}function Jw(n,s){var o=0;switch(n.tag){case 13:var h=n.stateNode,m=n.memoizedState;m!==null&&(o=m.retryLane);break;case 19:h=n.stateNode;break;case 22:h=n.stateNode._retryCache;break;default:throw Error(i(314))}h!==null&&h.delete(s),b1(n,o)}function $w(n,s){return Jt(n,s)}var hu=null,as=null,Bc=!1,cu=!1,Nc=!1,yr=0;function Bn(n){n!==as&&n.next===null&&(as===null?hu=as=n:as=as.next=n),cu=!0,Bc||(Bc=!0,ek())}function ya(n,s){if(!Nc&&cu){Nc=!0;do for(var o=!1,h=hu;h!==null;){if(n!==0){var m=h.pendingLanes;if(m===0)var p=0;else{var S=h.suspendedLanes,A=h.pingedLanes;p=(1<<31-Ee(42|n)+1)-1,p&=m&~(S&~A),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,k1(h,p))}else p=$t,p=T(h,h===ve?p:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(p&3)===0||ft(h,p)||(o=!0,k1(h,p));h=h.next}while(o);Nc=!1}}function tk(){x1()}function x1(){cu=Bc=!1;var n=0;yr!==0&&(uk()&&(n=yr),yr=0);for(var s=jt(),o=null,h=hu;h!==null;){var m=h.next,p=S1(h,s);p===0?(h.next=null,o===null?hu=m:o.next=m,m===null&&(as=o)):(o=h,(n!==0||(p&3)!==0)&&(cu=!0)),h=m}ya(n)}function S1(n,s){for(var o=n.suspendedLanes,h=n.pingedLanes,m=n.expirationTimes,p=n.pendingLanes&-62914561;0<p;){var S=31-Ee(p),A=1<<S,D=m[S];D===-1?((A&o)===0||(A&h)!==0)&&(m[S]=dt(A,s)):D<=s&&(n.expiredLanes|=A),p&=~A}if(s=ve,o=$t,o=T(n,n===s?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),h=n.callbackNode,o===0||n===s&&(oe===2||oe===9)||n.cancelPendingCommit!==null)return h!==null&&h!==null&&Ve(h),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||ft(n,o)){if(s=o&-o,s===n.callbackPriority)return s;switch(h!==null&&Ve(h),F(o)){case 2:case 8:o=vi;break;case 32:o=Fe;break;case 268435456:o=qt;break;default:o=Fe}return h=w1.bind(null,n),o=Jt(o,h),n.callbackPriority=s,n.callbackNode=o,s}return h!==null&&h!==null&&Ve(h),n.callbackPriority=2,n.callbackNode=null,2}function w1(n,s){if(li!==0&&li!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if(fu()&&n.callbackNode!==o)return null;var h=$t;return h=T(n,n===ve?h:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),h===0?null:(l1(n,h,s),S1(n,jt()),n.callbackNode!=null&&n.callbackNode===o?w1.bind(null,n):null)}function k1(n,s){if(fu())return null;l1(n,s,!0)}function ek(){hk(function(){(ae&6)!==0?Jt(_n,tk):x1()})}function zc(){return yr===0&&(yr=Ct()),yr}function A1(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:ko(""+n)}function C1(n,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,n.id&&o.setAttribute("form",n.id),s.parentNode.insertBefore(o,s),n=new FormData(n),o.parentNode.removeChild(o),n}function ik(n,s,o,h,m){if(s==="submit"&&o&&o.stateNode===m){var p=A1((m[pt]||null).action),S=h.submitter;S&&(s=(s=S[pt]||null)?A1(s.formAction):S.getAttribute("formAction"),s!==null&&(p=s,S=null));var A=new To("action","action",null,h,m);n.push({event:A,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(yr!==0){var D=S?C1(m,S):new FormData(m);ec(o,{pending:!0,data:D,method:m.method,action:p},null,D)}}else typeof p=="function"&&(A.preventDefault(),D=S?C1(m,S):new FormData(m),ec(o,{pending:!0,data:D,method:m.method,action:p},p,D))},currentTarget:m}]})}}for(var Lc=0;Lc<xh.length;Lc++){var Hc=xh[Lc],nk=Hc.toLowerCase(),lk=Hc[0].toUpperCase()+Hc.slice(1);vn(nk,"on"+lk)}vn(lp,"onAnimationEnd"),vn(rp,"onAnimationIteration"),vn(sp,"onAnimationStart"),vn("dblclick","onDoubleClick"),vn("focusin","onFocus"),vn("focusout","onBlur"),vn(Sw,"onTransitionRun"),vn(ww,"onTransitionStart"),vn(kw,"onTransitionCancel"),vn(ap,"onTransitionEnd"),Zn("onMouseEnter",["mouseout","mouseover"]),Zn("onMouseLeave",["mouseout","mouseover"]),Zn("onPointerEnter",["pointerout","pointerover"]),Zn("onPointerLeave",["pointerout","pointerover"]),We("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),We("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),We("onBeforeInput",["compositionend","keypress","textInput","paste"]),We("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),We("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),We("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var va="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rk=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(va));function _1(n,s){s=(s&4)!==0;for(var o=0;o<n.length;o++){var h=n[o],m=h.event;h=h.listeners;t:{var p=void 0;if(s)for(var S=h.length-1;0<=S;S--){var A=h[S],D=A.instance,q=A.currentTarget;if(A=A.listener,D!==p&&m.isPropagationStopped())break t;p=A,m.currentTarget=q;try{p(m)}catch(it){$o(it)}m.currentTarget=null,p=D}else for(S=0;S<h.length;S++){if(A=h[S],D=A.instance,q=A.currentTarget,A=A.listener,D!==p&&m.isPropagationStopped())break t;p=A,m.currentTarget=q;try{p(m)}catch(it){$o(it)}m.currentTarget=null,p=D}}}}function Zt(n,s){var o=s[Yt];o===void 0&&(o=s[Yt]=new Set);var h=n+"__bubble";o.has(h)||(T1(s,n,2,!1),o.add(h))}function Uc(n,s,o){var h=0;s&&(h|=4),T1(o,n,h,s)}var du="_reactListening"+Math.random().toString(36).slice(2);function Vc(n){if(!n[du]){n[du]=!0,je.forEach(function(o){o!=="selectionchange"&&(rk.has(o)||Uc(o,!1,n),Uc(o,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[du]||(s[du]=!0,Uc("selectionchange",!1,s))}}function T1(n,s,o,h){switch(W1(s)){case 2:var m=Rk;break;case 8:m=Bk;break;default:m=$c}o=m.bind(null,s,o,n),m=void 0,!ah||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),h?m!==void 0?n.addEventListener(s,o,{capture:!0,passive:m}):n.addEventListener(s,o,!0):m!==void 0?n.addEventListener(s,o,{passive:m}):n.addEventListener(s,o,!1)}function qc(n,s,o,h,m){var p=h;if((s&1)===0&&(s&2)===0&&h!==null)t:for(;;){if(h===null)return;var S=h.tag;if(S===3||S===4){var A=h.stateNode.containerInfo;if(A===m)break;if(S===4)for(S=h.return;S!==null;){var D=S.tag;if((D===3||D===4)&&S.stateNode.containerInfo===m)return;S=S.return}for(;A!==null;){if(S=Ne(A),S===null)return;if(D=S.tag,D===5||D===6||D===26||D===27){h=p=S;continue t}A=A.parentNode}}h=h.return}Ng(function(){var q=p,it=rh(o),at=[];t:{var P=op.get(n);if(P!==void 0){var X=To,Lt=n;switch(n){case"keypress":if(Co(o)===0)break t;case"keydown":case"keyup":X=$2;break;case"focusin":Lt="focus",X=hh;break;case"focusout":Lt="blur",X=hh;break;case"beforeblur":case"afterblur":X=hh;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Hg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=j2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=iw;break;case lp:case rp:case sp:X=P2;break;case ap:X=lw;break;case"scroll":case"scrollend":X=V2;break;case"wheel":X=sw;break;case"copy":case"cut":case"paste":X=X2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=Vg;break;case"toggle":case"beforetoggle":X=ow}var Nt=(s&4)!==0,he=!Nt&&(n==="scroll"||n==="scrollend"),H=Nt?P!==null?P+"Capture":null:P;Nt=[];for(var N=q,V;N!==null;){var lt=N;if(V=lt.stateNode,lt=lt.tag,lt!==5&&lt!==26&&lt!==27||V===null||H===null||(lt=Hs(N,H),lt!=null&&Nt.push(ba(N,lt,V))),he)break;N=N.return}0<Nt.length&&(P=new X(P,Lt,null,o,it),at.push({event:P,listeners:Nt}))}}if((s&7)===0){t:{if(P=n==="mouseover"||n==="pointerover",X=n==="mouseout"||n==="pointerout",P&&o!==lh&&(Lt=o.relatedTarget||o.fromElement)&&(Ne(Lt)||Lt[kt]))break t;if((X||P)&&(P=it.window===it?it:(P=it.ownerDocument)?P.defaultView||P.parentWindow:window,X?(Lt=o.relatedTarget||o.toElement,X=q,Lt=Lt?Ne(Lt):null,Lt!==null&&(he=a(Lt),Nt=Lt.tag,Lt!==he||Nt!==5&&Nt!==27&&Nt!==6)&&(Lt=null)):(X=null,Lt=q),X!==Lt)){if(Nt=Hg,lt="onMouseLeave",H="onMouseEnter",N="mouse",(n==="pointerout"||n==="pointerover")&&(Nt=Vg,lt="onPointerLeave",H="onPointerEnter",N="pointer"),he=X==null?P:On(X),V=Lt==null?P:On(Lt),P=new Nt(lt,N+"leave",X,o,it),P.target=he,P.relatedTarget=V,lt=null,Ne(it)===q&&(Nt=new Nt(H,N+"enter",Lt,o,it),Nt.target=V,Nt.relatedTarget=he,lt=Nt),he=lt,X&&Lt)e:{for(Nt=X,H=Lt,N=0,V=Nt;V;V=os(V))N++;for(V=0,lt=H;lt;lt=os(lt))V++;for(;0<N-V;)Nt=os(Nt),N--;for(;0<V-N;)H=os(H),V--;for(;N--;){if(Nt===H||H!==null&&Nt===H.alternate)break e;Nt=os(Nt),H=os(H)}Nt=null}else Nt=null;X!==null&&O1(at,P,X,Nt,!1),Lt!==null&&he!==null&&O1(at,he,Lt,Nt,!0)}}t:{if(P=q?On(q):window,X=P.nodeName&&P.nodeName.toLowerCase(),X==="select"||X==="input"&&P.type==="file")var Ot=Zg;else if(Gg(P))if(Kg)Ot=vw;else{Ot=pw;var Pt=gw}else X=P.nodeName,!X||X.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?q&&nh(q.elementType)&&(Ot=Zg):Ot=yw;if(Ot&&(Ot=Ot(n,q))){Xg(at,Ot,o,it);break t}Pt&&Pt(n,P,q),n==="focusout"&&q&&P.type==="number"&&q.memoizedProps.value!=null&&ih(P,"number",P.value)}switch(Pt=q?On(q):window,n){case"focusin":(Gg(Pt)||Pt.contentEditable==="true")&&(Ur=Pt,yh=q,Gs=null);break;case"focusout":Gs=yh=Ur=null;break;case"mousedown":vh=!0;break;case"contextmenu":case"mouseup":case"dragend":vh=!1,ip(at,o,it);break;case"selectionchange":if(xw)break;case"keydown":case"keyup":ip(at,o,it)}var Et;if(dh)t:{switch(n){case"compositionstart":var zt="onCompositionStart";break t;case"compositionend":zt="onCompositionEnd";break t;case"compositionupdate":zt="onCompositionUpdate";break t}zt=void 0}else Hr?Yg(n,o)&&(zt="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(zt="onCompositionStart");zt&&(qg&&o.locale!=="ko"&&(Hr||zt!=="onCompositionStart"?zt==="onCompositionEnd"&&Hr&&(Et=zg()):(pl=it,oh="value"in pl?pl.value:pl.textContent,Hr=!0)),Pt=mu(q,zt),0<Pt.length&&(zt=new Ug(zt,n,null,o,it),at.push({event:zt,listeners:Pt}),Et?zt.data=Et:(Et=Pg(o),Et!==null&&(zt.data=Et)))),(Et=fw?hw(n,o):cw(n,o))&&(zt=mu(q,"onBeforeInput"),0<zt.length&&(Pt=new Ug("onBeforeInput","beforeinput",null,o,it),at.push({event:Pt,listeners:zt}),Pt.data=Et)),ik(at,n,q,o,it)}_1(at,s)})}function ba(n,s,o){return{instance:n,listener:s,currentTarget:o}}function mu(n,s){for(var o=s+"Capture",h=[];n!==null;){var m=n,p=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||p===null||(m=Hs(n,o),m!=null&&h.unshift(ba(n,m,p)),m=Hs(n,s),m!=null&&h.push(ba(n,m,p))),n.tag===3)return h;n=n.return}return[]}function os(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function O1(n,s,o,h,m){for(var p=s._reactName,S=[];o!==null&&o!==h;){var A=o,D=A.alternate,q=A.stateNode;if(A=A.tag,D!==null&&D===h)break;A!==5&&A!==26&&A!==27||q===null||(D=q,m?(q=Hs(o,p),q!=null&&S.unshift(ba(o,q,D))):m||(q=Hs(o,p),q!=null&&S.push(ba(o,q,D)))),o=o.return}S.length!==0&&n.push({event:s,listeners:S})}var sk=/\r\n?/g,ak=/\u0000|\uFFFD/g;function M1(n){return(typeof n=="string"?n:""+n).replace(sk,`
`).replace(ak,"")}function E1(n,s){return s=M1(s),M1(n)===s}function gu(){}function fe(n,s,o,h,m,p){switch(o){case"children":typeof h=="string"?s==="body"||s==="textarea"&&h===""||Nr(n,h):(typeof h=="number"||typeof h=="bigint")&&s!=="body"&&Nr(n,""+h);break;case"className":xo(n,"class",h);break;case"tabIndex":xo(n,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":xo(n,o,h);break;case"style":Rg(n,h,p);break;case"data":if(s!=="object"){xo(n,"data",h);break}case"src":case"href":if(h===""&&(s!=="a"||o!=="href")){n.removeAttribute(o);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){n.removeAttribute(o);break}h=ko(""+h),n.setAttribute(o,h);break;case"action":case"formAction":if(typeof h=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(s!=="input"&&fe(n,s,"name",m.name,m,null),fe(n,s,"formEncType",m.formEncType,m,null),fe(n,s,"formMethod",m.formMethod,m,null),fe(n,s,"formTarget",m.formTarget,m,null)):(fe(n,s,"encType",m.encType,m,null),fe(n,s,"method",m.method,m,null),fe(n,s,"target",m.target,m,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){n.removeAttribute(o);break}h=ko(""+h),n.setAttribute(o,h);break;case"onClick":h!=null&&(n.onclick=gu);break;case"onScroll":h!=null&&Zt("scroll",n);break;case"onScrollEnd":h!=null&&Zt("scrollend",n);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(i(61));if(o=h.__html,o!=null){if(m.children!=null)throw Error(i(60));n.innerHTML=o}}break;case"multiple":n.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":n.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){n.removeAttribute("xlink:href");break}o=ko(""+h),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?n.setAttribute(o,""+h):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":h===!0?n.setAttribute(o,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?n.setAttribute(o,h):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?n.setAttribute(o,h):n.removeAttribute(o);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?n.removeAttribute(o):n.setAttribute(o,h);break;case"popover":Zt("beforetoggle",n),Zt("toggle",n),bo(n,"popover",h);break;case"xlinkActuate":Kn(n,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Kn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Kn(n,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Kn(n,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Kn(n,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Kn(n,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Kn(n,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Kn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Kn(n,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":bo(n,"is",h);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=H2.get(o)||o,bo(n,o,h))}}function jc(n,s,o,h,m,p){switch(o){case"style":Rg(n,h,p);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(i(61));if(o=h.__html,o!=null){if(m.children!=null)throw Error(i(60));n.innerHTML=o}}break;case"children":typeof h=="string"?Nr(n,h):(typeof h=="number"||typeof h=="bigint")&&Nr(n,""+h);break;case"onScroll":h!=null&&Zt("scroll",n);break;case"onScrollEnd":h!=null&&Zt("scrollend",n);break;case"onClick":h!=null&&(n.onclick=gu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ji.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),s=o.slice(2,m?o.length-7:void 0),p=n[pt]||null,p=p!=null?p[o]:null,typeof p=="function"&&n.removeEventListener(s,p,m),typeof h=="function")){typeof p!="function"&&p!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(s,h,m);break t}o in n?n[o]=h:h===!0?n.setAttribute(o,""):bo(n,o,h)}}}function ri(n,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Zt("error",n),Zt("load",n);var h=!1,m=!1,p;for(p in o)if(o.hasOwnProperty(p)){var S=o[p];if(S!=null)switch(p){case"src":h=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:fe(n,s,p,S,o,null)}}m&&fe(n,s,"srcSet",o.srcSet,o,null),h&&fe(n,s,"src",o.src,o,null);return;case"input":Zt("invalid",n);var A=p=S=m=null,D=null,q=null;for(h in o)if(o.hasOwnProperty(h)){var it=o[h];if(it!=null)switch(h){case"name":m=it;break;case"type":S=it;break;case"checked":D=it;break;case"defaultChecked":q=it;break;case"value":p=it;break;case"defaultValue":A=it;break;case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(i(137,s));break;default:fe(n,s,h,it,o,null)}}Og(n,p,A,D,q,S,m,!1),So(n);return;case"select":Zt("invalid",n),h=S=p=null;for(m in o)if(o.hasOwnProperty(m)&&(A=o[m],A!=null))switch(m){case"value":p=A;break;case"defaultValue":S=A;break;case"multiple":h=A;default:fe(n,s,m,A,o,null)}s=p,o=S,n.multiple=!!h,s!=null?Br(n,!!h,s,!1):o!=null&&Br(n,!!h,o,!0);return;case"textarea":Zt("invalid",n),p=m=h=null;for(S in o)if(o.hasOwnProperty(S)&&(A=o[S],A!=null))switch(S){case"value":h=A;break;case"defaultValue":m=A;break;case"children":p=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(i(91));break;default:fe(n,s,S,A,o,null)}Eg(n,h,m,p),So(n);return;case"option":for(D in o)if(o.hasOwnProperty(D)&&(h=o[D],h!=null))switch(D){case"selected":n.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:fe(n,s,D,h,o,null)}return;case"dialog":Zt("beforetoggle",n),Zt("toggle",n),Zt("cancel",n),Zt("close",n);break;case"iframe":case"object":Zt("load",n);break;case"video":case"audio":for(h=0;h<va.length;h++)Zt(va[h],n);break;case"image":Zt("error",n),Zt("load",n);break;case"details":Zt("toggle",n);break;case"embed":case"source":case"link":Zt("error",n),Zt("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in o)if(o.hasOwnProperty(q)&&(h=o[q],h!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:fe(n,s,q,h,o,null)}return;default:if(nh(s)){for(it in o)o.hasOwnProperty(it)&&(h=o[it],h!==void 0&&jc(n,s,it,h,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(h=o[A],h!=null&&fe(n,s,A,h,o,null))}function ok(n,s,o,h){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,p=null,S=null,A=null,D=null,q=null,it=null;for(X in o){var at=o[X];if(o.hasOwnProperty(X)&&at!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":D=at;default:h.hasOwnProperty(X)||fe(n,s,X,null,h,at)}}for(var P in h){var X=h[P];if(at=o[P],h.hasOwnProperty(P)&&(X!=null||at!=null))switch(P){case"type":p=X;break;case"name":m=X;break;case"checked":q=X;break;case"defaultChecked":it=X;break;case"value":S=X;break;case"defaultValue":A=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,s));break;default:X!==at&&fe(n,s,P,X,h,at)}}eh(n,S,A,D,q,it,p,m);return;case"select":X=S=A=P=null;for(p in o)if(D=o[p],o.hasOwnProperty(p)&&D!=null)switch(p){case"value":break;case"multiple":X=D;default:h.hasOwnProperty(p)||fe(n,s,p,null,h,D)}for(m in h)if(p=h[m],D=o[m],h.hasOwnProperty(m)&&(p!=null||D!=null))switch(m){case"value":P=p;break;case"defaultValue":A=p;break;case"multiple":S=p;default:p!==D&&fe(n,s,m,p,h,D)}s=A,o=S,h=X,P!=null?Br(n,!!o,P,!1):!!h!=!!o&&(s!=null?Br(n,!!o,s,!0):Br(n,!!o,o?[]:"",!1));return;case"textarea":X=P=null;for(A in o)if(m=o[A],o.hasOwnProperty(A)&&m!=null&&!h.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:fe(n,s,A,null,h,m)}for(S in h)if(m=h[S],p=o[S],h.hasOwnProperty(S)&&(m!=null||p!=null))switch(S){case"value":P=m;break;case"defaultValue":X=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==p&&fe(n,s,S,m,h,p)}Mg(n,P,X);return;case"option":for(var Lt in o)if(P=o[Lt],o.hasOwnProperty(Lt)&&P!=null&&!h.hasOwnProperty(Lt))switch(Lt){case"selected":n.selected=!1;break;default:fe(n,s,Lt,null,h,P)}for(D in h)if(P=h[D],X=o[D],h.hasOwnProperty(D)&&P!==X&&(P!=null||X!=null))switch(D){case"selected":n.selected=P&&typeof P!="function"&&typeof P!="symbol";break;default:fe(n,s,D,P,h,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Nt in o)P=o[Nt],o.hasOwnProperty(Nt)&&P!=null&&!h.hasOwnProperty(Nt)&&fe(n,s,Nt,null,h,P);for(q in h)if(P=h[q],X=o[q],h.hasOwnProperty(q)&&P!==X&&(P!=null||X!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(i(137,s));break;default:fe(n,s,q,P,h,X)}return;default:if(nh(s)){for(var he in o)P=o[he],o.hasOwnProperty(he)&&P!==void 0&&!h.hasOwnProperty(he)&&jc(n,s,he,void 0,h,P);for(it in h)P=h[it],X=o[it],!h.hasOwnProperty(it)||P===X||P===void 0&&X===void 0||jc(n,s,it,P,h,X);return}}for(var H in o)P=o[H],o.hasOwnProperty(H)&&P!=null&&!h.hasOwnProperty(H)&&fe(n,s,H,null,h,P);for(at in h)P=h[at],X=o[at],!h.hasOwnProperty(at)||P===X||P==null&&X==null||fe(n,s,at,P,h,X)}var Qc=null,Yc=null;function pu(n){return n.nodeType===9?n:n.ownerDocument}function D1(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function R1(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function Pc(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Gc=null;function uk(){var n=window.event;return n&&n.type==="popstate"?n===Gc?!1:(Gc=n,!0):(Gc=null,!1)}var B1=typeof setTimeout=="function"?setTimeout:void 0,fk=typeof clearTimeout=="function"?clearTimeout:void 0,N1=typeof Promise=="function"?Promise:void 0,hk=typeof queueMicrotask=="function"?queueMicrotask:typeof N1<"u"?function(n){return N1.resolve(null).then(n).catch(ck)}:B1;function ck(n){setTimeout(function(){throw n})}function Rl(n){return n==="head"}function z1(n,s){var o=s,h=0,m=0;do{var p=o.nextSibling;if(n.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"){if(0<h&&8>h){o=h;var S=n.ownerDocument;if(o&1&&xa(S.documentElement),o&2&&xa(S.body),o&4)for(o=S.head,xa(o),S=o.firstChild;S;){var A=S.nextSibling,D=S.nodeName;S[Se]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&S.rel.toLowerCase()==="stylesheet"||o.removeChild(S),S=A}}if(m===0){n.removeChild(p),Oa(s);return}m--}else o==="$"||o==="$?"||o==="$!"?m++:h=o.charCodeAt(0)-48;else h=0;o=p}while(o);Oa(s)}function Xc(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Xc(o),qe(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function dk(n,s,o,h){for(;n.nodeType===1;){var m=o;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!h&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(h){if(!n[Se])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(p=n.getAttribute("rel"),p==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(p!==m.rel||n.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||n.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||n.getAttribute("title")!==(m.title==null?null:m.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(p=n.getAttribute("src"),(p!==(m.src==null?null:m.src)||n.getAttribute("type")!==(m.type==null?null:m.type)||n.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&p&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var p=m.name==null?null:""+m.name;if(m.type==="hidden"&&n.getAttribute("name")===p)return n}else return n;if(n=xn(n.nextSibling),n===null)break}return null}function mk(n,s,o){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=xn(n.nextSibling),n===null))return null;return n}function Zc(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function gk(n,s){var o=n.ownerDocument;if(n.data!=="$?"||o.readyState==="complete")s();else{var h=function(){s(),o.removeEventListener("DOMContentLoaded",h)};o.addEventListener("DOMContentLoaded",h),n._reactRetry=h}}function xn(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return n}var Kc=null;function L1(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return n;s--}else o==="/$"&&s++}n=n.previousSibling}return null}function H1(n,s,o){switch(s=pu(o),n){case"html":if(n=s.documentElement,!n)throw Error(i(452));return n;case"head":if(n=s.head,!n)throw Error(i(453));return n;case"body":if(n=s.body,!n)throw Error(i(454));return n;default:throw Error(i(451))}}function xa(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);qe(n)}var on=new Map,U1=new Set;function yu(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var ol=$.d;$.d={f:pk,r:yk,D:vk,C:bk,L:xk,m:Sk,X:kk,S:wk,M:Ak};function pk(){var n=ol.f(),s=ou();return n||s}function yk(n){var s=yn(n);s!==null&&s.tag===5&&s.type==="form"?l0(s):ol.r(n)}var us=typeof document>"u"?null:document;function V1(n,s,o){var h=us;if(h&&typeof s=="string"&&s){var m=tn(s);m='link[rel="'+n+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),U1.has(m)||(U1.add(m),n={rel:n,crossOrigin:o,href:s},h.querySelector(m)===null&&(s=h.createElement("link"),ri(s,"link",n),le(s),h.head.appendChild(s)))}}function vk(n){ol.D(n),V1("dns-prefetch",n,null)}function bk(n,s){ol.C(n,s),V1("preconnect",n,s)}function xk(n,s,o){ol.L(n,s,o);var h=us;if(h&&n&&s){var m='link[rel="preload"][as="'+tn(s)+'"]';s==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+tn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+tn(o.imageSizes)+'"]')):m+='[href="'+tn(n)+'"]';var p=m;switch(s){case"style":p=fs(n);break;case"script":p=hs(n)}on.has(p)||(n=g({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:n,as:s},o),on.set(p,n),h.querySelector(m)!==null||s==="style"&&h.querySelector(Sa(p))||s==="script"&&h.querySelector(wa(p))||(s=h.createElement("link"),ri(s,"link",n),le(s),h.head.appendChild(s)))}}function Sk(n,s){ol.m(n,s);var o=us;if(o&&n){var h=s&&typeof s.as=="string"?s.as:"script",m='link[rel="modulepreload"][as="'+tn(h)+'"][href="'+tn(n)+'"]',p=m;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=hs(n)}if(!on.has(p)&&(n=g({rel:"modulepreload",href:n},s),on.set(p,n),o.querySelector(m)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(wa(p)))return}h=o.createElement("link"),ri(h,"link",n),le(h),o.head.appendChild(h)}}}function wk(n,s,o){ol.S(n,s,o);var h=us;if(h&&n){var m=ce(h).hoistableStyles,p=fs(n);s=s||"default";var S=m.get(p);if(!S){var A={loading:0,preload:null};if(S=h.querySelector(Sa(p)))A.loading=5;else{n=g({rel:"stylesheet",href:n,"data-precedence":s},o),(o=on.get(p))&&Ic(n,o);var D=S=h.createElement("link");le(D),ri(D,"link",n),D._p=new Promise(function(q,it){D.onload=q,D.onerror=it}),D.addEventListener("load",function(){A.loading|=1}),D.addEventListener("error",function(){A.loading|=2}),A.loading|=4,vu(S,s,h)}S={type:"stylesheet",instance:S,count:1,state:A},m.set(p,S)}}}function kk(n,s){ol.X(n,s);var o=us;if(o&&n){var h=ce(o).hoistableScripts,m=hs(n),p=h.get(m);p||(p=o.querySelector(wa(m)),p||(n=g({src:n,async:!0},s),(s=on.get(m))&&Fc(n,s),p=o.createElement("script"),le(p),ri(p,"link",n),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},h.set(m,p))}}function Ak(n,s){ol.M(n,s);var o=us;if(o&&n){var h=ce(o).hoistableScripts,m=hs(n),p=h.get(m);p||(p=o.querySelector(wa(m)),p||(n=g({src:n,async:!0,type:"module"},s),(s=on.get(m))&&Fc(n,s),p=o.createElement("script"),le(p),ri(p,"link",n),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},h.set(m,p))}}function q1(n,s,o,h){var m=(m=Mt.current)?yu(m):null;if(!m)throw Error(i(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=fs(o.href),o=ce(m).hoistableStyles,h=o.get(s),h||(h={type:"style",instance:null,count:0,state:null},o.set(s,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=fs(o.href);var p=ce(m).hoistableStyles,S=p.get(n);if(S||(m=m.ownerDocument||m,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(n,S),(p=m.querySelector(Sa(n)))&&!p._p&&(S.instance=p,S.state.loading=5),on.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},on.set(n,o),p||Ck(m,n,o,S.state))),s&&h===null)throw Error(i(528,""));return S}if(s&&h!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=hs(o),o=ce(m).hoistableScripts,h=o.get(s),h||(h={type:"script",instance:null,count:0,state:null},o.set(s,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,n))}}function fs(n){return'href="'+tn(n)+'"'}function Sa(n){return'link[rel="stylesheet"]['+n+"]"}function j1(n){return g({},n,{"data-precedence":n.precedence,precedence:null})}function Ck(n,s,o,h){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?h.loading=1:(s=n.createElement("link"),h.preload=s,s.addEventListener("load",function(){return h.loading|=1}),s.addEventListener("error",function(){return h.loading|=2}),ri(s,"link",o),le(s),n.head.appendChild(s))}function hs(n){return'[src="'+tn(n)+'"]'}function wa(n){return"script[async]"+n}function Q1(n,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var h=n.querySelector('style[data-href~="'+tn(o.href)+'"]');if(h)return s.instance=h,le(h),h;var m=g({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return h=(n.ownerDocument||n).createElement("style"),le(h),ri(h,"style",m),vu(h,o.precedence,n),s.instance=h;case"stylesheet":m=fs(o.href);var p=n.querySelector(Sa(m));if(p)return s.state.loading|=4,s.instance=p,le(p),p;h=j1(o),(m=on.get(m))&&Ic(h,m),p=(n.ownerDocument||n).createElement("link"),le(p);var S=p;return S._p=new Promise(function(A,D){S.onload=A,S.onerror=D}),ri(p,"link",h),s.state.loading|=4,vu(p,o.precedence,n),s.instance=p;case"script":return p=hs(o.src),(m=n.querySelector(wa(p)))?(s.instance=m,le(m),m):(h=o,(m=on.get(p))&&(h=g({},o),Fc(h,m)),n=n.ownerDocument||n,m=n.createElement("script"),le(m),ri(m,"link",h),n.head.appendChild(m),s.instance=m);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(h=s.instance,s.state.loading|=4,vu(h,o.precedence,n));return s.instance}function vu(n,s,o){for(var h=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=h.length?h[h.length-1]:null,p=m,S=0;S<h.length;S++){var A=h[S];if(A.dataset.precedence===s)p=A;else if(p!==m)break}p?p.parentNode.insertBefore(n,p.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(n,s.firstChild))}function Ic(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function Fc(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var bu=null;function Y1(n,s,o){if(bu===null){var h=new Map,m=bu=new Map;m.set(o,h)}else m=bu,h=m.get(o),h||(h=new Map,m.set(o,h));if(h.has(n))return h;for(h.set(n,null),o=o.getElementsByTagName(n),m=0;m<o.length;m++){var p=o[m];if(!(p[Se]||p[wt]||n==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var S=p.getAttribute(s)||"";S=n+S;var A=h.get(S);A?A.push(p):h.set(S,[p])}}return h}function P1(n,s,o){n=n.ownerDocument||n,n.head.insertBefore(o,s==="title"?n.querySelector("head > title"):null)}function _k(n,s,o){if(o===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function G1(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var ka=null;function Tk(){}function Ok(n,s,o){if(ka===null)throw Error(i(475));var h=ka;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var m=fs(o.href),p=n.querySelector(Sa(m));if(p){n=p._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(h.count++,h=xu.bind(h),n.then(h,h)),s.state.loading|=4,s.instance=p,le(p);return}p=n.ownerDocument||n,o=j1(o),(m=on.get(m))&&Ic(o,m),p=p.createElement("link"),le(p);var S=p;S._p=new Promise(function(A,D){S.onload=A,S.onerror=D}),ri(p,"link",o),s.instance=p}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(h.count++,s=xu.bind(h),n.addEventListener("load",s),n.addEventListener("error",s))}}function Mk(){if(ka===null)throw Error(i(475));var n=ka;return n.stylesheets&&n.count===0&&Wc(n,n.stylesheets),0<n.count?function(s){var o=setTimeout(function(){if(n.stylesheets&&Wc(n,n.stylesheets),n.unsuspend){var h=n.unsuspend;n.unsuspend=null,h()}},6e4);return n.unsuspend=s,function(){n.unsuspend=null,clearTimeout(o)}}:null}function xu(){if(this.count--,this.count===0){if(this.stylesheets)Wc(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Su=null;function Wc(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Su=new Map,s.forEach(Ek,n),Su=null,xu.call(n))}function Ek(n,s){if(!(s.state.loading&4)){var o=Su.get(n);if(o)var h=o.get(null);else{o=new Map,Su.set(n,o);for(var m=n.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<m.length;p++){var S=m[p];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(o.set(S.dataset.precedence,S),h=S)}h&&o.set(null,h)}m=s.instance,S=m.getAttribute("data-precedence"),p=o.get(S)||h,p===h&&o.set(null,m),o.set(S,m),this.count++,h=xu.bind(this),m.addEventListener("load",h),m.addEventListener("error",h),p?p.parentNode.insertBefore(m,p.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(m,n.firstChild)),s.state.loading|=4}}var Aa={$$typeof:j,Provider:null,Consumer:null,_currentValue:rt,_currentValue2:rt,_threadCount:0};function Dk(n,s,o,h,m,p,S,A){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=tt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tt(0),this.hiddenUpdates=tt(null),this.identifierPrefix=h,this.onUncaughtError=m,this.onCaughtError=p,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function X1(n,s,o,h,m,p,S,A,D,q,it,at){return n=new Dk(n,s,o,S,A,D,q,at),s=1,p===!0&&(s|=24),p=ji(3,null,null,s),n.current=p,p.stateNode=n,s=Rh(),s.refCount++,n.pooledCache=s,s.refCount++,p.memoizedState={element:h,isDehydrated:o,cache:s},Lh(p),n}function Z1(n){return n?(n=Qr,n):Qr}function K1(n,s,o,h,m,p){m=Z1(m),h.context===null?h.context=m:h.pendingContext=m,h=bl(s),h.payload={element:o},p=p===void 0?null:p,p!==null&&(h.callback=p),o=xl(n,h,s),o!==null&&(Xi(o,n,s),ta(o,n,s))}function I1(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<s?o:s}}function Jc(n,s){I1(n,s),(n=n.alternate)&&I1(n,s)}function F1(n){if(n.tag===13){var s=jr(n,67108864);s!==null&&Xi(s,n,67108864),Jc(n,67108864)}}var wu=!0;function Rk(n,s,o,h){var m=U.T;U.T=null;var p=$.p;try{$.p=2,$c(n,s,o,h)}finally{$.p=p,U.T=m}}function Bk(n,s,o,h){var m=U.T;U.T=null;var p=$.p;try{$.p=8,$c(n,s,o,h)}finally{$.p=p,U.T=m}}function $c(n,s,o,h){if(wu){var m=td(h);if(m===null)qc(n,s,h,ku,o),J1(n,h);else if(zk(m,n,s,o,h))h.stopPropagation();else if(J1(n,h),s&4&&-1<Nk.indexOf(n)){for(;m!==null;){var p=yn(m);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var S=Mi(p.pendingLanes);if(S!==0){var A=p;for(A.pendingLanes|=2,A.entangledLanes|=2;S;){var D=1<<31-Ee(S);A.entanglements[1]|=D,S&=~D}Bn(p),(ae&6)===0&&(su=jt()+500,ya(0))}}break;case 13:A=jr(p,2),A!==null&&Xi(A,p,2),ou(),Jc(p,2)}if(p=td(h),p===null&&qc(n,s,h,ku,o),p===m)break;m=p}m!==null&&h.stopPropagation()}else qc(n,s,h,null,o)}}function td(n){return n=rh(n),ed(n)}var ku=null;function ed(n){if(ku=null,n=Ne(n),n!==null){var s=a(n);if(s===null)n=null;else{var o=s.tag;if(o===13){if(n=u(s),n!==null)return n;n=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return ku=n,null}function W1(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ci()){case _n:return 2;case vi:return 8;case Fe:case xe:return 32;case qt:return 268435456;default:return 32}default:return 32}}var id=!1,Bl=null,Nl=null,zl=null,Ca=new Map,_a=new Map,Ll=[],Nk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function J1(n,s){switch(n){case"focusin":case"focusout":Bl=null;break;case"dragenter":case"dragleave":Nl=null;break;case"mouseover":case"mouseout":zl=null;break;case"pointerover":case"pointerout":Ca.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":_a.delete(s.pointerId)}}function Ta(n,s,o,h,m,p){return n===null||n.nativeEvent!==p?(n={blockedOn:s,domEventName:o,eventSystemFlags:h,nativeEvent:p,targetContainers:[m]},s!==null&&(s=yn(s),s!==null&&F1(s)),n):(n.eventSystemFlags|=h,s=n.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),n)}function zk(n,s,o,h,m){switch(s){case"focusin":return Bl=Ta(Bl,n,s,o,h,m),!0;case"dragenter":return Nl=Ta(Nl,n,s,o,h,m),!0;case"mouseover":return zl=Ta(zl,n,s,o,h,m),!0;case"pointerover":var p=m.pointerId;return Ca.set(p,Ta(Ca.get(p)||null,n,s,o,h,m)),!0;case"gotpointercapture":return p=m.pointerId,_a.set(p,Ta(_a.get(p)||null,n,s,o,h,m)),!0}return!1}function $1(n){var s=Ne(n.target);if(s!==null){var o=a(s);if(o!==null){if(s=o.tag,s===13){if(s=u(o),s!==null){n.blockedOn=s,R(n.priority,function(){if(o.tag===13){var h=Gi();h=K(h);var m=jr(o,h);m!==null&&Xi(m,o,h),Jc(o,h)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Au(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var o=td(n.nativeEvent);if(o===null){o=n.nativeEvent;var h=new o.constructor(o.type,o);lh=h,o.target.dispatchEvent(h),lh=null}else return s=yn(o),s!==null&&F1(s),n.blockedOn=o,!1;s.shift()}return!0}function ty(n,s,o){Au(n)&&o.delete(s)}function Lk(){id=!1,Bl!==null&&Au(Bl)&&(Bl=null),Nl!==null&&Au(Nl)&&(Nl=null),zl!==null&&Au(zl)&&(zl=null),Ca.forEach(ty),_a.forEach(ty)}function Cu(n,s){n.blockedOn===s&&(n.blockedOn=null,id||(id=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,Lk)))}var _u=null;function ey(n){_u!==n&&(_u=n,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){_u===n&&(_u=null);for(var s=0;s<n.length;s+=3){var o=n[s],h=n[s+1],m=n[s+2];if(typeof h!="function"){if(ed(h||o)===null)continue;break}var p=yn(o);p!==null&&(n.splice(s,3),s-=3,ec(p,{pending:!0,data:m,method:o.method,action:h},h,m))}}))}function Oa(n){function s(D){return Cu(D,n)}Bl!==null&&Cu(Bl,n),Nl!==null&&Cu(Nl,n),zl!==null&&Cu(zl,n),Ca.forEach(s),_a.forEach(s);for(var o=0;o<Ll.length;o++){var h=Ll[o];h.blockedOn===n&&(h.blockedOn=null)}for(;0<Ll.length&&(o=Ll[0],o.blockedOn===null);)$1(o),o.blockedOn===null&&Ll.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(h=0;h<o.length;h+=3){var m=o[h],p=o[h+1],S=m[pt]||null;if(typeof p=="function")S||ey(o);else if(S){var A=null;if(p&&p.hasAttribute("formAction")){if(m=p,S=p[pt]||null)A=S.formAction;else if(ed(m)!==null)continue}else A=S.action;typeof A=="function"?o[h+1]=A:(o.splice(h,3),h-=3),ey(o)}}}function nd(n){this._internalRoot=n}Tu.prototype.render=nd.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,h=Gi();K1(o,h,n,s,null,null)},Tu.prototype.unmount=nd.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;K1(n.current,2,null,n,null,null),ou(),s[kt]=null}};function Tu(n){this._internalRoot=n}Tu.prototype.unstable_scheduleHydration=function(n){if(n){var s=C();n={blockedOn:null,target:n,priority:s};for(var o=0;o<Ll.length&&s!==0&&s<Ll[o].priority;o++);Ll.splice(o,0,n),o===0&&$1(n)}};var iy=t.version;if(iy!=="19.1.0")throw Error(i(527,iy,"19.1.0"));$.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=c(s),n=n!==null?d(n):null,n=n===null?null:n.stateNode,n};var Hk={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ou=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ou.isDisabled&&Ou.supportsFiber)try{Oi=Ou.inject(Hk),ye=Ou}catch{}}return Ea.createRoot=function(n,s){if(!r(n))throw Error(i(299));var o=!1,h="",m=v0,p=b0,S=x0,A=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(S=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(A=s.unstable_transitionCallbacks)),s=X1(n,1,!1,null,null,o,h,m,p,S,A,null),n[kt]=s.current,Vc(n),new nd(s)},Ea.hydrateRoot=function(n,s,o){if(!r(n))throw Error(i(299));var h=!1,m="",p=v0,S=b0,A=x0,D=null,q=null;return o!=null&&(o.unstable_strictMode===!0&&(h=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(S=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(D=o.unstable_transitionCallbacks),o.formState!==void 0&&(q=o.formState)),s=X1(n,1,!0,s,o??null,h,m,p,S,A,D,q),s.context=Z1(null),o=s.current,h=Gi(),h=K(h),m=bl(h),m.callback=null,xl(o,m,h),o=h,s.current.lanes=o,k(s,o),Bn(s),n[kt]=s.current,Vc(n),new Tu(s)},Ea.version="19.1.0",Ea}var dy;function Fk(){if(dy)return sd.exports;dy=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(t){console.error(t)}}return l(),sd.exports=Ik(),sd.exports}var Wk=Fk();const Jk=Ab(Wk);function $k({className:l}){return It.jsx("div",{className:`border-2 border-gray-200 flex items-center justify-center ${l}`,children:"Code Data Wiz!"})}const tA=l=>{const t=se.useRef(null),e=se.useRef(null),[i,r]=se.useState(l.initialSize||50);console.assert(l.children.length===2,{message:"Invalid number of children",actual:l.children.length});const a=eA(e,t,r);return se.useEffect(()=>{e.current&&(e.current.style.width=`${i}%`)},[i]),It.jsxs("div",{className:`flex flex-row h-full ${l.className??""}`,ref:t,children:[It.jsx("div",{ref:e,style:{width:`${i}%`},className:"flex flex-col h-full",children:l.children[0]}),It.jsx("div",{className:"splitter__divider bg-slate-300",onMouseDown:a,style:{cursor:"col-resize"}}),It.jsx("div",{className:"grow flex flex-col h-full",children:l.children[1]})]})};function eA(l,t,e){return se.useCallback(i=>{const r={x:i.clientX,y:i.clientY};if(!l.current||!t.current)return;const a=l.current.getBoundingClientRect().width,u=t.current.getBoundingClientRect().width;if(a===void 0||u===void 0)return;const f=d=>{const g=d.clientX-r.x,y=(a+g)/u*100;e(Math.min(Math.max(y,10),90))},c=()=>{document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",c)};document.addEventListener("mousemove",f),document.addEventListener("mouseup",c)},[l,t,e])}var Sn=(l=>(l.ClassDiagram="ClassDiagram",l.SQLQuery="SQLQuery",l.SecondaryEditor="SecondaryEditor",l.PlantUML="PlantUML",l))(Sn||{});function iA(){return{leftEditorType:Sn.ClassDiagram,rightEditorType:Sn.SecondaryEditor,value:{entities:[]}}}function nA(l){return{onChangeLeftEditorType:t=>l(e=>({...e,leftEditorType:t})),onChangeRightEditorType:t=>l(e=>({...e,rightEditorType:t})),onChangeValue:t=>l(e=>({...e,value:t}))}}const Cb=1024;let lA=0,fd=class{constructor(t,e){this.from=t,this.to=e}};class Gt{constructor(t={}){this.id=lA++,this.perNode=!!t.perNode,this.deserialize=t.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(t){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof t!="function"&&(t=Ui.match(t)),e=>{let i=t(e);return i===void 0?null:[this,i]}}}Gt.closedBy=new Gt({deserialize:l=>l.split(" ")});Gt.openedBy=new Gt({deserialize:l=>l.split(" ")});Gt.group=new Gt({deserialize:l=>l.split(" ")});Gt.isolate=new Gt({deserialize:l=>{if(l&&l!="rtl"&&l!="ltr"&&l!="auto")throw new RangeError("Invalid value for isolate: "+l);return l||"auto"}});Gt.contextHash=new Gt({perNode:!0});Gt.lookAhead=new Gt({perNode:!0});Gt.mounted=new Gt({perNode:!0});class ff{constructor(t,e,i){this.tree=t,this.overlay=e,this.parser=i}static get(t){return t&&t.props&&t.props[Gt.mounted.id]}}const rA=Object.create(null);class Ui{constructor(t,e,i,r=0){this.name=t,this.props=e,this.id=i,this.flags=r}static define(t){let e=t.props&&t.props.length?Object.create(null):rA,i=(t.top?1:0)|(t.skipped?2:0)|(t.error?4:0)|(t.name==null?8:0),r=new Ui(t.name||"",e,t.id,i);if(t.props){for(let a of t.props)if(Array.isArray(a)||(a=a(r)),a){if(a[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");e[a[0].id]=a[1]}}return r}prop(t){return this.props[t.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(t){if(typeof t=="string"){if(this.name==t)return!0;let e=this.prop(Gt.group);return e?e.indexOf(t)>-1:!1}return this.id==t}static match(t){let e=Object.create(null);for(let i in t)for(let r of i.split(" "))e[r]=t[i];return i=>{for(let r=i.prop(Gt.group),a=-1;a<(r?r.length:0);a++){let u=e[a<0?i.name:r[a]];if(u)return u}}}}Ui.none=new Ui("",Object.create(null),0,8);class Qm{constructor(t){this.types=t;for(let e=0;e<t.length;e++)if(t[e].id!=e)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...t){let e=[];for(let i of this.types){let r=null;for(let a of t){let u=a(i);u&&(r||(r=Object.assign({},i.props)),r[u[0].id]=u[1])}e.push(r?new Ui(i.name,r,i.id,i.flags):i)}return new Qm(e)}}const Mu=new WeakMap,my=new WeakMap;var ei;(function(l){l[l.ExcludeBuffers=1]="ExcludeBuffers",l[l.IncludeAnonymous=2]="IncludeAnonymous",l[l.IgnoreMounts=4]="IgnoreMounts",l[l.IgnoreOverlays=8]="IgnoreOverlays"})(ei||(ei={}));class Ge{constructor(t,e,i,r,a){if(this.type=t,this.children=e,this.positions=i,this.length=r,this.props=null,a&&a.length){this.props=Object.create(null);for(let[u,f]of a)this.props[typeof u=="number"?u:u.id]=f}}toString(){let t=ff.get(this);if(t&&!t.overlay)return t.tree.toString();let e="";for(let i of this.children){let r=i.toString();r&&(e&&(e+=","),e+=r)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(e.length?"("+e+")":""):e}cursor(t=0){return new Qd(this.topNode,t)}cursorAt(t,e=0,i=0){let r=Mu.get(this)||this.topNode,a=new Qd(r);return a.moveTo(t,e),Mu.set(this,a._tree),a}get topNode(){return new cn(this,0,0,null)}resolve(t,e=0){let i=Za(Mu.get(this)||this.topNode,t,e,!1);return Mu.set(this,i),i}resolveInner(t,e=0){let i=Za(my.get(this)||this.topNode,t,e,!0);return my.set(this,i),i}resolveStack(t,e=0){return oA(this,t,e)}iterate(t){let{enter:e,leave:i,from:r=0,to:a=this.length}=t,u=t.mode||0,f=(u&ei.IncludeAnonymous)>0;for(let c=this.cursor(u|ei.IncludeAnonymous);;){let d=!1;if(c.from<=a&&c.to>=r&&(!f&&c.type.isAnonymous||e(c)!==!1)){if(c.firstChild())continue;d=!0}for(;d&&i&&(f||!c.type.isAnonymous)&&i(c),!c.nextSibling();){if(!c.parent())return;d=!0}}}prop(t){return t.perNode?this.props?this.props[t.id]:void 0:this.type.prop(t)}get propValues(){let t=[];if(this.props)for(let e in this.props)t.push([+e,this.props[e]]);return t}balance(t={}){return this.children.length<=8?this:Gm(Ui.none,this.children,this.positions,0,this.children.length,0,this.length,(e,i,r)=>new Ge(this.type,e,i,r,this.propValues),t.makeTree||((e,i,r)=>new Ge(Ui.none,e,i,r)))}static build(t){return uA(t)}}Ge.empty=new Ge(Ui.none,[],[],0);class Ym{constructor(t,e){this.buffer=t,this.index=e}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new Ym(this.buffer,this.index)}}class Il{constructor(t,e,i){this.buffer=t,this.length=e,this.set=i}get type(){return Ui.none}toString(){let t=[];for(let e=0;e<this.buffer.length;)t.push(this.childString(e)),e=this.buffer[e+3];return t.join(",")}childString(t){let e=this.buffer[t],i=this.buffer[t+3],r=this.set.types[e],a=r.name;if(/\W/.test(a)&&!r.isError&&(a=JSON.stringify(a)),t+=4,i==t)return a;let u=[];for(;t<i;)u.push(this.childString(t)),t=this.buffer[t+3];return a+"("+u.join(",")+")"}findChild(t,e,i,r,a){let{buffer:u}=this,f=-1;for(let c=t;c!=e&&!(_b(a,r,u[c+1],u[c+2])&&(f=c,i>0));c=u[c+3]);return f}slice(t,e,i){let r=this.buffer,a=new Uint16Array(e-t),u=0;for(let f=t,c=0;f<e;){a[c++]=r[f++],a[c++]=r[f++]-i;let d=a[c++]=r[f++]-i;a[c++]=r[f++]-t,u=Math.max(u,d)}return new Il(a,u,this.set)}}function _b(l,t,e,i){switch(l){case-2:return e<t;case-1:return i>=t&&e<t;case 0:return e<t&&i>t;case 1:return e<=t&&i>t;case 2:return i>t;case 4:return!0}}function Za(l,t,e,i){for(var r;l.from==l.to||(e<1?l.from>=t:l.from>t)||(e>-1?l.to<=t:l.to<t);){let u=!i&&l instanceof cn&&l.index<0?null:l.parent;if(!u)return l;l=u}let a=i?0:ei.IgnoreOverlays;if(i)for(let u=l,f=u.parent;f;u=f,f=u.parent)u instanceof cn&&u.index<0&&((r=f.enter(t,e,a))===null||r===void 0?void 0:r.from)!=u.from&&(l=f);for(;;){let u=l.enter(t,e,a);if(!u)return l;l=u}}class Tb{cursor(t=0){return new Qd(this,t)}getChild(t,e=null,i=null){let r=gy(this,t,e,i);return r.length?r[0]:null}getChildren(t,e=null,i=null){return gy(this,t,e,i)}resolve(t,e=0){return Za(this,t,e,!1)}resolveInner(t,e=0){return Za(this,t,e,!0)}matchContext(t){return jd(this.parent,t)}enterUnfinishedNodesBefore(t){let e=this.childBefore(t),i=this;for(;e;){let r=e.lastChild;if(!r||r.to!=e.to)break;r.type.isError&&r.from==r.to?(i=e,e=r.prevSibling):e=r}return i}get node(){return this}get next(){return this.parent}}class cn extends Tb{constructor(t,e,i,r){super(),this._tree=t,this.from=e,this.index=i,this._parent=r}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(t,e,i,r,a=0){for(let u=this;;){for(let{children:f,positions:c}=u._tree,d=e>0?f.length:-1;t!=d;t+=e){let g=f[t],y=c[t]+u.from;if(_b(r,i,y,y+g.length)){if(g instanceof Il){if(a&ei.ExcludeBuffers)continue;let b=g.findChild(0,g.buffer.length,e,i-y,r);if(b>-1)return new Ql(new sA(u,g,t,y),null,b)}else if(a&ei.IncludeAnonymous||!g.type.isAnonymous||Pm(g)){let b;if(!(a&ei.IgnoreMounts)&&(b=ff.get(g))&&!b.overlay)return new cn(b.tree,y,t,u);let x=new cn(g,y,t,u);return a&ei.IncludeAnonymous||!x.type.isAnonymous?x:x.nextChild(e<0?g.children.length-1:0,e,i,r)}}}if(a&ei.IncludeAnonymous||!u.type.isAnonymous||(u.index>=0?t=u.index+e:t=e<0?-1:u._parent._tree.children.length,u=u._parent,!u))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(t){return this.nextChild(0,1,t,2)}childBefore(t){return this.nextChild(this._tree.children.length-1,-1,t,-2)}enter(t,e,i=0){let r;if(!(i&ei.IgnoreOverlays)&&(r=ff.get(this._tree))&&r.overlay){let a=t-this.from;for(let{from:u,to:f}of r.overlay)if((e>0?u<=a:u<a)&&(e<0?f>=a:f>a))return new cn(r.tree,r.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,t,e,i)}nextSignificantParent(){let t=this;for(;t.type.isAnonymous&&t._parent;)t=t._parent;return t}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function gy(l,t,e,i){let r=l.cursor(),a=[];if(!r.firstChild())return a;if(e!=null){for(let u=!1;!u;)if(u=r.type.is(e),!r.nextSibling())return a}for(;;){if(i!=null&&r.type.is(i))return a;if(r.type.is(t)&&a.push(r.node),!r.nextSibling())return i==null?a:[]}}function jd(l,t,e=t.length-1){for(let i=l;e>=0;i=i.parent){if(!i)return!1;if(!i.type.isAnonymous){if(t[e]&&t[e]!=i.name)return!1;e--}}return!0}class sA{constructor(t,e,i,r){this.parent=t,this.buffer=e,this.index=i,this.start=r}}class Ql extends Tb{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(t,e,i){super(),this.context=t,this._parent=e,this.index=i,this.type=t.buffer.set.types[t.buffer.buffer[i]]}child(t,e,i){let{buffer:r}=this.context,a=r.findChild(this.index+4,r.buffer[this.index+3],t,e-this.context.start,i);return a<0?null:new Ql(this.context,this,a)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(t){return this.child(1,t,2)}childBefore(t){return this.child(-1,t,-2)}enter(t,e,i=0){if(i&ei.ExcludeBuffers)return null;let{buffer:r}=this.context,a=r.findChild(this.index+4,r.buffer[this.index+3],e>0?1:-1,t-this.context.start,e);return a<0?null:new Ql(this.context,this,a)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(t){return this._parent?null:this.context.parent.nextChild(this.context.index+t,t,0,4)}get nextSibling(){let{buffer:t}=this.context,e=t.buffer[this.index+3];return e<(this._parent?t.buffer[this._parent.index+3]:t.buffer.length)?new Ql(this.context,this._parent,e):this.externalSibling(1)}get prevSibling(){let{buffer:t}=this.context,e=this._parent?this._parent.index+4:0;return this.index==e?this.externalSibling(-1):new Ql(this.context,this._parent,t.findChild(e,this.index,-1,0,4))}get tree(){return null}toTree(){let t=[],e=[],{buffer:i}=this.context,r=this.index+4,a=i.buffer[this.index+3];if(a>r){let u=i.buffer[this.index+1];t.push(i.slice(r,a,u)),e.push(0)}return new Ge(this.type,t,e,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function Ob(l){if(!l.length)return null;let t=0,e=l[0];for(let a=1;a<l.length;a++){let u=l[a];(u.from>e.from||u.to<e.to)&&(e=u,t=a)}let i=e instanceof cn&&e.index<0?null:e.parent,r=l.slice();return i?r[t]=i:r.splice(t,1),new aA(r,e)}class aA{constructor(t,e){this.heads=t,this.node=e}get next(){return Ob(this.heads)}}function oA(l,t,e){let i=l.resolveInner(t,e),r=null;for(let a=i instanceof cn?i:i.context.parent;a;a=a.parent)if(a.index<0){let u=a.parent;(r||(r=[i])).push(u.resolve(t,e)),a=u}else{let u=ff.get(a.tree);if(u&&u.overlay&&u.overlay[0].from<=t&&u.overlay[u.overlay.length-1].to>=t){let f=new cn(u.tree,u.overlay[0].from+a.from,-1,a);(r||(r=[i])).push(Za(f,t,e,!1))}}return r?Ob(r):i}class Qd{get name(){return this.type.name}constructor(t,e=0){if(this.mode=e,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,t instanceof cn)this.yieldNode(t);else{this._tree=t.context.parent,this.buffer=t.context;for(let i=t._parent;i;i=i._parent)this.stack.unshift(i.index);this.bufferNode=t,this.yieldBuf(t.index)}}yieldNode(t){return t?(this._tree=t,this.type=t.type,this.from=t.from,this.to=t.to,!0):!1}yieldBuf(t,e){this.index=t;let{start:i,buffer:r}=this.buffer;return this.type=e||r.set.types[r.buffer[t]],this.from=i+r.buffer[t+1],this.to=i+r.buffer[t+2],!0}yield(t){return t?t instanceof cn?(this.buffer=null,this.yieldNode(t)):(this.buffer=t.context,this.yieldBuf(t.index,t.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(t,e,i){if(!this.buffer)return this.yield(this._tree.nextChild(t<0?this._tree._tree.children.length-1:0,t,e,i,this.mode));let{buffer:r}=this.buffer,a=r.findChild(this.index+4,r.buffer[this.index+3],t,e-this.buffer.start,i);return a<0?!1:(this.stack.push(this.index),this.yieldBuf(a))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(t){return this.enterChild(1,t,2)}childBefore(t){return this.enterChild(-1,t,-2)}enter(t,e,i=this.mode){return this.buffer?i&ei.ExcludeBuffers?!1:this.enterChild(1,t,e):this.yield(this._tree.enter(t,e,i))}parent(){if(!this.buffer)return this.yieldNode(this.mode&ei.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let t=this.mode&ei.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(t)}sibling(t){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+t,t,0,4,this.mode)):!1;let{buffer:e}=this.buffer,i=this.stack.length-1;if(t<0){let r=i<0?0:this.stack[i]+4;if(this.index!=r)return this.yieldBuf(e.findChild(r,this.index,-1,0,4))}else{let r=e.buffer[this.index+3];if(r<(i<0?e.buffer.length:e.buffer[this.stack[i]+3]))return this.yieldBuf(r)}return i<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+t,t,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(t){let e,i,{buffer:r}=this;if(r){if(t>0){if(this.index<r.buffer.buffer.length)return!1}else for(let a=0;a<this.index;a++)if(r.buffer.buffer[a+3]<this.index)return!1;({index:e,parent:i}=r)}else({index:e,_parent:i}=this._tree);for(;i;{index:e,_parent:i}=i)if(e>-1)for(let a=e+t,u=t<0?-1:i._tree.children.length;a!=u;a+=t){let f=i._tree.children[a];if(this.mode&ei.IncludeAnonymous||f instanceof Il||!f.type.isAnonymous||Pm(f))return!1}return!0}move(t,e){if(e&&this.enterChild(t,0,4))return!0;for(;;){if(this.sibling(t))return!0;if(this.atLastNode(t)||!this.parent())return!1}}next(t=!0){return this.move(1,t)}prev(t=!0){return this.move(-1,t)}moveTo(t,e=0){for(;(this.from==this.to||(e<1?this.from>=t:this.from>t)||(e>-1?this.to<=t:this.to<t))&&this.parent(););for(;this.enterChild(1,t,e););return this}get node(){if(!this.buffer)return this._tree;let t=this.bufferNode,e=null,i=0;if(t&&t.context==this.buffer)t:for(let r=this.index,a=this.stack.length;a>=0;){for(let u=t;u;u=u._parent)if(u.index==r){if(r==this.index)return u;e=u,i=a+1;break t}r=this.stack[--a]}for(let r=i;r<this.stack.length;r++)e=new Ql(this.buffer,e,this.stack[r]);return this.bufferNode=new Ql(this.buffer,e,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(t,e){for(let i=0;;){let r=!1;if(this.type.isAnonymous||t(this)!==!1){if(this.firstChild()){i++;continue}this.type.isAnonymous||(r=!0)}for(;;){if(r&&e&&e(this),r=this.type.isAnonymous,!i)return;if(this.nextSibling())break;this.parent(),i--,r=!0}}}matchContext(t){if(!this.buffer)return jd(this.node.parent,t);let{buffer:e}=this.buffer,{types:i}=e.set;for(let r=t.length-1,a=this.stack.length-1;r>=0;a--){if(a<0)return jd(this._tree,t,r);let u=i[e.buffer[this.stack[a]]];if(!u.isAnonymous){if(t[r]&&t[r]!=u.name)return!1;r--}}return!0}}function Pm(l){return l.children.some(t=>t instanceof Il||!t.type.isAnonymous||Pm(t))}function uA(l){var t;let{buffer:e,nodeSet:i,maxBufferLength:r=Cb,reused:a=[],minRepeatType:u=i.types.length}=l,f=Array.isArray(e)?new Ym(e,e.length):e,c=i.types,d=0,g=0;function y(L,Q,Z,nt,st,mt){let{id:ut,start:G,end:yt,size:St}=f,gt=g,U=d;for(;St<0;)if(f.next(),St==-1){let W=a[ut];Z.push(W),nt.push(G-L);return}else if(St==-3){d=ut;return}else if(St==-4){g=ut;return}else throw new RangeError(`Unrecognized record size: ${St}`);let $=c[ut],rt,bt,E=G-L;if(yt-G<=r&&(bt=O(f.pos-Q,st))){let W=new Uint16Array(bt.size-bt.skip),J=f.pos-bt.size,ht=W.length;for(;f.pos>J;)ht=M(bt.start,W,ht);rt=new Il(W,yt-bt.start,i),E=bt.start-L}else{let W=f.pos-St;f.next();let J=[],ht=[],vt=ut>=u?ut:-1,Rt=0,Mt=yt;for(;f.pos>W;)vt>=0&&f.id==vt&&f.size>=0?(f.end<=Mt-r&&(w(J,ht,G,Rt,f.end,Mt,vt,gt,U),Rt=J.length,Mt=f.end),f.next()):mt>2500?b(G,W,J,ht):y(G,W,J,ht,vt,mt+1);if(vt>=0&&Rt>0&&Rt<J.length&&w(J,ht,G,Rt,G,Mt,vt,gt,U),J.reverse(),ht.reverse(),vt>-1&&Rt>0){let Wt=x($,U);rt=Gm($,J,ht,0,J.length,0,yt-G,Wt,Wt)}else rt=_($,J,ht,yt-G,gt-yt,U)}Z.push(rt),nt.push(E)}function b(L,Q,Z,nt){let st=[],mt=0,ut=-1;for(;f.pos>Q;){let{id:G,start:yt,end:St,size:gt}=f;if(gt>4)f.next();else{if(ut>-1&&yt<ut)break;ut<0&&(ut=St-r),st.push(G,yt,St),mt++,f.next()}}if(mt){let G=new Uint16Array(mt*4),yt=st[st.length-2];for(let St=st.length-3,gt=0;St>=0;St-=3)G[gt++]=st[St],G[gt++]=st[St+1]-yt,G[gt++]=st[St+2]-yt,G[gt++]=gt;Z.push(new Il(G,st[2]-yt,i)),nt.push(yt-L)}}function x(L,Q){return(Z,nt,st)=>{let mt=0,ut=Z.length-1,G,yt;if(ut>=0&&(G=Z[ut])instanceof Ge){if(!ut&&G.type==L&&G.length==st)return G;(yt=G.prop(Gt.lookAhead))&&(mt=nt[ut]+G.length+yt)}return _(L,Z,nt,st,mt,Q)}}function w(L,Q,Z,nt,st,mt,ut,G,yt){let St=[],gt=[];for(;L.length>nt;)St.push(L.pop()),gt.push(Q.pop()+Z-st);L.push(_(i.types[ut],St,gt,mt-st,G-mt,yt)),Q.push(st-Z)}function _(L,Q,Z,nt,st,mt,ut){if(mt){let G=[Gt.contextHash,mt];ut=ut?[G].concat(ut):[G]}if(st>25){let G=[Gt.lookAhead,st];ut=ut?[G].concat(ut):[G]}return new Ge(L,Q,Z,nt,ut)}function O(L,Q){let Z=f.fork(),nt=0,st=0,mt=0,ut=Z.end-r,G={size:0,start:0,skip:0};t:for(let yt=Z.pos-L;Z.pos>yt;){let St=Z.size;if(Z.id==Q&&St>=0){G.size=nt,G.start=st,G.skip=mt,mt+=4,nt+=4,Z.next();continue}let gt=Z.pos-St;if(St<0||gt<yt||Z.start<ut)break;let U=Z.id>=u?4:0,$=Z.start;for(Z.next();Z.pos>gt;){if(Z.size<0)if(Z.size==-3)U+=4;else break t;else Z.id>=u&&(U+=4);Z.next()}st=$,nt+=St,mt+=U}return(Q<0||nt==L)&&(G.size=nt,G.start=st,G.skip=mt),G.size>4?G:void 0}function M(L,Q,Z){let{id:nt,start:st,end:mt,size:ut}=f;if(f.next(),ut>=0&&nt<u){let G=Z;if(ut>4){let yt=f.pos-(ut-4);for(;f.pos>yt;)Z=M(L,Q,Z)}Q[--Z]=G,Q[--Z]=mt-L,Q[--Z]=st-L,Q[--Z]=nt}else ut==-3?d=nt:ut==-4&&(g=nt);return Z}let B=[],j=[];for(;f.pos>0;)y(l.start||0,l.bufferStart||0,B,j,-1,0);let et=(t=l.length)!==null&&t!==void 0?t:B.length?j[0]+B[0].length:0;return new Ge(c[l.topID],B.reverse(),j.reverse(),et)}const py=new WeakMap;function Ju(l,t){if(!l.isAnonymous||t instanceof Il||t.type!=l)return 1;let e=py.get(t);if(e==null){e=1;for(let i of t.children){if(i.type!=l||!(i instanceof Ge)){e=1;break}e+=Ju(l,i)}py.set(t,e)}return e}function Gm(l,t,e,i,r,a,u,f,c){let d=0;for(let w=i;w<r;w++)d+=Ju(l,t[w]);let g=Math.ceil(d*1.5/8),y=[],b=[];function x(w,_,O,M,B){for(let j=O;j<M;){let et=j,L=_[j],Q=Ju(l,w[j]);for(j++;j<M;j++){let Z=Ju(l,w[j]);if(Q+Z>=g)break;Q+=Z}if(j==et+1){if(Q>g){let Z=w[et];x(Z.children,Z.positions,0,Z.children.length,_[et]+B);continue}y.push(w[et])}else{let Z=_[j-1]+w[j-1].length-L;y.push(Gm(l,w,_,et,j,L,Z,null,c))}b.push(L+B-a)}}return x(t,e,i,r,0),(f||c)(y,b,u)}class Cr{constructor(t,e,i,r,a=!1,u=!1){this.from=t,this.to=e,this.tree=i,this.offset=r,this.open=(a?1:0)|(u?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(t,e=[],i=!1){let r=[new Cr(0,t.length,t,0,!1,i)];for(let a of e)a.to>t.length&&r.push(a);return r}static applyChanges(t,e,i=128){if(!e.length)return t;let r=[],a=1,u=t.length?t[0]:null;for(let f=0,c=0,d=0;;f++){let g=f<e.length?e[f]:null,y=g?g.fromA:1e9;if(y-c>=i)for(;u&&u.from<y;){let b=u;if(c>=b.from||y<=b.to||d){let x=Math.max(b.from,c)-d,w=Math.min(b.to,y)-d;b=x>=w?null:new Cr(x,w,b.tree,b.offset+d,f>0,!!g)}if(b&&r.push(b),u.to>y)break;u=a<t.length?t[a++]:null}if(!g)break;c=g.toA,d=g.toA-g.toB}return r}}class Mb{startParse(t,e,i){return typeof t=="string"&&(t=new fA(t)),i=i?i.length?i.map(r=>new fd(r.from,r.to)):[new fd(0,0)]:[new fd(0,t.length)],this.createParse(t,e||[],i)}parse(t,e,i){let r=this.startParse(t,e,i);for(;;){let a=r.advance();if(a)return a}}}class fA{constructor(t){this.string=t}get length(){return this.string.length}chunk(t){return this.string.slice(t)}get lineChunks(){return!1}read(t,e){return this.string.slice(t,e)}}new Gt({perNode:!0});class ne{lineAt(t){if(t<0||t>this.length)throw new RangeError(`Invalid position ${t} in document of length ${this.length}`);return this.lineInner(t,!1,1,0)}line(t){if(t<1||t>this.lines)throw new RangeError(`Invalid line number ${t} in ${this.lines}-line document`);return this.lineInner(t,!0,1,0)}replace(t,e,i){[t,e]=_s(this,t,e);let r=[];return this.decompose(0,t,r,2),i.length&&i.decompose(0,i.length,r,3),this.decompose(e,this.length,r,1),Un.from(r,this.length-(e-t)+i.length)}append(t){return this.replace(this.length,this.length,t)}slice(t,e=this.length){[t,e]=_s(this,t,e);let i=[];return this.decompose(t,e,i,0),Un.from(i,e-t)}eq(t){if(t==this)return!0;if(t.length!=this.length||t.lines!=this.lines)return!1;let e=this.scanIdentical(t,1),i=this.length-this.scanIdentical(t,-1),r=new Qa(this),a=new Qa(t);for(let u=e,f=e;;){if(r.next(u),a.next(u),u=0,r.lineBreak!=a.lineBreak||r.done!=a.done||r.value!=a.value)return!1;if(f+=r.value.length,r.done||f>=i)return!0}}iter(t=1){return new Qa(this,t)}iterRange(t,e=this.length){return new Eb(this,t,e)}iterLines(t,e){let i;if(t==null)i=this.iter();else{e==null&&(e=this.lines+1);let r=this.line(t).from;i=this.iterRange(r,Math.max(r,e==this.lines+1?this.length:e<=1?0:this.line(e-1).to))}return new Db(i)}toString(){return this.sliceString(0)}toJSON(){let t=[];return this.flatten(t),t}constructor(){}static of(t){if(t.length==0)throw new RangeError("A document must have at least one line");return t.length==1&&!t[0]?ne.empty:t.length<=32?new He(t):Un.from(He.split(t,[]))}}class He extends ne{constructor(t,e=hA(t)){super(),this.text=t,this.length=e}get lines(){return this.text.length}get children(){return null}lineInner(t,e,i,r){for(let a=0;;a++){let u=this.text[a],f=r+u.length;if((e?i:f)>=t)return new cA(r,f,i,u);r=f+1,i++}}decompose(t,e,i,r){let a=t<=0&&e>=this.length?this:new He(yy(this.text,t,e),Math.min(e,this.length)-Math.max(0,t));if(r&1){let u=i.pop(),f=$u(a.text,u.text.slice(),0,a.length);if(f.length<=32)i.push(new He(f,u.length+a.length));else{let c=f.length>>1;i.push(new He(f.slice(0,c)),new He(f.slice(c)))}}else i.push(a)}replace(t,e,i){if(!(i instanceof He))return super.replace(t,e,i);[t,e]=_s(this,t,e);let r=$u(this.text,$u(i.text,yy(this.text,0,t)),e),a=this.length+i.length-(e-t);return r.length<=32?new He(r,a):Un.from(He.split(r,[]),a)}sliceString(t,e=this.length,i=`
`){[t,e]=_s(this,t,e);let r="";for(let a=0,u=0;a<=e&&u<this.text.length;u++){let f=this.text[u],c=a+f.length;a>t&&u&&(r+=i),t<c&&e>a&&(r+=f.slice(Math.max(0,t-a),e-a)),a=c+1}return r}flatten(t){for(let e of this.text)t.push(e)}scanIdentical(){return 0}static split(t,e){let i=[],r=-1;for(let a of t)i.push(a),r+=a.length+1,i.length==32&&(e.push(new He(i,r)),i=[],r=-1);return r>-1&&e.push(new He(i,r)),e}}class Un extends ne{constructor(t,e){super(),this.children=t,this.length=e,this.lines=0;for(let i of t)this.lines+=i.lines}lineInner(t,e,i,r){for(let a=0;;a++){let u=this.children[a],f=r+u.length,c=i+u.lines-1;if((e?c:f)>=t)return u.lineInner(t,e,i,r);r=f+1,i=c+1}}decompose(t,e,i,r){for(let a=0,u=0;u<=e&&a<this.children.length;a++){let f=this.children[a],c=u+f.length;if(t<=c&&e>=u){let d=r&((u<=t?1:0)|(c>=e?2:0));u>=t&&c<=e&&!d?i.push(f):f.decompose(t-u,e-u,i,d)}u=c+1}}replace(t,e,i){if([t,e]=_s(this,t,e),i.lines<this.lines)for(let r=0,a=0;r<this.children.length;r++){let u=this.children[r],f=a+u.length;if(t>=a&&e<=f){let c=u.replace(t-a,e-a,i),d=this.lines-u.lines+c.lines;if(c.lines<d>>4&&c.lines>d>>6){let g=this.children.slice();return g[r]=c,new Un(g,this.length-(e-t)+i.length)}return super.replace(a,f,c)}a=f+1}return super.replace(t,e,i)}sliceString(t,e=this.length,i=`
`){[t,e]=_s(this,t,e);let r="";for(let a=0,u=0;a<this.children.length&&u<=e;a++){let f=this.children[a],c=u+f.length;u>t&&a&&(r+=i),t<c&&e>u&&(r+=f.sliceString(t-u,e-u,i)),u=c+1}return r}flatten(t){for(let e of this.children)e.flatten(t)}scanIdentical(t,e){if(!(t instanceof Un))return 0;let i=0,[r,a,u,f]=e>0?[0,0,this.children.length,t.children.length]:[this.children.length-1,t.children.length-1,-1,-1];for(;;r+=e,a+=e){if(r==u||a==f)return i;let c=this.children[r],d=t.children[a];if(c!=d)return i+c.scanIdentical(d,e);i+=c.length+1}}static from(t,e=t.reduce((i,r)=>i+r.length+1,-1)){let i=0;for(let x of t)i+=x.lines;if(i<32){let x=[];for(let w of t)w.flatten(x);return new He(x,e)}let r=Math.max(32,i>>5),a=r<<1,u=r>>1,f=[],c=0,d=-1,g=[];function y(x){let w;if(x.lines>a&&x instanceof Un)for(let _ of x.children)y(_);else x.lines>u&&(c>u||!c)?(b(),f.push(x)):x instanceof He&&c&&(w=g[g.length-1])instanceof He&&x.lines+w.lines<=32?(c+=x.lines,d+=x.length+1,g[g.length-1]=new He(w.text.concat(x.text),w.length+1+x.length)):(c+x.lines>r&&b(),c+=x.lines,d+=x.length+1,g.push(x))}function b(){c!=0&&(f.push(g.length==1?g[0]:Un.from(g,d)),d=-1,c=g.length=0)}for(let x of t)y(x);return b(),f.length==1?f[0]:new Un(f,e)}}ne.empty=new He([""],0);function hA(l){let t=-1;for(let e of l)t+=e.length+1;return t}function $u(l,t,e=0,i=1e9){for(let r=0,a=0,u=!0;a<l.length&&r<=i;a++){let f=l[a],c=r+f.length;c>=e&&(c>i&&(f=f.slice(0,i-r)),r<e&&(f=f.slice(e-r)),u?(t[t.length-1]+=f,u=!1):t.push(f)),r=c+1}return t}function yy(l,t,e){return $u(l,[""],t,e)}class Qa{constructor(t,e=1){this.dir=e,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[t],this.offsets=[e>0?1:(t instanceof He?t.text.length:t.children.length)<<1]}nextInner(t,e){for(this.done=this.lineBreak=!1;;){let i=this.nodes.length-1,r=this.nodes[i],a=this.offsets[i],u=a>>1,f=r instanceof He?r.text.length:r.children.length;if(u==(e>0?f:0)){if(i==0)return this.done=!0,this.value="",this;e>0&&this.offsets[i-1]++,this.nodes.pop(),this.offsets.pop()}else if((a&1)==(e>0?0:1)){if(this.offsets[i]+=e,t==0)return this.lineBreak=!0,this.value=`
`,this;t--}else if(r instanceof He){let c=r.text[u+(e<0?-1:0)];if(this.offsets[i]+=e,c.length>Math.max(0,t))return this.value=t==0?c:e>0?c.slice(t):c.slice(0,c.length-t),this;t-=c.length}else{let c=r.children[u+(e<0?-1:0)];t>c.length?(t-=c.length,this.offsets[i]+=e):(e<0&&this.offsets[i]--,this.nodes.push(c),this.offsets.push(e>0?1:(c instanceof He?c.text.length:c.children.length)<<1))}}}next(t=0){return t<0&&(this.nextInner(-t,-this.dir),t=this.value.length),this.nextInner(t,this.dir)}}class Eb{constructor(t,e,i){this.value="",this.done=!1,this.cursor=new Qa(t,e>i?-1:1),this.pos=e>i?t.length:0,this.from=Math.min(e,i),this.to=Math.max(e,i)}nextInner(t,e){if(e<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;t+=Math.max(0,e<0?this.pos-this.to:this.from-this.pos);let i=e<0?this.pos-this.from:this.to-this.pos;t>i&&(t=i),i-=t;let{value:r}=this.cursor.next(t);return this.pos+=(r.length+t)*e,this.value=r.length<=i?r:e<0?r.slice(r.length-i):r.slice(0,i),this.done=!this.value,this}next(t=0){return t<0?t=Math.max(t,this.from-this.pos):t>0&&(t=Math.min(t,this.to-this.pos)),this.nextInner(t,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class Db{constructor(t){this.inner=t,this.afterBreak=!0,this.value="",this.done=!1}next(t=0){let{done:e,lineBreak:i,value:r}=this.inner.next(t);return e&&this.afterBreak?(this.value="",this.afterBreak=!1):e?(this.done=!0,this.value=""):i?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=r,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(ne.prototype[Symbol.iterator]=function(){return this.iter()},Qa.prototype[Symbol.iterator]=Eb.prototype[Symbol.iterator]=Db.prototype[Symbol.iterator]=function(){return this});class cA{constructor(t,e,i,r){this.from=t,this.to=e,this.number=i,this.text=r}get length(){return this.to-this.from}}function _s(l,t,e){return t=Math.max(0,Math.min(l.length,t)),[t,Math.max(t,Math.min(l.length,e))]}let bs="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(l=>l?parseInt(l,36):1);for(let l=1;l<bs.length;l++)bs[l]+=bs[l-1];function dA(l){for(let t=1;t<bs.length;t+=2)if(bs[t]>l)return bs[t-1]<=l;return!1}function vy(l){return l>=127462&&l<=127487}const by=8205;function fi(l,t,e=!0,i=!0){return(e?Rb:mA)(l,t,i)}function Rb(l,t,e){if(t==l.length)return t;t&&Bb(l.charCodeAt(t))&&Nb(l.charCodeAt(t-1))&&t--;let i=ai(l,t);for(t+=fn(i);t<l.length;){let r=ai(l,t);if(i==by||r==by||e&&dA(r))t+=fn(r),i=r;else if(vy(r)){let a=0,u=t-2;for(;u>=0&&vy(ai(l,u));)a++,u-=2;if(a%2==0)break;t+=2}else break}return t}function mA(l,t,e){for(;t>0;){let i=Rb(l,t-2,e);if(i<t)return i;t--}return 0}function Bb(l){return l>=56320&&l<57344}function Nb(l){return l>=55296&&l<56320}function ai(l,t){let e=l.charCodeAt(t);if(!Nb(e)||t+1==l.length)return e;let i=l.charCodeAt(t+1);return Bb(i)?(e-55296<<10)+(i-56320)+65536:e}function Xm(l){return l<=65535?String.fromCharCode(l):(l-=65536,String.fromCharCode((l>>10)+55296,(l&1023)+56320))}function fn(l){return l<65536?1:2}const Yd=/\r\n?|\n/;var wi=function(l){return l[l.Simple=0]="Simple",l[l.TrackDel=1]="TrackDel",l[l.TrackBefore=2]="TrackBefore",l[l.TrackAfter=3]="TrackAfter",l}(wi||(wi={}));class Qn{constructor(t){this.sections=t}get length(){let t=0;for(let e=0;e<this.sections.length;e+=2)t+=this.sections[e];return t}get newLength(){let t=0;for(let e=0;e<this.sections.length;e+=2){let i=this.sections[e+1];t+=i<0?this.sections[e]:i}return t}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(t){for(let e=0,i=0,r=0;e<this.sections.length;){let a=this.sections[e++],u=this.sections[e++];u<0?(t(i,r,a),r+=a):r+=u,i+=a}}iterChangedRanges(t,e=!1){Pd(this,t,e)}get invertedDesc(){let t=[];for(let e=0;e<this.sections.length;){let i=this.sections[e++],r=this.sections[e++];r<0?t.push(i,r):t.push(r,i)}return new Qn(t)}composeDesc(t){return this.empty?t:t.empty?this:zb(this,t)}mapDesc(t,e=!1){return t.empty?this:Gd(this,t,e)}mapPos(t,e=-1,i=wi.Simple){let r=0,a=0;for(let u=0;u<this.sections.length;){let f=this.sections[u++],c=this.sections[u++],d=r+f;if(c<0){if(d>t)return a+(t-r);a+=f}else{if(i!=wi.Simple&&d>=t&&(i==wi.TrackDel&&r<t&&d>t||i==wi.TrackBefore&&r<t||i==wi.TrackAfter&&d>t))return null;if(d>t||d==t&&e<0&&!f)return t==r||e<0?a:a+c;a+=c}r=d}if(t>r)throw new RangeError(`Position ${t} is out of range for changeset of length ${r}`);return a}touchesRange(t,e=t){for(let i=0,r=0;i<this.sections.length&&r<=e;){let a=this.sections[i++],u=this.sections[i++],f=r+a;if(u>=0&&r<=e&&f>=t)return r<t&&f>e?"cover":!0;r=f}return!1}toString(){let t="";for(let e=0;e<this.sections.length;){let i=this.sections[e++],r=this.sections[e++];t+=(t?" ":"")+i+(r>=0?":"+r:"")}return t}toJSON(){return this.sections}static fromJSON(t){if(!Array.isArray(t)||t.length%2||t.some(e=>typeof e!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new Qn(t)}static create(t){return new Qn(t)}}class Ke extends Qn{constructor(t,e){super(t),this.inserted=e}apply(t){if(this.length!=t.length)throw new RangeError("Applying change set to a document with the wrong length");return Pd(this,(e,i,r,a,u)=>t=t.replace(r,r+(i-e),u),!1),t}mapDesc(t,e=!1){return Gd(this,t,e,!0)}invert(t){let e=this.sections.slice(),i=[];for(let r=0,a=0;r<e.length;r+=2){let u=e[r],f=e[r+1];if(f>=0){e[r]=f,e[r+1]=u;let c=r>>1;for(;i.length<c;)i.push(ne.empty);i.push(u?t.slice(a,a+u):ne.empty)}a+=u}return new Ke(e,i)}compose(t){return this.empty?t:t.empty?this:zb(this,t,!0)}map(t,e=!1){return t.empty?this:Gd(this,t,e,!0)}iterChanges(t,e=!1){Pd(this,t,e)}get desc(){return Qn.create(this.sections)}filter(t){let e=[],i=[],r=[],a=new Ka(this);t:for(let u=0,f=0;;){let c=u==t.length?1e9:t[u++];for(;f<c||f==c&&a.len==0;){if(a.done)break t;let g=Math.min(a.len,c-f);gi(r,g,-1);let y=a.ins==-1?-1:a.off==0?a.ins:0;gi(e,g,y),y>0&&Yl(i,e,a.text),a.forward(g),f+=g}let d=t[u++];for(;f<d;){if(a.done)break t;let g=Math.min(a.len,d-f);gi(e,g,-1),gi(r,g,a.ins==-1?-1:a.off==0?a.ins:0),a.forward(g),f+=g}}return{changes:new Ke(e,i),filtered:Qn.create(r)}}toJSON(){let t=[];for(let e=0;e<this.sections.length;e+=2){let i=this.sections[e],r=this.sections[e+1];r<0?t.push(i):r==0?t.push([i]):t.push([i].concat(this.inserted[e>>1].toJSON()))}return t}static of(t,e,i){let r=[],a=[],u=0,f=null;function c(g=!1){if(!g&&!r.length)return;u<e&&gi(r,e-u,-1);let y=new Ke(r,a);f=f?f.compose(y.map(f)):y,r=[],a=[],u=0}function d(g){if(Array.isArray(g))for(let y of g)d(y);else if(g instanceof Ke){if(g.length!=e)throw new RangeError(`Mismatched change set length (got ${g.length}, expected ${e})`);c(),f=f?f.compose(g.map(f)):g}else{let{from:y,to:b=y,insert:x}=g;if(y>b||y<0||b>e)throw new RangeError(`Invalid change range ${y} to ${b} (in doc of length ${e})`);let w=x?typeof x=="string"?ne.of(x.split(i||Yd)):x:ne.empty,_=w.length;if(y==b&&_==0)return;y<u&&c(),y>u&&gi(r,y-u,-1),gi(r,b-y,_),Yl(a,r,w),u=b}}return d(t),c(!f),f}static empty(t){return new Ke(t?[t,-1]:[],[])}static fromJSON(t){if(!Array.isArray(t))throw new RangeError("Invalid JSON representation of ChangeSet");let e=[],i=[];for(let r=0;r<t.length;r++){let a=t[r];if(typeof a=="number")e.push(a,-1);else{if(!Array.isArray(a)||typeof a[0]!="number"||a.some((u,f)=>f&&typeof u!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(a.length==1)e.push(a[0],0);else{for(;i.length<r;)i.push(ne.empty);i[r]=ne.of(a.slice(1)),e.push(a[0],i[r].length)}}}return new Ke(e,i)}static createSet(t,e){return new Ke(t,e)}}function gi(l,t,e,i=!1){if(t==0&&e<=0)return;let r=l.length-2;r>=0&&e<=0&&e==l[r+1]?l[r]+=t:t==0&&l[r]==0?l[r+1]+=e:i?(l[r]+=t,l[r+1]+=e):l.push(t,e)}function Yl(l,t,e){if(e.length==0)return;let i=t.length-2>>1;if(i<l.length)l[l.length-1]=l[l.length-1].append(e);else{for(;l.length<i;)l.push(ne.empty);l.push(e)}}function Pd(l,t,e){let i=l.inserted;for(let r=0,a=0,u=0;u<l.sections.length;){let f=l.sections[u++],c=l.sections[u++];if(c<0)r+=f,a+=f;else{let d=r,g=a,y=ne.empty;for(;d+=f,g+=c,c&&i&&(y=y.append(i[u-2>>1])),!(e||u==l.sections.length||l.sections[u+1]<0);)f=l.sections[u++],c=l.sections[u++];t(r,d,a,g,y),r=d,a=g}}}function Gd(l,t,e,i=!1){let r=[],a=i?[]:null,u=new Ka(l),f=new Ka(t);for(let c=-1;;)if(u.ins==-1&&f.ins==-1){let d=Math.min(u.len,f.len);gi(r,d,-1),u.forward(d),f.forward(d)}else if(f.ins>=0&&(u.ins<0||c==u.i||u.off==0&&(f.len<u.len||f.len==u.len&&!e))){let d=f.len;for(gi(r,f.ins,-1);d;){let g=Math.min(u.len,d);u.ins>=0&&c<u.i&&u.len<=g&&(gi(r,0,u.ins),a&&Yl(a,r,u.text),c=u.i),u.forward(g),d-=g}f.next()}else if(u.ins>=0){let d=0,g=u.len;for(;g;)if(f.ins==-1){let y=Math.min(g,f.len);d+=y,g-=y,f.forward(y)}else if(f.ins==0&&f.len<g)g-=f.len,f.next();else break;gi(r,d,c<u.i?u.ins:0),a&&c<u.i&&Yl(a,r,u.text),c=u.i,u.forward(u.len-g)}else{if(u.done&&f.done)return a?Ke.createSet(r,a):Qn.create(r);throw new Error("Mismatched change set lengths")}}function zb(l,t,e=!1){let i=[],r=e?[]:null,a=new Ka(l),u=new Ka(t);for(let f=!1;;){if(a.done&&u.done)return r?Ke.createSet(i,r):Qn.create(i);if(a.ins==0)gi(i,a.len,0,f),a.next();else if(u.len==0&&!u.done)gi(i,0,u.ins,f),r&&Yl(r,i,u.text),u.next();else{if(a.done||u.done)throw new Error("Mismatched change set lengths");{let c=Math.min(a.len2,u.len),d=i.length;if(a.ins==-1){let g=u.ins==-1?-1:u.off?0:u.ins;gi(i,c,g,f),r&&g&&Yl(r,i,u.text)}else u.ins==-1?(gi(i,a.off?0:a.len,c,f),r&&Yl(r,i,a.textBit(c))):(gi(i,a.off?0:a.len,u.off?0:u.ins,f),r&&!u.off&&Yl(r,i,u.text));f=(a.ins>c||u.ins>=0&&u.len>c)&&(f||i.length>d),a.forward2(c),u.forward(c)}}}}class Ka{constructor(t){this.set=t,this.i=0,this.next()}next(){let{sections:t}=this.set;this.i<t.length?(this.len=t[this.i++],this.ins=t[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:t}=this.set,e=this.i-2>>1;return e>=t.length?ne.empty:t[e]}textBit(t){let{inserted:e}=this.set,i=this.i-2>>1;return i>=e.length&&!t?ne.empty:e[i].slice(this.off,t==null?void 0:this.off+t)}forward(t){t==this.len?this.next():(this.len-=t,this.off+=t)}forward2(t){this.ins==-1?this.forward(t):t==this.ins?this.next():(this.ins-=t,this.off+=t)}}class kr{constructor(t,e,i){this.from=t,this.to=e,this.flags=i}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let t=this.flags&7;return t==7?null:t}get goalColumn(){let t=this.flags>>6;return t==16777215?void 0:t}map(t,e=-1){let i,r;return this.empty?i=r=t.mapPos(this.from,e):(i=t.mapPos(this.from,1),r=t.mapPos(this.to,-1)),i==this.from&&r==this.to?this:new kr(i,r,this.flags)}extend(t,e=t){if(t<=this.anchor&&e>=this.anchor)return ot.range(t,e);let i=Math.abs(t-this.anchor)>Math.abs(e-this.anchor)?t:e;return ot.range(this.anchor,i)}eq(t,e=!1){return this.anchor==t.anchor&&this.head==t.head&&(!e||!this.empty||this.assoc==t.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(t){if(!t||typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return ot.range(t.anchor,t.head)}static create(t,e,i){return new kr(t,e,i)}}class ot{constructor(t,e){this.ranges=t,this.mainIndex=e}map(t,e=-1){return t.empty?this:ot.create(this.ranges.map(i=>i.map(t,e)),this.mainIndex)}eq(t,e=!1){if(this.ranges.length!=t.ranges.length||this.mainIndex!=t.mainIndex)return!1;for(let i=0;i<this.ranges.length;i++)if(!this.ranges[i].eq(t.ranges[i],e))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new ot([this.main],0)}addRange(t,e=!0){return ot.create([t].concat(this.ranges),e?0:this.mainIndex+1)}replaceRange(t,e=this.mainIndex){let i=this.ranges.slice();return i[e]=t,ot.create(i,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(t=>t.toJSON()),main:this.mainIndex}}static fromJSON(t){if(!t||!Array.isArray(t.ranges)||typeof t.main!="number"||t.main>=t.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new ot(t.ranges.map(e=>kr.fromJSON(e)),t.main)}static single(t,e=t){return new ot([ot.range(t,e)],0)}static create(t,e=0){if(t.length==0)throw new RangeError("A selection needs at least one range");for(let i=0,r=0;r<t.length;r++){let a=t[r];if(a.empty?a.from<=i:a.from<i)return ot.normalized(t.slice(),e);i=a.to}return new ot(t,e)}static cursor(t,e=0,i,r){return kr.create(t,t,(e==0?0:e<0?8:16)|(i==null?7:Math.min(6,i))|(r??16777215)<<6)}static range(t,e,i,r){let a=(i??16777215)<<6|(r==null?7:Math.min(6,r));return e<t?kr.create(e,t,48|a):kr.create(t,e,(e>t?8:0)|a)}static normalized(t,e=0){let i=t[e];t.sort((r,a)=>r.from-a.from),e=t.indexOf(i);for(let r=1;r<t.length;r++){let a=t[r],u=t[r-1];if(a.empty?a.from<=u.to:a.from<u.to){let f=u.from,c=Math.max(a.to,u.to);r<=e&&e--,t.splice(--r,2,a.anchor>a.head?ot.range(c,f):ot.range(f,c))}}return new ot(t,e)}}function Lb(l,t){for(let e of l.ranges)if(e.to>t)throw new RangeError("Selection points outside of document")}let Zm=0;class _t{constructor(t,e,i,r,a){this.combine=t,this.compareInput=e,this.compare=i,this.isStatic=r,this.id=Zm++,this.default=t([]),this.extensions=typeof a=="function"?a(this):a}get reader(){return this}static define(t={}){return new _t(t.combine||(e=>e),t.compareInput||((e,i)=>e===i),t.compare||(t.combine?(e,i)=>e===i:Km),!!t.static,t.enables)}of(t){return new tf([],this,0,t)}compute(t,e){if(this.isStatic)throw new Error("Can't compute a static facet");return new tf(t,this,1,e)}computeN(t,e){if(this.isStatic)throw new Error("Can't compute a static facet");return new tf(t,this,2,e)}from(t,e){return e||(e=i=>i),this.compute([t],i=>e(i.field(t)))}}function Km(l,t){return l==t||l.length==t.length&&l.every((e,i)=>e===t[i])}class tf{constructor(t,e,i,r){this.dependencies=t,this.facet=e,this.type=i,this.value=r,this.id=Zm++}dynamicSlot(t){var e;let i=this.value,r=this.facet.compareInput,a=this.id,u=t[a]>>1,f=this.type==2,c=!1,d=!1,g=[];for(let y of this.dependencies)y=="doc"?c=!0:y=="selection"?d=!0:(((e=t[y.id])!==null&&e!==void 0?e:1)&1)==0&&g.push(t[y.id]);return{create(y){return y.values[u]=i(y),1},update(y,b){if(c&&b.docChanged||d&&(b.docChanged||b.selection)||Xd(y,g)){let x=i(y);if(f?!xy(x,y.values[u],r):!r(x,y.values[u]))return y.values[u]=x,1}return 0},reconfigure:(y,b)=>{let x,w=b.config.address[a];if(w!=null){let _=cf(b,w);if(this.dependencies.every(O=>O instanceof _t?b.facet(O)===y.facet(O):O instanceof hi?b.field(O,!1)==y.field(O,!1):!0)||(f?xy(x=i(y),_,r):r(x=i(y),_)))return y.values[u]=_,0}else x=i(y);return y.values[u]=x,1}}}}function xy(l,t,e){if(l.length!=t.length)return!1;for(let i=0;i<l.length;i++)if(!e(l[i],t[i]))return!1;return!0}function Xd(l,t){let e=!1;for(let i of t)Ya(l,i)&1&&(e=!0);return e}function gA(l,t,e){let i=e.map(c=>l[c.id]),r=e.map(c=>c.type),a=i.filter(c=>!(c&1)),u=l[t.id]>>1;function f(c){let d=[];for(let g=0;g<i.length;g++){let y=cf(c,i[g]);if(r[g]==2)for(let b of y)d.push(b);else d.push(y)}return t.combine(d)}return{create(c){for(let d of i)Ya(c,d);return c.values[u]=f(c),1},update(c,d){if(!Xd(c,a))return 0;let g=f(c);return t.compare(g,c.values[u])?0:(c.values[u]=g,1)},reconfigure(c,d){let g=Xd(c,i),y=d.config.facets[t.id],b=d.facet(t);if(y&&!g&&Km(e,y))return c.values[u]=b,0;let x=f(c);return t.compare(x,b)?(c.values[u]=b,0):(c.values[u]=x,1)}}}const Sy=_t.define({static:!0});class hi{constructor(t,e,i,r,a){this.id=t,this.createF=e,this.updateF=i,this.compareF=r,this.spec=a,this.provides=void 0}static define(t){let e=new hi(Zm++,t.create,t.update,t.compare||((i,r)=>i===r),t);return t.provide&&(e.provides=t.provide(e)),e}create(t){let e=t.facet(Sy).find(i=>i.field==this);return((e==null?void 0:e.create)||this.createF)(t)}slot(t){let e=t[this.id]>>1;return{create:i=>(i.values[e]=this.create(i),1),update:(i,r)=>{let a=i.values[e],u=this.updateF(a,r);return this.compareF(a,u)?0:(i.values[e]=u,1)},reconfigure:(i,r)=>r.config.address[this.id]!=null?(i.values[e]=r.field(this),0):(i.values[e]=this.create(i),1)}}init(t){return[this,Sy.of({field:this,create:t})]}get extension(){return this}}const Sr={lowest:4,low:3,default:2,high:1,highest:0};function Da(l){return t=>new Hb(t,l)}const Dr={highest:Da(Sr.highest),high:Da(Sr.high),default:Da(Sr.default),low:Da(Sr.low),lowest:Da(Sr.lowest)};class Hb{constructor(t,e){this.inner=t,this.prec=e}}class Vf{of(t){return new Zd(this,t)}reconfigure(t){return Vf.reconfigure.of({compartment:this,extension:t})}get(t){return t.config.compartments.get(this)}}class Zd{constructor(t,e){this.compartment=t,this.inner=e}}class hf{constructor(t,e,i,r,a,u){for(this.base=t,this.compartments=e,this.dynamicSlots=i,this.address=r,this.staticValues=a,this.facets=u,this.statusTemplate=[];this.statusTemplate.length<i.length;)this.statusTemplate.push(0)}staticFacet(t){let e=this.address[t.id];return e==null?t.default:this.staticValues[e>>1]}static resolve(t,e,i){let r=[],a=Object.create(null),u=new Map;for(let b of pA(t,e,u))b instanceof hi?r.push(b):(a[b.facet.id]||(a[b.facet.id]=[])).push(b);let f=Object.create(null),c=[],d=[];for(let b of r)f[b.id]=d.length<<1,d.push(x=>b.slot(x));let g=i==null?void 0:i.config.facets;for(let b in a){let x=a[b],w=x[0].facet,_=g&&g[b]||[];if(x.every(O=>O.type==0))if(f[w.id]=c.length<<1|1,Km(_,x))c.push(i.facet(w));else{let O=w.combine(x.map(M=>M.value));c.push(i&&w.compare(O,i.facet(w))?i.facet(w):O)}else{for(let O of x)O.type==0?(f[O.id]=c.length<<1|1,c.push(O.value)):(f[O.id]=d.length<<1,d.push(M=>O.dynamicSlot(M)));f[w.id]=d.length<<1,d.push(O=>gA(O,w,x))}}let y=d.map(b=>b(f));return new hf(t,u,y,f,c,a)}}function pA(l,t,e){let i=[[],[],[],[],[]],r=new Map;function a(u,f){let c=r.get(u);if(c!=null){if(c<=f)return;let d=i[c].indexOf(u);d>-1&&i[c].splice(d,1),u instanceof Zd&&e.delete(u.compartment)}if(r.set(u,f),Array.isArray(u))for(let d of u)a(d,f);else if(u instanceof Zd){if(e.has(u.compartment))throw new RangeError("Duplicate use of compartment in extensions");let d=t.get(u.compartment)||u.inner;e.set(u.compartment,d),a(d,f)}else if(u instanceof Hb)a(u.inner,u.prec);else if(u instanceof hi)i[f].push(u),u.provides&&a(u.provides,f);else if(u instanceof tf)i[f].push(u),u.facet.extensions&&a(u.facet.extensions,Sr.default);else{let d=u.extension;if(!d)throw new Error(`Unrecognized extension value in extension set (${u}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);a(d,f)}}return a(l,Sr.default),i.reduce((u,f)=>u.concat(f))}function Ya(l,t){if(t&1)return 2;let e=t>>1,i=l.status[e];if(i==4)throw new Error("Cyclic dependency between fields and/or facets");if(i&2)return i;l.status[e]=4;let r=l.computeSlot(l,l.config.dynamicSlots[e]);return l.status[e]=2|r}function cf(l,t){return t&1?l.config.staticValues[t>>1]:l.values[t>>1]}const Ub=_t.define(),Kd=_t.define({combine:l=>l.some(t=>t),static:!0}),Vb=_t.define({combine:l=>l.length?l[0]:void 0,static:!0}),qb=_t.define(),jb=_t.define(),Qb=_t.define(),Yb=_t.define({combine:l=>l.length?l[0]:!1});class Pn{constructor(t,e){this.type=t,this.value=e}static define(){return new yA}}class yA{of(t){return new Pn(this,t)}}class vA{constructor(t){this.map=t}of(t){return new Ut(this,t)}}class Ut{constructor(t,e){this.type=t,this.value=e}map(t){let e=this.type.map(this.value,t);return e===void 0?void 0:e==this.value?this:new Ut(this.type,e)}is(t){return this.type==t}static define(t={}){return new vA(t.map||(e=>e))}static mapEffects(t,e){if(!t.length)return t;let i=[];for(let r of t){let a=r.map(e);a&&i.push(a)}return i}}Ut.reconfigure=Ut.define();Ut.appendConfig=Ut.define();class Ie{constructor(t,e,i,r,a,u){this.startState=t,this.changes=e,this.selection=i,this.effects=r,this.annotations=a,this.scrollIntoView=u,this._doc=null,this._state=null,i&&Lb(i,e.newLength),a.some(f=>f.type==Ie.time)||(this.annotations=a.concat(Ie.time.of(Date.now())))}static create(t,e,i,r,a,u){return new Ie(t,e,i,r,a,u)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(t){for(let e of this.annotations)if(e.type==t)return e.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(t){let e=this.annotation(Ie.userEvent);return!!(e&&(e==t||e.length>t.length&&e.slice(0,t.length)==t&&e[t.length]=="."))}}Ie.time=Pn.define();Ie.userEvent=Pn.define();Ie.addToHistory=Pn.define();Ie.remote=Pn.define();function bA(l,t){let e=[];for(let i=0,r=0;;){let a,u;if(i<l.length&&(r==t.length||t[r]>=l[i]))a=l[i++],u=l[i++];else if(r<t.length)a=t[r++],u=t[r++];else return e;!e.length||e[e.length-1]<a?e.push(a,u):e[e.length-1]<u&&(e[e.length-1]=u)}}function Pb(l,t,e){var i;let r,a,u;return e?(r=t.changes,a=Ke.empty(t.changes.length),u=l.changes.compose(t.changes)):(r=t.changes.map(l.changes),a=l.changes.mapDesc(t.changes,!0),u=l.changes.compose(r)),{changes:u,selection:t.selection?t.selection.map(a):(i=l.selection)===null||i===void 0?void 0:i.map(r),effects:Ut.mapEffects(l.effects,r).concat(Ut.mapEffects(t.effects,a)),annotations:l.annotations.length?l.annotations.concat(t.annotations):t.annotations,scrollIntoView:l.scrollIntoView||t.scrollIntoView}}function Id(l,t,e){let i=t.selection,r=xs(t.annotations);return t.userEvent&&(r=r.concat(Ie.userEvent.of(t.userEvent))),{changes:t.changes instanceof Ke?t.changes:Ke.of(t.changes||[],e,l.facet(Vb)),selection:i&&(i instanceof ot?i:ot.single(i.anchor,i.head)),effects:xs(t.effects),annotations:r,scrollIntoView:!!t.scrollIntoView}}function Gb(l,t,e){let i=Id(l,t.length?t[0]:{},l.doc.length);t.length&&t[0].filter===!1&&(e=!1);for(let a=1;a<t.length;a++){t[a].filter===!1&&(e=!1);let u=!!t[a].sequential;i=Pb(i,Id(l,t[a],u?i.changes.newLength:l.doc.length),u)}let r=Ie.create(l,i.changes,i.selection,i.effects,i.annotations,i.scrollIntoView);return SA(e?xA(r):r)}function xA(l){let t=l.startState,e=!0;for(let r of t.facet(qb)){let a=r(l);if(a===!1){e=!1;break}Array.isArray(a)&&(e=e===!0?a:bA(e,a))}if(e!==!0){let r,a;if(e===!1)a=l.changes.invertedDesc,r=Ke.empty(t.doc.length);else{let u=l.changes.filter(e);r=u.changes,a=u.filtered.mapDesc(u.changes).invertedDesc}l=Ie.create(t,r,l.selection&&l.selection.map(a),Ut.mapEffects(l.effects,a),l.annotations,l.scrollIntoView)}let i=t.facet(jb);for(let r=i.length-1;r>=0;r--){let a=i[r](l);a instanceof Ie?l=a:Array.isArray(a)&&a.length==1&&a[0]instanceof Ie?l=a[0]:l=Gb(t,xs(a),!1)}return l}function SA(l){let t=l.startState,e=t.facet(Qb),i=l;for(let r=e.length-1;r>=0;r--){let a=e[r](l);a&&Object.keys(a).length&&(i=Pb(i,Id(t,a,l.changes.newLength),!0))}return i==l?l:Ie.create(t,l.changes,l.selection,i.effects,i.annotations,i.scrollIntoView)}const wA=[];function xs(l){return l==null?wA:Array.isArray(l)?l:[l]}var Te=function(l){return l[l.Word=0]="Word",l[l.Space=1]="Space",l[l.Other=2]="Other",l}(Te||(Te={}));const kA=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let Fd;try{Fd=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function AA(l){if(Fd)return Fd.test(l);for(let t=0;t<l.length;t++){let e=l[t];if(/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||kA.test(e)))return!0}return!1}function CA(l){return t=>{if(!/\S/.test(t))return Te.Space;if(AA(t))return Te.Word;for(let e=0;e<l.length;e++)if(t.indexOf(l[e])>-1)return Te.Word;return Te.Other}}class Ft{constructor(t,e,i,r,a,u){this.config=t,this.doc=e,this.selection=i,this.values=r,this.status=t.statusTemplate.slice(),this.computeSlot=a,u&&(u._state=this);for(let f=0;f<this.config.dynamicSlots.length;f++)Ya(this,f<<1);this.computeSlot=null}field(t,e=!0){let i=this.config.address[t.id];if(i==null){if(e)throw new RangeError("Field is not present in this state");return}return Ya(this,i),cf(this,i)}update(...t){return Gb(this,t,!0)}applyTransaction(t){let e=this.config,{base:i,compartments:r}=e;for(let f of t.effects)f.is(Vf.reconfigure)?(e&&(r=new Map,e.compartments.forEach((c,d)=>r.set(d,c)),e=null),r.set(f.value.compartment,f.value.extension)):f.is(Ut.reconfigure)?(e=null,i=f.value):f.is(Ut.appendConfig)&&(e=null,i=xs(i).concat(f.value));let a;e?a=t.startState.values.slice():(e=hf.resolve(i,r,this),a=new Ft(e,this.doc,this.selection,e.dynamicSlots.map(()=>null),(c,d)=>d.reconfigure(c,this),null).values);let u=t.startState.facet(Kd)?t.newSelection:t.newSelection.asSingle();new Ft(e,t.newDoc,u,a,(f,c)=>c.update(f,t),t)}replaceSelection(t){return typeof t=="string"&&(t=this.toText(t)),this.changeByRange(e=>({changes:{from:e.from,to:e.to,insert:t},range:ot.cursor(e.from+t.length)}))}changeByRange(t){let e=this.selection,i=t(e.ranges[0]),r=this.changes(i.changes),a=[i.range],u=xs(i.effects);for(let f=1;f<e.ranges.length;f++){let c=t(e.ranges[f]),d=this.changes(c.changes),g=d.map(r);for(let b=0;b<f;b++)a[b]=a[b].map(g);let y=r.mapDesc(d,!0);a.push(c.range.map(y)),r=r.compose(g),u=Ut.mapEffects(u,g).concat(Ut.mapEffects(xs(c.effects),y))}return{changes:r,selection:ot.create(a,e.mainIndex),effects:u}}changes(t=[]){return t instanceof Ke?t:Ke.of(t,this.doc.length,this.facet(Ft.lineSeparator))}toText(t){return ne.of(t.split(this.facet(Ft.lineSeparator)||Yd))}sliceDoc(t=0,e=this.doc.length){return this.doc.sliceString(t,e,this.lineBreak)}facet(t){let e=this.config.address[t.id];return e==null?t.default:(Ya(this,e),cf(this,e))}toJSON(t){let e={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(t)for(let i in t){let r=t[i];r instanceof hi&&this.config.address[r.id]!=null&&(e[i]=r.spec.toJSON(this.field(t[i]),this))}return e}static fromJSON(t,e={},i){if(!t||typeof t.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let r=[];if(i){for(let a in i)if(Object.prototype.hasOwnProperty.call(t,a)){let u=i[a],f=t[a];r.push(u.init(c=>u.spec.fromJSON(f,c)))}}return Ft.create({doc:t.doc,selection:ot.fromJSON(t.selection),extensions:e.extensions?r.concat([e.extensions]):r})}static create(t={}){let e=hf.resolve(t.extensions||[],new Map),i=t.doc instanceof ne?t.doc:ne.of((t.doc||"").split(e.staticFacet(Ft.lineSeparator)||Yd)),r=t.selection?t.selection instanceof ot?t.selection:ot.single(t.selection.anchor,t.selection.head):ot.single(0);return Lb(r,i.length),e.staticFacet(Kd)||(r=r.asSingle()),new Ft(e,i,r,e.dynamicSlots.map(()=>null),(a,u)=>u.create(a),null)}get tabSize(){return this.facet(Ft.tabSize)}get lineBreak(){return this.facet(Ft.lineSeparator)||`
`}get readOnly(){return this.facet(Yb)}phrase(t,...e){for(let i of this.facet(Ft.phrases))if(Object.prototype.hasOwnProperty.call(i,t)){t=i[t];break}return e.length&&(t=t.replace(/\$(\$|\d*)/g,(i,r)=>{if(r=="$")return"$";let a=+(r||1);return!a||a>e.length?i:e[a-1]})),t}languageDataAt(t,e,i=-1){let r=[];for(let a of this.facet(Ub))for(let u of a(this,e,i))Object.prototype.hasOwnProperty.call(u,t)&&r.push(u[t]);return r}charCategorizer(t){return CA(this.languageDataAt("wordChars",t).join(""))}wordAt(t){let{text:e,from:i,length:r}=this.doc.lineAt(t),a=this.charCategorizer(t),u=t-i,f=t-i;for(;u>0;){let c=fi(e,u,!1);if(a(e.slice(c,u))!=Te.Word)break;u=c}for(;f<r;){let c=fi(e,f);if(a(e.slice(f,c))!=Te.Word)break;f=c}return u==f?null:ot.range(u+i,f+i)}}Ft.allowMultipleSelections=Kd;Ft.tabSize=_t.define({combine:l=>l.length?l[0]:4});Ft.lineSeparator=Vb;Ft.readOnly=Yb;Ft.phrases=_t.define({compare(l,t){let e=Object.keys(l),i=Object.keys(t);return e.length==i.length&&e.every(r=>l[r]==t[r])}});Ft.languageData=Ub;Ft.changeFilter=qb;Ft.transactionFilter=jb;Ft.transactionExtender=Qb;Vf.reconfigure=Ut.define();function Gn(l,t,e={}){let i={};for(let r of l)for(let a of Object.keys(r)){let u=r[a],f=i[a];if(f===void 0)i[a]=u;else if(!(f===u||u===void 0))if(Object.hasOwnProperty.call(e,a))i[a]=e[a](f,u);else throw new Error("Config merge conflict for field "+a)}for(let r in t)i[r]===void 0&&(i[r]=t[r]);return i}class _r{eq(t){return this==t}range(t,e=t){return Ia.create(t,e,this)}}_r.prototype.startSide=_r.prototype.endSide=0;_r.prototype.point=!1;_r.prototype.mapMode=wi.TrackDel;class Ia{constructor(t,e,i){this.from=t,this.to=e,this.value=i}static create(t,e,i){return new Ia(t,e,i)}}function Wd(l,t){return l.from-t.from||l.value.startSide-t.value.startSide}class Im{constructor(t,e,i,r){this.from=t,this.to=e,this.value=i,this.maxPoint=r}get length(){return this.to[this.to.length-1]}findIndex(t,e,i,r=0){let a=i?this.to:this.from;for(let u=r,f=a.length;;){if(u==f)return u;let c=u+f>>1,d=a[c]-t||(i?this.value[c].endSide:this.value[c].startSide)-e;if(c==u)return d>=0?u:f;d>=0?f=c:u=c+1}}between(t,e,i,r){for(let a=this.findIndex(e,-1e9,!0),u=this.findIndex(i,1e9,!1,a);a<u;a++)if(r(this.from[a]+t,this.to[a]+t,this.value[a])===!1)return!1}map(t,e){let i=[],r=[],a=[],u=-1,f=-1;for(let c=0;c<this.value.length;c++){let d=this.value[c],g=this.from[c]+t,y=this.to[c]+t,b,x;if(g==y){let w=e.mapPos(g,d.startSide,d.mapMode);if(w==null||(b=x=w,d.startSide!=d.endSide&&(x=e.mapPos(g,d.endSide),x<b)))continue}else if(b=e.mapPos(g,d.startSide),x=e.mapPos(y,d.endSide),b>x||b==x&&d.startSide>0&&d.endSide<=0)continue;(x-b||d.endSide-d.startSide)<0||(u<0&&(u=b),d.point&&(f=Math.max(f,x-b)),i.push(d),r.push(b-u),a.push(x-u))}return{mapped:i.length?new Im(r,a,i,f):null,pos:u}}}class ee{constructor(t,e,i,r){this.chunkPos=t,this.chunk=e,this.nextLayer=i,this.maxPoint=r}static create(t,e,i,r){return new ee(t,e,i,r)}get length(){let t=this.chunk.length-1;return t<0?0:Math.max(this.chunkEnd(t),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let t=this.nextLayer.size;for(let e of this.chunk)t+=e.value.length;return t}chunkEnd(t){return this.chunkPos[t]+this.chunk[t].length}update(t){let{add:e=[],sort:i=!1,filterFrom:r=0,filterTo:a=this.length}=t,u=t.filter;if(e.length==0&&!u)return this;if(i&&(e=e.slice().sort(Wd)),this.isEmpty)return e.length?ee.of(e):this;let f=new Xb(this,null,-1).goto(0),c=0,d=[],g=new Fl;for(;f.value||c<e.length;)if(c<e.length&&(f.from-e[c].from||f.startSide-e[c].value.startSide)>=0){let y=e[c++];g.addInner(y.from,y.to,y.value)||d.push(y)}else f.rangeIndex==1&&f.chunkIndex<this.chunk.length&&(c==e.length||this.chunkEnd(f.chunkIndex)<e[c].from)&&(!u||r>this.chunkEnd(f.chunkIndex)||a<this.chunkPos[f.chunkIndex])&&g.addChunk(this.chunkPos[f.chunkIndex],this.chunk[f.chunkIndex])?f.nextChunk():((!u||r>f.to||a<f.from||u(f.from,f.to,f.value))&&(g.addInner(f.from,f.to,f.value)||d.push(Ia.create(f.from,f.to,f.value))),f.next());return g.finishInner(this.nextLayer.isEmpty&&!d.length?ee.empty:this.nextLayer.update({add:d,filter:u,filterFrom:r,filterTo:a}))}map(t){if(t.empty||this.isEmpty)return this;let e=[],i=[],r=-1;for(let u=0;u<this.chunk.length;u++){let f=this.chunkPos[u],c=this.chunk[u],d=t.touchesRange(f,f+c.length);if(d===!1)r=Math.max(r,c.maxPoint),e.push(c),i.push(t.mapPos(f));else if(d===!0){let{mapped:g,pos:y}=c.map(f,t);g&&(r=Math.max(r,g.maxPoint),e.push(g),i.push(y))}}let a=this.nextLayer.map(t);return e.length==0?a:new ee(i,e,a||ee.empty,r)}between(t,e,i){if(!this.isEmpty){for(let r=0;r<this.chunk.length;r++){let a=this.chunkPos[r],u=this.chunk[r];if(e>=a&&t<=a+u.length&&u.between(a,t-a,e-a,i)===!1)return}this.nextLayer.between(t,e,i)}}iter(t=0){return Fa.from([this]).goto(t)}get isEmpty(){return this.nextLayer==this}static iter(t,e=0){return Fa.from(t).goto(e)}static compare(t,e,i,r,a=-1){let u=t.filter(y=>y.maxPoint>0||!y.isEmpty&&y.maxPoint>=a),f=e.filter(y=>y.maxPoint>0||!y.isEmpty&&y.maxPoint>=a),c=wy(u,f,i),d=new Ra(u,c,a),g=new Ra(f,c,a);i.iterGaps((y,b,x)=>ky(d,y,g,b,x,r)),i.empty&&i.length==0&&ky(d,0,g,0,0,r)}static eq(t,e,i=0,r){r==null&&(r=999999999);let a=t.filter(g=>!g.isEmpty&&e.indexOf(g)<0),u=e.filter(g=>!g.isEmpty&&t.indexOf(g)<0);if(a.length!=u.length)return!1;if(!a.length)return!0;let f=wy(a,u),c=new Ra(a,f,0).goto(i),d=new Ra(u,f,0).goto(i);for(;;){if(c.to!=d.to||!Jd(c.active,d.active)||c.point&&(!d.point||!c.point.eq(d.point)))return!1;if(c.to>r)return!0;c.next(),d.next()}}static spans(t,e,i,r,a=-1){let u=new Ra(t,null,a).goto(e),f=e,c=u.openStart;for(;;){let d=Math.min(u.to,i);if(u.point){let g=u.activeForPoint(u.to),y=u.pointFrom<e?g.length+1:u.point.startSide<0?g.length:Math.min(g.length,c);r.point(f,d,u.point,g,y,u.pointRank),c=Math.min(u.openEnd(d),g.length)}else d>f&&(r.span(f,d,u.active,c),c=u.openEnd(d));if(u.to>i)return c+(u.point&&u.to>i?1:0);f=u.to,u.next()}}static of(t,e=!1){let i=new Fl;for(let r of t instanceof Ia?[t]:e?_A(t):t)i.add(r.from,r.to,r.value);return i.finish()}static join(t){if(!t.length)return ee.empty;let e=t[t.length-1];for(let i=t.length-2;i>=0;i--)for(let r=t[i];r!=ee.empty;r=r.nextLayer)e=new ee(r.chunkPos,r.chunk,e,Math.max(r.maxPoint,e.maxPoint));return e}}ee.empty=new ee([],[],null,-1);function _A(l){if(l.length>1)for(let t=l[0],e=1;e<l.length;e++){let i=l[e];if(Wd(t,i)>0)return l.slice().sort(Wd);t=i}return l}ee.empty.nextLayer=ee.empty;class Fl{finishChunk(t){this.chunks.push(new Im(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,t&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(t,e,i){this.addInner(t,e,i)||(this.nextLayer||(this.nextLayer=new Fl)).add(t,e,i)}addInner(t,e,i){let r=t-this.lastTo||i.startSide-this.last.endSide;if(r<=0&&(t-this.lastFrom||i.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return r<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=t),this.from.push(t-this.chunkStart),this.to.push(e-this.chunkStart),this.last=i,this.lastFrom=t,this.lastTo=e,this.value.push(i),i.point&&(this.maxPoint=Math.max(this.maxPoint,e-t)),!0)}addChunk(t,e){if((t-this.lastTo||e.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,e.maxPoint),this.chunks.push(e),this.chunkPos.push(t);let i=e.value.length-1;return this.last=e.value[i],this.lastFrom=e.from[i]+t,this.lastTo=e.to[i]+t,!0}finish(){return this.finishInner(ee.empty)}finishInner(t){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return t;let e=ee.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(t):t,this.setMaxPoint);return this.from=null,e}}function wy(l,t,e){let i=new Map;for(let a of l)for(let u=0;u<a.chunk.length;u++)a.chunk[u].maxPoint<=0&&i.set(a.chunk[u],a.chunkPos[u]);let r=new Set;for(let a of t)for(let u=0;u<a.chunk.length;u++){let f=i.get(a.chunk[u]);f!=null&&(e?e.mapPos(f):f)==a.chunkPos[u]&&!(e!=null&&e.touchesRange(f,f+a.chunk[u].length))&&r.add(a.chunk[u])}return r}class Xb{constructor(t,e,i,r=0){this.layer=t,this.skip=e,this.minPoint=i,this.rank=r}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(t,e=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(t,e,!1),this}gotoInner(t,e,i){for(;this.chunkIndex<this.layer.chunk.length;){let r=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(r)||this.layer.chunkEnd(this.chunkIndex)<t||r.maxPoint<this.minPoint))break;this.chunkIndex++,i=!1}if(this.chunkIndex<this.layer.chunk.length){let r=this.layer.chunk[this.chunkIndex].findIndex(t-this.layer.chunkPos[this.chunkIndex],e,!0);(!i||this.rangeIndex<r)&&this.setRangeIndex(r)}this.next()}forward(t,e){(this.to-t||this.endSide-e)<0&&this.gotoInner(t,e,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let t=this.layer.chunkPos[this.chunkIndex],e=this.layer.chunk[this.chunkIndex],i=t+e.from[this.rangeIndex];if(this.from=i,this.to=t+e.to[this.rangeIndex],this.value=e.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(t){if(t==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=t}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(t){return this.from-t.from||this.startSide-t.startSide||this.rank-t.rank||this.to-t.to||this.endSide-t.endSide}}class Fa{constructor(t){this.heap=t}static from(t,e=null,i=-1){let r=[];for(let a=0;a<t.length;a++)for(let u=t[a];!u.isEmpty;u=u.nextLayer)u.maxPoint>=i&&r.push(new Xb(u,e,i,a));return r.length==1?r[0]:new Fa(r)}get startSide(){return this.value?this.value.startSide:0}goto(t,e=-1e9){for(let i of this.heap)i.goto(t,e);for(let i=this.heap.length>>1;i>=0;i--)hd(this.heap,i);return this.next(),this}forward(t,e){for(let i of this.heap)i.forward(t,e);for(let i=this.heap.length>>1;i>=0;i--)hd(this.heap,i);(this.to-t||this.value.endSide-e)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let t=this.heap[0];this.from=t.from,this.to=t.to,this.value=t.value,this.rank=t.rank,t.value&&t.next(),hd(this.heap,0)}}}function hd(l,t){for(let e=l[t];;){let i=(t<<1)+1;if(i>=l.length)break;let r=l[i];if(i+1<l.length&&r.compare(l[i+1])>=0&&(r=l[i+1],i++),e.compare(r)<0)break;l[i]=e,l[t]=r,t=i}}class Ra{constructor(t,e,i){this.minPoint=i,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=Fa.from(t,e,i)}goto(t,e=-1e9){return this.cursor.goto(t,e),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=t,this.endSide=e,this.openStart=-1,this.next(),this}forward(t,e){for(;this.minActive>-1&&(this.activeTo[this.minActive]-t||this.active[this.minActive].endSide-e)<0;)this.removeActive(this.minActive);this.cursor.forward(t,e)}removeActive(t){Eu(this.active,t),Eu(this.activeTo,t),Eu(this.activeRank,t),this.minActive=Ay(this.active,this.activeTo)}addActive(t){let e=0,{value:i,to:r,rank:a}=this.cursor;for(;e<this.activeRank.length&&(a-this.activeRank[e]||r-this.activeTo[e])>0;)e++;Du(this.active,e,i),Du(this.activeTo,e,r),Du(this.activeRank,e,a),t&&Du(t,e,this.cursor.from),this.minActive=Ay(this.active,this.activeTo)}next(){let t=this.to,e=this.point;this.point=null;let i=this.openStart<0?[]:null;for(;;){let r=this.minActive;if(r>-1&&(this.activeTo[r]-this.cursor.from||this.active[r].endSide-this.cursor.startSide)<0){if(this.activeTo[r]>t){this.to=this.activeTo[r],this.endSide=this.active[r].endSide;break}this.removeActive(r),i&&Eu(i,r)}else if(this.cursor.value)if(this.cursor.from>t){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let a=this.cursor.value;if(!a.point)this.addActive(i),this.cursor.next();else if(e&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=a,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=a.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(i){this.openStart=0;for(let r=i.length-1;r>=0&&i[r]<t;r--)this.openStart++}}activeForPoint(t){if(!this.active.length)return this.active;let e=[];for(let i=this.active.length-1;i>=0&&!(this.activeRank[i]<this.pointRank);i--)(this.activeTo[i]>t||this.activeTo[i]==t&&this.active[i].endSide>=this.point.endSide)&&e.push(this.active[i]);return e.reverse()}openEnd(t){let e=0;for(let i=this.activeTo.length-1;i>=0&&this.activeTo[i]>t;i--)e++;return e}}function ky(l,t,e,i,r,a){l.goto(t),e.goto(i);let u=i+r,f=i,c=i-t;for(;;){let d=l.to+c-e.to||l.endSide-e.endSide,g=d<0?l.to+c:e.to,y=Math.min(g,u);if(l.point||e.point?l.point&&e.point&&(l.point==e.point||l.point.eq(e.point))&&Jd(l.activeForPoint(l.to),e.activeForPoint(e.to))||a.comparePoint(f,y,l.point,e.point):y>f&&!Jd(l.active,e.active)&&a.compareRange(f,y,l.active,e.active),g>u)break;f=g,d<=0&&l.next(),d>=0&&e.next()}}function Jd(l,t){if(l.length!=t.length)return!1;for(let e=0;e<l.length;e++)if(l[e]!=t[e]&&!l[e].eq(t[e]))return!1;return!0}function Eu(l,t){for(let e=t,i=l.length-1;e<i;e++)l[e]=l[e+1];l.pop()}function Du(l,t,e){for(let i=l.length-1;i>=t;i--)l[i+1]=l[i];l[t]=e}function Ay(l,t){let e=-1,i=1e9;for(let r=0;r<t.length;r++)(t[r]-i||l[r].endSide-l[e].endSide)<0&&(e=r,i=t[r]);return e}function Ns(l,t,e=l.length){let i=0;for(let r=0;r<e;)l.charCodeAt(r)==9?(i+=t-i%t,r++):(i++,r=fi(l,r));return i}function $d(l,t,e,i){for(let r=0,a=0;;){if(a>=t)return r;if(r==l.length)break;a+=l.charCodeAt(r)==9?e-a%e:1,r=fi(l,r)}return i===!0?-1:l.length}const tm="",Cy=typeof Symbol>"u"?"__"+tm:Symbol.for(tm),em=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),_y=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class Wl{constructor(t,e){this.rules=[];let{finish:i}=e||{};function r(u){return/^@/.test(u)?[u]:u.split(/,\s*/)}function a(u,f,c,d){let g=[],y=/^@(\w+)\b/.exec(u[0]),b=y&&y[1]=="keyframes";if(y&&f==null)return c.push(u[0]+";");for(let x in f){let w=f[x];if(/&/.test(x))a(x.split(/,\s*/).map(_=>u.map(O=>_.replace(/&/,O))).reduce((_,O)=>_.concat(O)),w,c);else if(w&&typeof w=="object"){if(!y)throw new RangeError("The value of a property ("+x+") should be a primitive value.");a(r(x),w,g,b)}else w!=null&&g.push(x.replace(/_.*/,"").replace(/[A-Z]/g,_=>"-"+_.toLowerCase())+": "+w+";")}(g.length||b)&&c.push((i&&!y&&!d?u.map(i):u).join(", ")+" {"+g.join(" ")+"}")}for(let u in t)a(r(u),t[u],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let t=_y[Cy]||1;return _y[Cy]=t+1,tm+t.toString(36)}static mount(t,e,i){let r=t[em],a=i&&i.nonce;r?a&&r.setNonce(a):r=new TA(t,a),r.mount(Array.isArray(e)?e:[e],t)}}let Ty=new Map;class TA{constructor(t,e){let i=t.ownerDocument||t,r=i.defaultView;if(!t.head&&t.adoptedStyleSheets&&r.CSSStyleSheet){let a=Ty.get(i);if(a)return t[em]=a;this.sheet=new r.CSSStyleSheet,Ty.set(i,this)}else this.styleTag=i.createElement("style"),e&&this.styleTag.setAttribute("nonce",e);this.modules=[],t[em]=this}mount(t,e){let i=this.sheet,r=0,a=0;for(let u=0;u<t.length;u++){let f=t[u],c=this.modules.indexOf(f);if(c<a&&c>-1&&(this.modules.splice(c,1),a--,c=-1),c==-1){if(this.modules.splice(a++,0,f),i)for(let d=0;d<f.rules.length;d++)i.insertRule(f.rules[d],r++)}else{for(;a<c;)r+=this.modules[a++].rules.length;r+=f.rules.length,a++}}if(i)e.adoptedStyleSheets.indexOf(this.sheet)<0&&(e.adoptedStyleSheets=[this.sheet,...e.adoptedStyleSheets]);else{let u="";for(let c=0;c<this.modules.length;c++)u+=this.modules[c].getRules()+`
`;this.styleTag.textContent=u;let f=e.head||e;this.styleTag.parentNode!=f&&f.insertBefore(this.styleTag,f.firstChild)}}setNonce(t){this.styleTag&&this.styleTag.getAttribute("nonce")!=t&&this.styleTag.setAttribute("nonce",t)}}var Jl={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Wa={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},OA=typeof navigator<"u"&&/Mac/.test(navigator.platform),MA=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var oi=0;oi<10;oi++)Jl[48+oi]=Jl[96+oi]=String(oi);for(var oi=1;oi<=24;oi++)Jl[oi+111]="F"+oi;for(var oi=65;oi<=90;oi++)Jl[oi]=String.fromCharCode(oi+32),Wa[oi]=String.fromCharCode(oi);for(var cd in Jl)Wa.hasOwnProperty(cd)||(Wa[cd]=Jl[cd]);function EA(l){var t=OA&&l.metaKey&&l.shiftKey&&!l.ctrlKey&&!l.altKey||MA&&l.shiftKey&&l.key&&l.key.length==1||l.key=="Unidentified",e=!t&&l.key||(l.shiftKey?Wa:Jl)[l.keyCode]||l.key||"Unidentified";return e=="Esc"&&(e="Escape"),e=="Del"&&(e="Delete"),e=="Left"&&(e="ArrowLeft"),e=="Up"&&(e="ArrowUp"),e=="Right"&&(e="ArrowRight"),e=="Down"&&(e="ArrowDown"),e}function Ja(l){let t;return l.nodeType==11?t=l.getSelection?l:l.ownerDocument:t=l,t.getSelection()}function im(l,t){return t?l==t||l.contains(t.nodeType!=1?t.parentNode:t):!1}function ef(l,t){if(!t.anchorNode)return!1;try{return im(l,t.anchorNode)}catch{return!1}}function Ts(l){return l.nodeType==3?Or(l,0,l.nodeValue.length).getClientRects():l.nodeType==1?l.getClientRects():[]}function Pa(l,t,e,i){return e?Oy(l,t,e,i,-1)||Oy(l,t,e,i,1):!1}function Tr(l){for(var t=0;;t++)if(l=l.previousSibling,!l)return t}function df(l){return l.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(l.nodeName)}function Oy(l,t,e,i,r){for(;;){if(l==e&&t==i)return!0;if(t==(r<0?0:Yn(l))){if(l.nodeName=="DIV")return!1;let a=l.parentNode;if(!a||a.nodeType!=1)return!1;t=Tr(l)+(r<0?0:1),l=a}else if(l.nodeType==1){if(l=l.childNodes[t+(r<0?-1:0)],l.nodeType==1&&l.contentEditable=="false")return!1;t=r<0?Yn(l):0}else return!1}}function Yn(l){return l.nodeType==3?l.nodeValue.length:l.childNodes.length}function fo(l,t){let e=t?l.left:l.right;return{left:e,right:e,top:l.top,bottom:l.bottom}}function DA(l){let t=l.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:l.innerWidth,top:0,bottom:l.innerHeight}}function Zb(l,t){let e=t.width/l.offsetWidth,i=t.height/l.offsetHeight;return(e>.995&&e<1.005||!isFinite(e)||Math.abs(t.width-l.offsetWidth)<1)&&(e=1),(i>.995&&i<1.005||!isFinite(i)||Math.abs(t.height-l.offsetHeight)<1)&&(i=1),{scaleX:e,scaleY:i}}function RA(l,t,e,i,r,a,u,f){let c=l.ownerDocument,d=c.defaultView||window;for(let g=l,y=!1;g&&!y;)if(g.nodeType==1){let b,x=g==c.body,w=1,_=1;if(x)b=DA(d);else{if(/^(fixed|sticky)$/.test(getComputedStyle(g).position)&&(y=!0),g.scrollHeight<=g.clientHeight&&g.scrollWidth<=g.clientWidth){g=g.assignedSlot||g.parentNode;continue}let B=g.getBoundingClientRect();({scaleX:w,scaleY:_}=Zb(g,B)),b={left:B.left,right:B.left+g.clientWidth*w,top:B.top,bottom:B.top+g.clientHeight*_}}let O=0,M=0;if(r=="nearest")t.top<b.top?(M=-(b.top-t.top+u),e>0&&t.bottom>b.bottom+M&&(M=t.bottom-b.bottom+M+u)):t.bottom>b.bottom&&(M=t.bottom-b.bottom+u,e<0&&t.top-M<b.top&&(M=-(b.top+M-t.top+u)));else{let B=t.bottom-t.top,j=b.bottom-b.top;M=(r=="center"&&B<=j?t.top+B/2-j/2:r=="start"||r=="center"&&e<0?t.top-u:t.bottom-j+u)-b.top}if(i=="nearest"?t.left<b.left?(O=-(b.left-t.left+a),e>0&&t.right>b.right+O&&(O=t.right-b.right+O+a)):t.right>b.right&&(O=t.right-b.right+a,e<0&&t.left<b.left+O&&(O=-(b.left+O-t.left+a))):O=(i=="center"?t.left+(t.right-t.left)/2-(b.right-b.left)/2:i=="start"==f?t.left-a:t.right-(b.right-b.left)+a)-b.left,O||M)if(x)d.scrollBy(O,M);else{let B=0,j=0;if(M){let et=g.scrollTop;g.scrollTop+=M/_,j=(g.scrollTop-et)*_}if(O){let et=g.scrollLeft;g.scrollLeft+=O/w,B=(g.scrollLeft-et)*w}t={left:t.left-B,top:t.top-j,right:t.right-B,bottom:t.bottom-j},B&&Math.abs(B-O)<1&&(i="nearest"),j&&Math.abs(j-M)<1&&(r="nearest")}if(x)break;g=g.assignedSlot||g.parentNode}else if(g.nodeType==11)g=g.host;else break}function BA(l){let t=l.ownerDocument,e,i;for(let r=l.parentNode;r&&!(r==t.body||e&&i);)if(r.nodeType==1)!i&&r.scrollHeight>r.clientHeight&&(i=r),!e&&r.scrollWidth>r.clientWidth&&(e=r),r=r.assignedSlot||r.parentNode;else if(r.nodeType==11)r=r.host;else break;return{x:e,y:i}}class NA{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(t){return this.anchorNode==t.anchorNode&&this.anchorOffset==t.anchorOffset&&this.focusNode==t.focusNode&&this.focusOffset==t.focusOffset}setRange(t){let{anchorNode:e,focusNode:i}=t;this.set(e,Math.min(t.anchorOffset,e?Yn(e):0),i,Math.min(t.focusOffset,i?Yn(i):0))}set(t,e,i,r){this.anchorNode=t,this.anchorOffset=e,this.focusNode=i,this.focusOffset=r}}let cs=null;function Kb(l){if(l.setActive)return l.setActive();if(cs)return l.focus(cs);let t=[];for(let e=l;e&&(t.push(e,e.scrollTop,e.scrollLeft),e!=e.ownerDocument);e=e.parentNode);if(l.focus(cs==null?{get preventScroll(){return cs={preventScroll:!0},!0}}:void 0),!cs){cs=!1;for(let e=0;e<t.length;){let i=t[e++],r=t[e++],a=t[e++];i.scrollTop!=r&&(i.scrollTop=r),i.scrollLeft!=a&&(i.scrollLeft=a)}}}let My;function Or(l,t,e=t){let i=My||(My=document.createRange());return i.setEnd(l,e),i.setStart(l,t),i}function Ss(l,t,e,i){let r={key:t,code:t,keyCode:e,which:e,cancelable:!0};i&&({altKey:r.altKey,ctrlKey:r.ctrlKey,shiftKey:r.shiftKey,metaKey:r.metaKey}=i);let a=new KeyboardEvent("keydown",r);a.synthetic=!0,l.dispatchEvent(a);let u=new KeyboardEvent("keyup",r);return u.synthetic=!0,l.dispatchEvent(u),a.defaultPrevented||u.defaultPrevented}function zA(l){for(;l;){if(l&&(l.nodeType==9||l.nodeType==11&&l.host))return l;l=l.assignedSlot||l.parentNode}return null}function Ib(l){for(;l.attributes.length;)l.removeAttributeNode(l.attributes[0])}function LA(l,t){let e=t.focusNode,i=t.focusOffset;if(!e||t.anchorNode!=e||t.anchorOffset!=i)return!1;for(i=Math.min(i,Yn(e));;)if(i){if(e.nodeType!=1)return!1;let r=e.childNodes[i-1];r.contentEditable=="false"?i--:(e=r,i=Yn(e))}else{if(e==l)return!0;i=Tr(e),e=e.parentNode}}function Fb(l){return l.scrollTop>Math.max(1,l.scrollHeight-l.clientHeight-4)}function Wb(l,t){for(let e=l,i=t;;){if(e.nodeType==3&&i>0)return{node:e,offset:i};if(e.nodeType==1&&i>0){if(e.contentEditable=="false")return null;e=e.childNodes[i-1],i=Yn(e)}else if(e.parentNode&&!df(e))i=Tr(e),e=e.parentNode;else return null}}function Jb(l,t){for(let e=l,i=t;;){if(e.nodeType==3&&i<e.nodeValue.length)return{node:e,offset:i};if(e.nodeType==1&&i<e.childNodes.length){if(e.contentEditable=="false")return null;e=e.childNodes[i],i=0}else if(e.parentNode&&!df(e))i=Tr(e)+1,e=e.parentNode;else return null}}class pi{constructor(t,e,i=!0){this.node=t,this.offset=e,this.precise=i}static before(t,e){return new pi(t.parentNode,Tr(t),e)}static after(t,e){return new pi(t.parentNode,Tr(t)+1,e)}}const Fm=[];class ge{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(t){let e=this.posAtStart;for(let i of this.children){if(i==t)return e;e+=i.length+i.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(t){return this.posBefore(t)+t.length}sync(t,e){if(this.flags&2){let i=this.dom,r=null,a;for(let u of this.children){if(u.flags&7){if(!u.dom&&(a=r?r.nextSibling:i.firstChild)){let f=ge.get(a);(!f||!f.parent&&f.canReuseDOM(u))&&u.reuseDOM(a)}u.sync(t,e),u.flags&=-8}if(a=r?r.nextSibling:i.firstChild,e&&!e.written&&e.node==i&&a!=u.dom&&(e.written=!0),u.dom.parentNode==i)for(;a&&a!=u.dom;)a=Ey(a);else i.insertBefore(u.dom,a);r=u.dom}for(a=r?r.nextSibling:i.firstChild,a&&e&&e.node==i&&(e.written=!0);a;)a=Ey(a)}else if(this.flags&1)for(let i of this.children)i.flags&7&&(i.sync(t,e),i.flags&=-8)}reuseDOM(t){}localPosFromDOM(t,e){let i;if(t==this.dom)i=this.dom.childNodes[e];else{let r=Yn(t)==0?0:e==0?-1:1;for(;;){let a=t.parentNode;if(a==this.dom)break;r==0&&a.firstChild!=a.lastChild&&(t==a.firstChild?r=-1:r=1),t=a}r<0?i=t:i=t.nextSibling}if(i==this.dom.firstChild)return 0;for(;i&&!ge.get(i);)i=i.nextSibling;if(!i)return this.length;for(let r=0,a=0;;r++){let u=this.children[r];if(u.dom==i)return a;a+=u.length+u.breakAfter}}domBoundsAround(t,e,i=0){let r=-1,a=-1,u=-1,f=-1;for(let c=0,d=i,g=i;c<this.children.length;c++){let y=this.children[c],b=d+y.length;if(d<t&&b>e)return y.domBoundsAround(t,e,d);if(b>=t&&r==-1&&(r=c,a=d),d>e&&y.dom.parentNode==this.dom){u=c,f=g;break}g=b,d=b+y.breakAfter}return{from:a,to:f<0?i+this.length:f,startDOM:(r?this.children[r-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:u<this.children.length&&u>=0?this.children[u].dom:null}}markDirty(t=!1){this.flags|=2,this.markParentsDirty(t)}markParentsDirty(t){for(let e=this.parent;e;e=e.parent){if(t&&(e.flags|=2),e.flags&1)return;e.flags|=1,t=!1}}setParent(t){this.parent!=t&&(this.parent=t,this.flags&7&&this.markParentsDirty(!0))}setDOM(t){this.dom!=t&&(this.dom&&(this.dom.cmView=null),this.dom=t,t.cmView=this)}get rootView(){for(let t=this;;){let e=t.parent;if(!e)return t;t=e}}replaceChildren(t,e,i=Fm){this.markDirty();for(let r=t;r<e;r++){let a=this.children[r];a.parent==this&&i.indexOf(a)<0&&a.destroy()}i.length<250?this.children.splice(t,e-t,...i):this.children=[].concat(this.children.slice(0,t),i,this.children.slice(e));for(let r=0;r<i.length;r++)i[r].setParent(this)}ignoreMutation(t){return!1}ignoreEvent(t){return!1}childCursor(t=this.length){return new $b(this.children,t,this.children.length)}childPos(t,e=1){return this.childCursor().findPos(t,e)}toString(){let t=this.constructor.name.replace("View","");return t+(this.children.length?"("+this.children.join()+")":this.length?"["+(t=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(t){return t.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(t,e,i,r,a,u){return!1}become(t){return!1}canReuseDOM(t){return t.constructor==this.constructor&&!((this.flags|t.flags)&8)}getSide(){return 0}destroy(){for(let t of this.children)t.parent==this&&t.destroy();this.parent=null}}ge.prototype.breakAfter=0;function Ey(l){let t=l.nextSibling;return l.parentNode.removeChild(l),t}class $b{constructor(t,e,i){this.children=t,this.pos=e,this.i=i,this.off=0}findPos(t,e=1){for(;;){if(t>this.pos||t==this.pos&&(e>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=t-this.pos,this;let i=this.children[--this.i];this.pos-=i.length+i.breakAfter}}}function tx(l,t,e,i,r,a,u,f,c){let{children:d}=l,g=d.length?d[t]:null,y=a.length?a[a.length-1]:null,b=y?y.breakAfter:u;if(!(t==i&&g&&!u&&!b&&a.length<2&&g.merge(e,r,a.length?y:null,e==0,f,c))){if(i<d.length){let x=d[i];x&&(r<x.length||x.breakAfter&&(y!=null&&y.breakAfter))?(t==i&&(x=x.split(r),r=0),!b&&y&&x.merge(0,r,y,!0,0,c)?a[a.length-1]=x:((r||x.children.length&&!x.children[0].length)&&x.merge(0,r,null,!1,0,c),a.push(x))):x!=null&&x.breakAfter&&(y?y.breakAfter=1:u=1),i++}for(g&&(g.breakAfter=u,e>0&&(!u&&a.length&&g.merge(e,g.length,a[0],!1,f,0)?g.breakAfter=a.shift().breakAfter:(e<g.length||g.children.length&&g.children[g.children.length-1].length==0)&&g.merge(e,g.length,null,!1,f,0),t++));t<i&&a.length;)if(d[i-1].become(a[a.length-1]))i--,a.pop(),c=a.length?0:f;else if(d[t].become(a[0]))t++,a.shift(),f=a.length?0:c;else break;!a.length&&t&&i<d.length&&!d[t-1].breakAfter&&d[i].merge(0,0,d[t-1],!1,f,c)&&t--,(t<i||a.length)&&l.replaceChildren(t,i,a)}}function ex(l,t,e,i,r,a){let u=l.childCursor(),{i:f,off:c}=u.findPos(e,1),{i:d,off:g}=u.findPos(t,-1),y=t-e;for(let b of i)y+=b.length;l.length+=y,tx(l,d,g,f,c,i,0,r,a)}let Ni=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},nm=typeof document<"u"?document:{documentElement:{style:{}}};const lm=/Edge\/(\d+)/.exec(Ni.userAgent),ix=/MSIE \d/.test(Ni.userAgent),rm=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Ni.userAgent),qf=!!(ix||rm||lm),Dy=!qf&&/gecko\/(\d+)/i.test(Ni.userAgent),dd=!qf&&/Chrome\/(\d+)/.exec(Ni.userAgent),HA="webkitFontSmoothing"in nm.documentElement.style,nx=!qf&&/Apple Computer/.test(Ni.vendor),Ry=nx&&(/Mobile\/\w+/.test(Ni.userAgent)||Ni.maxTouchPoints>2);var Tt={mac:Ry||/Mac/.test(Ni.platform),windows:/Win/.test(Ni.platform),linux:/Linux|X11/.test(Ni.platform),ie:qf,ie_version:ix?nm.documentMode||6:rm?+rm[1]:lm?+lm[1]:0,gecko:Dy,gecko_version:Dy?+(/Firefox\/(\d+)/.exec(Ni.userAgent)||[0,0])[1]:0,chrome:!!dd,chrome_version:dd?+dd[1]:0,ios:Ry,android:/Android\b/.test(Ni.userAgent),safari:nx,webkit_version:HA?+(/\bAppleWebKit\/(\d+)/.exec(Ni.userAgent)||[0,0])[1]:0,tabSize:nm.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const UA=256;class kn extends ge{constructor(t){super(),this.text=t}get length(){return this.text.length}createDOM(t){this.setDOM(t||document.createTextNode(this.text))}sync(t,e){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(e&&e.node==this.dom&&(e.written=!0),this.dom.nodeValue=this.text)}reuseDOM(t){t.nodeType==3&&this.createDOM(t)}merge(t,e,i){return this.flags&8||i&&(!(i instanceof kn)||this.length-(e-t)+i.length>UA||i.flags&8)?!1:(this.text=this.text.slice(0,t)+(i?i.text:"")+this.text.slice(e),this.markDirty(),!0)}split(t){let e=new kn(this.text.slice(t));return this.text=this.text.slice(0,t),this.markDirty(),e.flags|=this.flags&8,e}localPosFromDOM(t,e){return t==this.dom?e:e?this.text.length:0}domAtPos(t){return new pi(this.dom,t)}domBoundsAround(t,e,i){return{from:i,to:i+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(t,e){return VA(this.dom,t,e)}}class hl extends ge{constructor(t,e=[],i=0){super(),this.mark=t,this.children=e,this.length=i;for(let r of e)r.setParent(this)}setAttrs(t){if(Ib(t),this.mark.class&&(t.className=this.mark.class),this.mark.attrs)for(let e in this.mark.attrs)t.setAttribute(e,this.mark.attrs[e]);return t}canReuseDOM(t){return super.canReuseDOM(t)&&!((this.flags|t.flags)&8)}reuseDOM(t){t.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(t),this.flags|=6)}sync(t,e){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(t,e)}merge(t,e,i,r,a,u){return i&&(!(i instanceof hl&&i.mark.eq(this.mark))||t&&a<=0||e<this.length&&u<=0)?!1:(ex(this,t,e,i?i.children.slice():[],a-1,u-1),this.markDirty(),!0)}split(t){let e=[],i=0,r=-1,a=0;for(let f of this.children){let c=i+f.length;c>t&&e.push(i<t?f.split(t-i):f),r<0&&i>=t&&(r=a),i=c,a++}let u=this.length-t;return this.length=t,r>-1&&(this.children.length=r,this.markDirty()),new hl(this.mark,e,u)}domAtPos(t){return lx(this,t)}coordsAt(t,e){return sx(this,t,e)}}function VA(l,t,e){let i=l.nodeValue.length;t>i&&(t=i);let r=t,a=t,u=0;t==0&&e<0||t==i&&e>=0?Tt.chrome||Tt.gecko||(t?(r--,u=1):a<i&&(a++,u=-1)):e<0?r--:a<i&&a++;let f=Or(l,r,a).getClientRects();if(!f.length)return null;let c=f[(u?u<0:e>=0)?0:f.length-1];return Tt.safari&&!u&&c.width==0&&(c=Array.prototype.find.call(f,d=>d.width)||c),u?fo(c,u<0):c||null}class Pl extends ge{static create(t,e,i){return new Pl(t,e,i)}constructor(t,e,i){super(),this.widget=t,this.length=e,this.side=i,this.prevWidget=null}split(t){let e=Pl.create(this.widget,this.length-t,this.side);return this.length-=t,e}sync(t){(!this.dom||!this.widget.updateDOM(this.dom,t))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(t)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(t,e,i,r,a,u){return i&&(!(i instanceof Pl)||!this.widget.compare(i.widget)||t>0&&a<=0||e<this.length&&u<=0)?!1:(this.length=t+(i?i.length:0)+(this.length-e),!0)}become(t){return t instanceof Pl&&t.side==this.side&&this.widget.constructor==t.widget.constructor?(this.widget.compare(t.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=t.widget,this.length=t.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(t){return this.widget.ignoreEvent(t)}get overrideDOMText(){if(this.length==0)return ne.empty;let t=this;for(;t.parent;)t=t.parent;let{view:e}=t,i=e&&e.state.doc,r=this.posAtStart;return i?i.slice(r,r+this.length):ne.empty}domAtPos(t){return(this.length?t==0:this.side>0)?pi.before(this.dom):pi.after(this.dom,t==this.length)}domBoundsAround(){return null}coordsAt(t,e){let i=this.widget.coordsAt(this.dom,t,e);if(i)return i;let r=this.dom.getClientRects(),a=null;if(!r.length)return null;let u=this.side?this.side<0:t>0;for(let f=u?r.length-1:0;a=r[f],!(t>0?f==0:f==r.length-1||a.top<a.bottom);f+=u?-1:1);return fo(a,!u)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class Os extends ge{constructor(t){super(),this.side=t}get length(){return 0}merge(){return!1}become(t){return t instanceof Os&&t.side==this.side}split(){return new Os(this.side)}sync(){if(!this.dom){let t=document.createElement("img");t.className="cm-widgetBuffer",t.setAttribute("aria-hidden","true"),this.setDOM(t)}}getSide(){return this.side}domAtPos(t){return this.side>0?pi.before(this.dom):pi.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(t){return this.dom.getBoundingClientRect()}get overrideDOMText(){return ne.empty}get isHidden(){return!0}}kn.prototype.children=Pl.prototype.children=Os.prototype.children=Fm;function lx(l,t){let e=l.dom,{children:i}=l,r=0;for(let a=0;r<i.length;r++){let u=i[r],f=a+u.length;if(!(f==a&&u.getSide()<=0)){if(t>a&&t<f&&u.dom.parentNode==e)return u.domAtPos(t-a);if(t<=a)break;a=f}}for(let a=r;a>0;a--){let u=i[a-1];if(u.dom.parentNode==e)return u.domAtPos(u.length)}for(let a=r;a<i.length;a++){let u=i[a];if(u.dom.parentNode==e)return u.domAtPos(0)}return new pi(e,0)}function rx(l,t,e){let i,{children:r}=l;e>0&&t instanceof hl&&r.length&&(i=r[r.length-1])instanceof hl&&i.mark.eq(t.mark)?rx(i,t.children[0],e-1):(r.push(t),t.setParent(l)),l.length+=t.length}function sx(l,t,e){let i=null,r=-1,a=null,u=-1;function f(d,g){for(let y=0,b=0;y<d.children.length&&b<=g;y++){let x=d.children[y],w=b+x.length;w>=g&&(x.children.length?f(x,g-b):(!a||a.isHidden&&e>0)&&(w>g||b==w&&x.getSide()>0)?(a=x,u=g-b):(b<g||b==w&&x.getSide()<0&&!x.isHidden)&&(i=x,r=g-b)),b=w}}f(l,t);let c=(e<0?i:a)||i||a;return c?c.coordsAt(Math.max(0,c==i?r:u),e):qA(l)}function qA(l){let t=l.dom.lastChild;if(!t)return l.dom.getBoundingClientRect();let e=Ts(t);return e[e.length-1]||null}function sm(l,t){for(let e in l)e=="class"&&t.class?t.class+=" "+l.class:e=="style"&&t.style?t.style+=";"+l.style:t[e]=l[e];return t}const By=Object.create(null);function mf(l,t,e){if(l==t)return!0;l||(l=By),t||(t=By);let i=Object.keys(l),r=Object.keys(t);if(i.length-(e&&i.indexOf(e)>-1?1:0)!=r.length-(e&&r.indexOf(e)>-1?1:0))return!1;for(let a of i)if(a!=e&&(r.indexOf(a)==-1||l[a]!==t[a]))return!1;return!0}function am(l,t,e){let i=!1;if(t)for(let r in t)e&&r in e||(i=!0,r=="style"?l.style.cssText="":l.removeAttribute(r));if(e)for(let r in e)t&&t[r]==e[r]||(i=!0,r=="style"?l.style.cssText=e[r]:l.setAttribute(r,e[r]));return i}function jA(l){let t=Object.create(null);for(let e=0;e<l.attributes.length;e++){let i=l.attributes[e];t[i.name]=i.value}return t}class dl{eq(t){return!1}updateDOM(t,e){return!1}compare(t){return this==t||this.constructor==t.constructor&&this.eq(t)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(t){return!0}coordsAt(t,e,i){return null}get isHidden(){return!1}get editable(){return!1}destroy(t){}}var ki=function(l){return l[l.Text=0]="Text",l[l.WidgetBefore=1]="WidgetBefore",l[l.WidgetAfter=2]="WidgetAfter",l[l.WidgetRange=3]="WidgetRange",l}(ki||(ki={}));class Dt extends _r{constructor(t,e,i,r){super(),this.startSide=t,this.endSide=e,this.widget=i,this.spec=r}get heightRelevant(){return!1}static mark(t){return new ho(t)}static widget(t){let e=Math.max(-1e4,Math.min(1e4,t.side||0)),i=!!t.block;return e+=i&&!t.inlineOrder?e>0?3e8:-4e8:e>0?1e8:-1e8,new $l(t,e,e,i,t.widget||null,!1)}static replace(t){let e=!!t.block,i,r;if(t.isBlockGap)i=-5e8,r=4e8;else{let{start:a,end:u}=ax(t,e);i=(a?e?-3e8:-1:5e8)-1,r=(u?e?2e8:1:-6e8)+1}return new $l(t,i,r,e,t.widget||null,!0)}static line(t){return new co(t)}static set(t,e=!1){return ee.of(t,e)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}Dt.none=ee.empty;class ho extends Dt{constructor(t){let{start:e,end:i}=ax(t);super(e?-1:5e8,i?1:-6e8,null,t),this.tagName=t.tagName||"span",this.class=t.class||"",this.attrs=t.attributes||null}eq(t){var e,i;return this==t||t instanceof ho&&this.tagName==t.tagName&&(this.class||((e=this.attrs)===null||e===void 0?void 0:e.class))==(t.class||((i=t.attrs)===null||i===void 0?void 0:i.class))&&mf(this.attrs,t.attrs,"class")}range(t,e=t){if(t>=e)throw new RangeError("Mark decorations may not be empty");return super.range(t,e)}}ho.prototype.point=!1;class co extends Dt{constructor(t){super(-2e8,-2e8,null,t)}eq(t){return t instanceof co&&this.spec.class==t.spec.class&&mf(this.spec.attributes,t.spec.attributes)}range(t,e=t){if(e!=t)throw new RangeError("Line decoration ranges must be zero-length");return super.range(t,e)}}co.prototype.mapMode=wi.TrackBefore;co.prototype.point=!0;class $l extends Dt{constructor(t,e,i,r,a,u){super(e,i,a,t),this.block=r,this.isReplace=u,this.mapMode=r?e<=0?wi.TrackBefore:wi.TrackAfter:wi.TrackDel}get type(){return this.startSide!=this.endSide?ki.WidgetRange:this.startSide<=0?ki.WidgetBefore:ki.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(t){return t instanceof $l&&QA(this.widget,t.widget)&&this.block==t.block&&this.startSide==t.startSide&&this.endSide==t.endSide}range(t,e=t){if(this.isReplace&&(t>e||t==e&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&e!=t)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(t,e)}}$l.prototype.point=!0;function ax(l,t=!1){let{inclusiveStart:e,inclusiveEnd:i}=l;return e==null&&(e=l.inclusive),i==null&&(i=l.inclusive),{start:e??t,end:i??t}}function QA(l,t){return l==t||!!(l&&t&&l.compare(t))}function om(l,t,e,i=0){let r=e.length-1;r>=0&&e[r]+i>=l?e[r]=Math.max(e[r],t):e.push(l,t)}class Pe extends ge{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(t,e,i,r,a,u){if(i){if(!(i instanceof Pe))return!1;this.dom||i.transferDOM(this)}return r&&this.setDeco(i?i.attrs:null),ex(this,t,e,i?i.children.slice():[],a,u),!0}split(t){let e=new Pe;if(e.breakAfter=this.breakAfter,this.length==0)return e;let{i,off:r}=this.childPos(t);r&&(e.append(this.children[i].split(r),0),this.children[i].merge(r,this.children[i].length,null,!1,0,0),i++);for(let a=i;a<this.children.length;a++)e.append(this.children[a],0);for(;i>0&&this.children[i-1].length==0;)this.children[--i].destroy();return this.children.length=i,this.markDirty(),this.length=t,e}transferDOM(t){this.dom&&(this.markDirty(),t.setDOM(this.dom),t.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(t){mf(this.attrs,t)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=t)}append(t,e){rx(this,t,e)}addLineDeco(t){let e=t.spec.attributes,i=t.spec.class;e&&(this.attrs=sm(e,this.attrs||{})),i&&(this.attrs=sm({class:i},this.attrs||{}))}domAtPos(t){return lx(this,t)}reuseDOM(t){t.nodeName=="DIV"&&(this.setDOM(t),this.flags|=6)}sync(t,e){var i;this.dom?this.flags&4&&(Ib(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(am(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(t,e);let r=this.dom.lastChild;for(;r&&ge.get(r)instanceof hl;)r=r.lastChild;if(!r||!this.length||r.nodeName!="BR"&&((i=ge.get(r))===null||i===void 0?void 0:i.isEditable)==!1&&(!Tt.ios||!this.children.some(a=>a instanceof kn))){let a=document.createElement("BR");a.cmIgnore=!0,this.dom.appendChild(a)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let t=0,e;for(let i of this.children){if(!(i instanceof kn)||/[^ -~]/.test(i.text))return null;let r=Ts(i.dom);if(r.length!=1)return null;t+=r[0].width,e=r[0].height}return t?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:t/this.length,textHeight:e}:null}coordsAt(t,e){let i=sx(this,t,e);if(!this.children.length&&i&&this.parent){let{heightOracle:r}=this.parent.view.viewState,a=i.bottom-i.top;if(Math.abs(a-r.lineHeight)<2&&r.textHeight<a){let u=(a-r.textHeight)/2;return{top:i.top+u,bottom:i.bottom-u,left:i.left,right:i.left}}}return i}become(t){return t instanceof Pe&&this.children.length==0&&t.children.length==0&&mf(this.attrs,t.attrs)&&this.breakAfter==t.breakAfter}covers(){return!0}static find(t,e){for(let i=0,r=0;i<t.children.length;i++){let a=t.children[i],u=r+a.length;if(u>=e){if(a instanceof Pe)return a;if(u>e)break}r=u+a.breakAfter}return null}}class fl extends ge{constructor(t,e,i){super(),this.widget=t,this.length=e,this.deco=i,this.breakAfter=0,this.prevWidget=null}merge(t,e,i,r,a,u){return i&&(!(i instanceof fl)||!this.widget.compare(i.widget)||t>0&&a<=0||e<this.length&&u<=0)?!1:(this.length=t+(i?i.length:0)+(this.length-e),!0)}domAtPos(t){return t==0?pi.before(this.dom):pi.after(this.dom,t==this.length)}split(t){let e=this.length-t;this.length=t;let i=new fl(this.widget,e,this.deco);return i.breakAfter=this.breakAfter,i}get children(){return Fm}sync(t){(!this.dom||!this.widget.updateDOM(this.dom,t))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(t)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):ne.empty}domBoundsAround(){return null}become(t){return t instanceof fl&&t.widget.constructor==this.widget.constructor?(t.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=t.widget,this.length=t.length,this.deco=t.deco,this.breakAfter=t.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(t){return this.widget.ignoreEvent(t)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(t,e){let i=this.widget.coordsAt(this.dom,t,e);return i||(this.widget instanceof um?null:fo(this.dom.getBoundingClientRect(),this.length?t==0:e<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(t){let{startSide:e,endSide:i}=this.deco;return e==i?!1:t<0?e<0:i>0}}class um extends dl{constructor(t){super(),this.height=t}toDOM(){let t=document.createElement("div");return t.className="cm-gap",this.updateDOM(t),t}eq(t){return t.height==this.height}updateDOM(t){return t.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class Ga{constructor(t,e,i,r){this.doc=t,this.pos=e,this.end=i,this.disallowBlockEffectsFor=r,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=t.iter(),this.skip=e}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let t=this.content[this.content.length-1];return!(t.breakAfter||t instanceof fl&&t.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new Pe),this.atCursorPos=!0),this.curLine}flushBuffer(t=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(Ru(new Os(-1),t),t.length),this.pendingBuffer=0)}addBlockWidget(t){this.flushBuffer(),this.curLine=null,this.content.push(t)}finish(t){this.pendingBuffer&&t<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(t&&this.content.length&&this.content[this.content.length-1]instanceof fl)&&this.getLine()}buildText(t,e,i){for(;t>0;){if(this.textOff==this.text.length){let{value:a,lineBreak:u,done:f}=this.cursor.next(this.skip);if(this.skip=0,f)throw new Error("Ran out of text content when drawing inline views");if(u){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,t--;continue}else this.text=a,this.textOff=0}let r=Math.min(this.text.length-this.textOff,t,512);this.flushBuffer(e.slice(e.length-i)),this.getLine().append(Ru(new kn(this.text.slice(this.textOff,this.textOff+r)),e),i),this.atCursorPos=!0,this.textOff+=r,t-=r,i=0}}span(t,e,i,r){this.buildText(e-t,i,r),this.pos=e,this.openStart<0&&(this.openStart=r)}point(t,e,i,r,a,u){if(this.disallowBlockEffectsFor[u]&&i instanceof $l){if(i.block)throw new RangeError("Block decorations may not be specified via plugins");if(e>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let f=e-t;if(i instanceof $l)if(i.block)i.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new fl(i.widget||Ms.block,f,i));else{let c=Pl.create(i.widget||Ms.inline,f,f?0:i.startSide),d=this.atCursorPos&&!c.isEditable&&a<=r.length&&(t<e||i.startSide>0),g=!c.isEditable&&(t<e||a>r.length||i.startSide<=0),y=this.getLine();this.pendingBuffer==2&&!d&&!c.isEditable&&(this.pendingBuffer=0),this.flushBuffer(r),d&&(y.append(Ru(new Os(1),r),a),a=r.length+Math.max(0,a-r.length)),y.append(Ru(c,r),a),this.atCursorPos=g,this.pendingBuffer=g?t<e||a>r.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=r.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(i);f&&(this.textOff+f<=this.text.length?this.textOff+=f:(this.skip+=f-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=e),this.openStart<0&&(this.openStart=a)}static build(t,e,i,r,a){let u=new Ga(t,e,i,a);return u.openEnd=ee.spans(r,e,i,u),u.openStart<0&&(u.openStart=u.openEnd),u.finish(u.openEnd),u}}function Ru(l,t){for(let e of t)l=new hl(e,[l],l.length);return l}class Ms extends dl{constructor(t){super(),this.tag=t}eq(t){return t.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(t){return t.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}Ms.inline=new Ms("span");Ms.block=new Ms("div");var ke=function(l){return l[l.LTR=0]="LTR",l[l.RTL=1]="RTL",l}(ke||(ke={}));const Mr=ke.LTR,Wm=ke.RTL;function ox(l){let t=[];for(let e=0;e<l.length;e++)t.push(1<<+l[e]);return t}const YA=ox("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),PA=ox("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),fm=Object.create(null),Nn=[];for(let l of["()","[]","{}"]){let t=l.charCodeAt(0),e=l.charCodeAt(1);fm[t]=e,fm[e]=-t}function ux(l){return l<=247?YA[l]:1424<=l&&l<=1524?2:1536<=l&&l<=1785?PA[l-1536]:1774<=l&&l<=2220?4:8192<=l&&l<=8204?256:64336<=l&&l<=65023?4:1}const GA=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Gl{get dir(){return this.level%2?Wm:Mr}constructor(t,e,i){this.from=t,this.to=e,this.level=i}side(t,e){return this.dir==e==t?this.to:this.from}forward(t,e){return t==(this.dir==e)}static find(t,e,i,r){let a=-1;for(let u=0;u<t.length;u++){let f=t[u];if(f.from<=e&&f.to>=e){if(f.level==i)return u;(a<0||(r!=0?r<0?f.from<e:f.to>e:t[a].level>f.level))&&(a=u)}}if(a<0)throw new RangeError("Index out of range");return a}}function fx(l,t){if(l.length!=t.length)return!1;for(let e=0;e<l.length;e++){let i=l[e],r=t[e];if(i.from!=r.from||i.to!=r.to||i.direction!=r.direction||!fx(i.inner,r.inner))return!1}return!0}const me=[];function XA(l,t,e,i,r){for(let a=0;a<=i.length;a++){let u=a?i[a-1].to:t,f=a<i.length?i[a].from:e,c=a?256:r;for(let d=u,g=c,y=c;d<f;d++){let b=ux(l.charCodeAt(d));b==512?b=g:b==8&&y==4&&(b=16),me[d]=b==4?2:b,b&7&&(y=b),g=b}for(let d=u,g=c,y=c;d<f;d++){let b=me[d];if(b==128)d<f-1&&g==me[d+1]&&g&24?b=me[d]=g:me[d]=256;else if(b==64){let x=d+1;for(;x<f&&me[x]==64;)x++;let w=d&&g==8||x<e&&me[x]==8?y==1?1:8:256;for(let _=d;_<x;_++)me[_]=w;d=x-1}else b==8&&y==1&&(me[d]=1);g=b,b&7&&(y=b)}}}function ZA(l,t,e,i,r){let a=r==1?2:1;for(let u=0,f=0,c=0;u<=i.length;u++){let d=u?i[u-1].to:t,g=u<i.length?i[u].from:e;for(let y=d,b,x,w;y<g;y++)if(x=fm[b=l.charCodeAt(y)])if(x<0){for(let _=f-3;_>=0;_-=3)if(Nn[_+1]==-x){let O=Nn[_+2],M=O&2?r:O&4?O&1?a:r:0;M&&(me[y]=me[Nn[_]]=M),f=_;break}}else{if(Nn.length==189)break;Nn[f++]=y,Nn[f++]=b,Nn[f++]=c}else if((w=me[y])==2||w==1){let _=w==r;c=_?0:1;for(let O=f-3;O>=0;O-=3){let M=Nn[O+2];if(M&2)break;if(_)Nn[O+2]|=2;else{if(M&4)break;Nn[O+2]|=4}}}}}function KA(l,t,e,i){for(let r=0,a=i;r<=e.length;r++){let u=r?e[r-1].to:l,f=r<e.length?e[r].from:t;for(let c=u;c<f;){let d=me[c];if(d==256){let g=c+1;for(;;)if(g==f){if(r==e.length)break;g=e[r++].to,f=r<e.length?e[r].from:t}else if(me[g]==256)g++;else break;let y=a==1,b=(g<t?me[g]:i)==1,x=y==b?y?1:2:i;for(let w=g,_=r,O=_?e[_-1].to:l;w>c;)w==O&&(w=e[--_].from,O=_?e[_-1].to:l),me[--w]=x;c=g}else a=d,c++}}}function hm(l,t,e,i,r,a,u){let f=i%2?2:1;if(i%2==r%2)for(let c=t,d=0;c<e;){let g=!0,y=!1;if(d==a.length||c<a[d].from){let _=me[c];_!=f&&(g=!1,y=_==16)}let b=!g&&f==1?[]:null,x=g?i:i+1,w=c;t:for(;;)if(d<a.length&&w==a[d].from){if(y)break t;let _=a[d];if(!g)for(let O=_.to,M=d+1;;){if(O==e)break t;if(M<a.length&&a[M].from==O)O=a[M++].to;else{if(me[O]==f)break t;break}}if(d++,b)b.push(_);else{_.from>c&&u.push(new Gl(c,_.from,x));let O=_.direction==Mr!=!(x%2);cm(l,O?i+1:i,r,_.inner,_.from,_.to,u),c=_.to}w=_.to}else{if(w==e||(g?me[w]!=f:me[w]==f))break;w++}b?hm(l,c,w,i+1,r,b,u):c<w&&u.push(new Gl(c,w,x)),c=w}else for(let c=e,d=a.length;c>t;){let g=!0,y=!1;if(!d||c>a[d-1].to){let _=me[c-1];_!=f&&(g=!1,y=_==16)}let b=!g&&f==1?[]:null,x=g?i:i+1,w=c;t:for(;;)if(d&&w==a[d-1].to){if(y)break t;let _=a[--d];if(!g)for(let O=_.from,M=d;;){if(O==t)break t;if(M&&a[M-1].to==O)O=a[--M].from;else{if(me[O-1]==f)break t;break}}if(b)b.push(_);else{_.to<c&&u.push(new Gl(_.to,c,x));let O=_.direction==Mr!=!(x%2);cm(l,O?i+1:i,r,_.inner,_.from,_.to,u),c=_.from}w=_.from}else{if(w==t||(g?me[w-1]!=f:me[w-1]==f))break;w--}b?hm(l,w,c,i+1,r,b,u):w<c&&u.push(new Gl(w,c,x)),c=w}}function cm(l,t,e,i,r,a,u){let f=t%2?2:1;XA(l,r,a,i,f),ZA(l,r,a,i,f),KA(r,a,i,f),hm(l,r,a,t,e,i,u)}function IA(l,t,e){if(!l)return[new Gl(0,0,t==Wm?1:0)];if(t==Mr&&!e.length&&!GA.test(l))return hx(l.length);if(e.length)for(;l.length>me.length;)me[me.length]=256;let i=[],r=t==Mr?0:1;return cm(l,r,r,e,0,l.length,i),i}function hx(l){return[new Gl(0,l,0)]}let cx="";function FA(l,t,e,i,r){var a;let u=i.head-l.from,f=Gl.find(t,u,(a=i.bidiLevel)!==null&&a!==void 0?a:-1,i.assoc),c=t[f],d=c.side(r,e);if(u==d){let b=f+=r?1:-1;if(b<0||b>=t.length)return null;c=t[f=b],u=c.side(!r,e),d=c.side(r,e)}let g=fi(l.text,u,c.forward(r,e));(g<c.from||g>c.to)&&(g=d),cx=l.text.slice(Math.min(u,g),Math.max(u,g));let y=f==(r?t.length-1:0)?null:t[f+(r?1:-1)];return y&&g==d&&y.level+(r?0:1)<c.level?ot.cursor(y.side(!r,e)+l.from,y.forward(r,e)?1:-1,y.level):ot.cursor(g+l.from,c.forward(r,e)?-1:1,c.level)}function WA(l,t,e){for(let i=t;i<e;i++){let r=ux(l.charCodeAt(i));if(r==1)return Mr;if(r==2||r==4)return Wm}return Mr}const dx=_t.define(),mx=_t.define(),gx=_t.define(),px=_t.define(),dm=_t.define(),yx=_t.define(),vx=_t.define(),Jm=_t.define(),$m=_t.define(),bx=_t.define({combine:l=>l.some(t=>t)}),xx=_t.define({combine:l=>l.some(t=>t)}),Sx=_t.define();class ws{constructor(t,e="nearest",i="nearest",r=5,a=5,u=!1){this.range=t,this.y=e,this.x=i,this.yMargin=r,this.xMargin=a,this.isSnapshot=u}map(t){return t.empty?this:new ws(this.range.map(t),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(t){return this.range.to<=t.doc.length?this:new ws(ot.cursor(t.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const Bu=Ut.define({map:(l,t)=>l.map(t)}),wx=Ut.define();function Li(l,t,e){let i=l.facet(px);i.length?i[0](t):window.onerror?window.onerror(String(t),e,void 0,void 0,t):e?console.error(e+":",t):console.error(t)}const ql=_t.define({combine:l=>l.length?l[0]:!0});let JA=0;const Ha=_t.define();class Ue{constructor(t,e,i,r,a){this.id=t,this.create=e,this.domEventHandlers=i,this.domEventObservers=r,this.extension=a(this)}static define(t,e){const{eventHandlers:i,eventObservers:r,provide:a,decorations:u}=e||{};return new Ue(JA++,t,i,r,f=>{let c=[Ha.of(f)];return u&&c.push($a.of(d=>{let g=d.plugin(f);return g?u(g):Dt.none})),a&&c.push(a(f)),c})}static fromClass(t,e){return Ue.define(i=>new t(i),e)}}class md{constructor(t){this.spec=t,this.mustUpdate=null,this.value=null}update(t){if(this.value){if(this.mustUpdate){let e=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(e)}catch(i){if(Li(e.state,i,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(t)}catch(e){Li(t.state,e,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(t){var e;if(!((e=this.value)===null||e===void 0)&&e.destroy)try{this.value.destroy()}catch(i){Li(t.state,i,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const kx=_t.define(),tg=_t.define(),$a=_t.define(),Ax=_t.define(),eg=_t.define(),Cx=_t.define();function Ny(l,t){let e=l.state.facet(Cx);if(!e.length)return e;let i=e.map(a=>a instanceof Function?a(l):a),r=[];return ee.spans(i,t.from,t.to,{point(){},span(a,u,f,c){let d=a-t.from,g=u-t.from,y=r;for(let b=f.length-1;b>=0;b--,c--){let x=f[b].spec.bidiIsolate,w;if(x==null&&(x=WA(t.text,d,g)),c>0&&y.length&&(w=y[y.length-1]).to==d&&w.direction==x)w.to=g,y=w.inner;else{let _={from:d,to:g,direction:x,inner:[]};y.push(_),y=_.inner}}}}),r}const _x=_t.define();function Tx(l){let t=0,e=0,i=0,r=0;for(let a of l.state.facet(_x)){let u=a(l);u&&(u.left!=null&&(t=Math.max(t,u.left)),u.right!=null&&(e=Math.max(e,u.right)),u.top!=null&&(i=Math.max(i,u.top)),u.bottom!=null&&(r=Math.max(r,u.bottom)))}return{left:t,right:e,top:i,bottom:r}}const Ua=_t.define();class dn{constructor(t,e,i,r){this.fromA=t,this.toA=e,this.fromB=i,this.toB=r}join(t){return new dn(Math.min(this.fromA,t.fromA),Math.max(this.toA,t.toA),Math.min(this.fromB,t.fromB),Math.max(this.toB,t.toB))}addToSet(t){let e=t.length,i=this;for(;e>0;e--){let r=t[e-1];if(!(r.fromA>i.toA)){if(r.toA<i.fromA)break;i=i.join(r),t.splice(e-1,1)}}return t.splice(e,0,i),t}static extendWithRanges(t,e){if(e.length==0)return t;let i=[];for(let r=0,a=0,u=0,f=0;;r++){let c=r==t.length?null:t[r],d=u-f,g=c?c.fromB:1e9;for(;a<e.length&&e[a]<g;){let y=e[a],b=e[a+1],x=Math.max(f,y),w=Math.min(g,b);if(x<=w&&new dn(x+d,w+d,x,w).addToSet(i),b>g)break;a+=2}if(!c)return i;new dn(c.fromA,c.toA,c.fromB,c.toB).addToSet(i),u=c.toA,f=c.toB}}}class gf{constructor(t,e,i){this.view=t,this.state=e,this.transactions=i,this.flags=0,this.startState=t.state,this.changes=Ke.empty(this.startState.doc.length);for(let a of i)this.changes=this.changes.compose(a.changes);let r=[];this.changes.iterChangedRanges((a,u,f,c)=>r.push(new dn(a,u,f,c))),this.changedRanges=r}static create(t,e,i){return new gf(t,e,i)}get viewportChanged(){return(this.flags&4)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&10)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(t=>t.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class zy extends ge{get length(){return this.view.state.doc.length}constructor(t){super(),this.view=t,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=Dt.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(t.contentDOM),this.children=[new Pe],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new dn(0,0,0,t.state.doc.length)],0,null)}update(t){var e;let i=t.changedRanges;this.minWidth>0&&i.length&&(i.every(({fromA:d,toA:g})=>g<this.minWidthFrom||d>this.minWidthTo)?(this.minWidthFrom=t.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=t.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(t);let r=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((e=this.domChanged)===null||e===void 0)&&e.newSel?r=this.domChanged.newSel.head:!rC(t.changes,this.hasComposition)&&!t.selectionSet&&(r=t.state.selection.main.head));let a=r>-1?tC(this.view,t.changes,r):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:d,to:g}=this.hasComposition;i=new dn(d,g,t.changes.mapPos(d,-1),t.changes.mapPos(g,1)).addToSet(i.slice())}this.hasComposition=a?{from:a.range.fromB,to:a.range.toB}:null,(Tt.ie||Tt.chrome)&&!a&&t&&t.state.doc.lines!=t.startState.doc.lines&&(this.forceSelection=!0);let u=this.decorations,f=this.updateDeco(),c=nC(u,f,t.changes);return i=dn.extendWithRanges(i,c),!(this.flags&7)&&i.length==0?!1:(this.updateInner(i,t.startState.doc.length,a),t.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(t,e,i){this.view.viewState.mustMeasureContent=!0,this.updateChildren(t,e,i);let{observer:r}=this.view;r.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let u=Tt.chrome||Tt.ios?{node:r.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,u),this.flags&=-8,u&&(u.written||r.selectionRange.focusNode!=u.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(u=>u.flags&=-9);let a=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let u of this.children)u instanceof fl&&u.widget instanceof um&&a.push(u.dom);r.updateGaps(a)}updateChildren(t,e,i){let r=i?i.range.addToSet(t.slice()):t,a=this.childCursor(e);for(let u=r.length-1;;u--){let f=u>=0?r[u]:null;if(!f)break;let{fromA:c,toA:d,fromB:g,toB:y}=f,b,x,w,_;if(i&&i.range.fromB<y&&i.range.toB>g){let et=Ga.build(this.view.state.doc,g,i.range.fromB,this.decorations,this.dynamicDecorationMap),L=Ga.build(this.view.state.doc,i.range.toB,y,this.decorations,this.dynamicDecorationMap);x=et.breakAtStart,w=et.openStart,_=L.openEnd;let Q=this.compositionView(i);L.breakAtStart?Q.breakAfter=1:L.content.length&&Q.merge(Q.length,Q.length,L.content[0],!1,L.openStart,0)&&(Q.breakAfter=L.content[0].breakAfter,L.content.shift()),et.content.length&&Q.merge(0,0,et.content[et.content.length-1],!0,0,et.openEnd)&&et.content.pop(),b=et.content.concat(Q).concat(L.content)}else({content:b,breakAtStart:x,openStart:w,openEnd:_}=Ga.build(this.view.state.doc,g,y,this.decorations,this.dynamicDecorationMap));let{i:O,off:M}=a.findPos(d,1),{i:B,off:j}=a.findPos(c,-1);tx(this,B,j,O,M,b,x,w,_)}i&&this.fixCompositionDOM(i)}updateEditContextFormatting(t){this.editContextFormatting=this.editContextFormatting.map(t.changes);for(let e of t.transactions)for(let i of e.effects)i.is(wx)&&(this.editContextFormatting=i.value)}compositionView(t){let e=new kn(t.text.nodeValue);e.flags|=8;for(let{deco:r}of t.marks)e=new hl(r,[e],e.length);let i=new Pe;return i.append(e,0),i}fixCompositionDOM(t){let e=(a,u)=>{u.flags|=8|(u.children.some(c=>c.flags&7)?1:0),this.markedForComposition.add(u);let f=ge.get(a);f&&f!=u&&(f.dom=null),u.setDOM(a)},i=this.childPos(t.range.fromB,1),r=this.children[i.i];e(t.line,r);for(let a=t.marks.length-1;a>=-1;a--)i=r.childPos(i.off,1),r=r.children[i.i],e(a>=0?t.marks[a].node:t.text,r)}updateSelection(t=!1,e=!1){(t||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let i=this.view.root.activeElement,r=i==this.dom,a=!r&&ef(this.dom,this.view.observer.selectionRange)&&!(i&&this.dom.contains(i));if(!(r||e||a))return;let u=this.forceSelection;this.forceSelection=!1;let f=this.view.state.selection.main,c=this.moveToLine(this.domAtPos(f.anchor)),d=f.empty?c:this.moveToLine(this.domAtPos(f.head));if(Tt.gecko&&f.empty&&!this.hasComposition&&$A(c)){let y=document.createTextNode("");this.view.observer.ignore(()=>c.node.insertBefore(y,c.node.childNodes[c.offset]||null)),c=d=new pi(y,0),u=!0}let g=this.view.observer.selectionRange;(u||!g.focusNode||(!Pa(c.node,c.offset,g.anchorNode,g.anchorOffset)||!Pa(d.node,d.offset,g.focusNode,g.focusOffset))&&!this.suppressWidgetCursorChange(g,f))&&(this.view.observer.ignore(()=>{Tt.android&&Tt.chrome&&this.dom.contains(g.focusNode)&&lC(g.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let y=Ja(this.view.root);if(y)if(f.empty){if(Tt.gecko){let b=eC(c.node,c.offset);if(b&&b!=3){let x=(b==1?Wb:Jb)(c.node,c.offset);x&&(c=new pi(x.node,x.offset))}}y.collapse(c.node,c.offset),f.bidiLevel!=null&&y.caretBidiLevel!==void 0&&(y.caretBidiLevel=f.bidiLevel)}else if(y.extend){y.collapse(c.node,c.offset);try{y.extend(d.node,d.offset)}catch{}}else{let b=document.createRange();f.anchor>f.head&&([c,d]=[d,c]),b.setEnd(d.node,d.offset),b.setStart(c.node,c.offset),y.removeAllRanges(),y.addRange(b)}a&&this.view.root.activeElement==this.dom&&(this.dom.blur(),i&&i.focus())}),this.view.observer.setSelectionRange(c,d)),this.impreciseAnchor=c.precise?null:new pi(g.anchorNode,g.anchorOffset),this.impreciseHead=d.precise?null:new pi(g.focusNode,g.focusOffset)}suppressWidgetCursorChange(t,e){return this.hasComposition&&e.empty&&Pa(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)&&this.posFromDOM(t.focusNode,t.focusOffset)==e.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:t}=this,e=t.state.selection.main,i=Ja(t.root),{anchorNode:r,anchorOffset:a}=t.observer.selectionRange;if(!i||!e.empty||!e.assoc||!i.modify)return;let u=Pe.find(this,e.head);if(!u)return;let f=u.posAtStart;if(e.head==f||e.head==f+u.length)return;let c=this.coordsAt(e.head,-1),d=this.coordsAt(e.head,1);if(!c||!d||c.bottom>d.top)return;let g=this.domAtPos(e.head+e.assoc);i.collapse(g.node,g.offset),i.modify("move",e.assoc<0?"forward":"backward","lineboundary"),t.observer.readSelectionRange();let y=t.observer.selectionRange;t.docView.posFromDOM(y.anchorNode,y.anchorOffset)!=e.from&&i.collapse(r,a)}moveToLine(t){let e=this.dom,i;if(t.node!=e)return t;for(let r=t.offset;!i&&r<e.childNodes.length;r++){let a=ge.get(e.childNodes[r]);a instanceof Pe&&(i=a.domAtPos(0))}for(let r=t.offset-1;!i&&r>=0;r--){let a=ge.get(e.childNodes[r]);a instanceof Pe&&(i=a.domAtPos(a.length))}return i?new pi(i.node,i.offset,!0):t}nearest(t){for(let e=t;e;){let i=ge.get(e);if(i&&i.rootView==this)return i;e=e.parentNode}return null}posFromDOM(t,e){let i=this.nearest(t);if(!i)throw new RangeError("Trying to find position for a DOM position outside of the document");return i.localPosFromDOM(t,e)+i.posAtStart}domAtPos(t){let{i:e,off:i}=this.childCursor().findPos(t,-1);for(;e<this.children.length-1;){let r=this.children[e];if(i<r.length||r instanceof Pe)break;e++,i=0}return this.children[e].domAtPos(i)}coordsAt(t,e){let i=null,r=0;for(let a=this.length,u=this.children.length-1;u>=0;u--){let f=this.children[u],c=a-f.breakAfter,d=c-f.length;if(c<t)break;if(d<=t&&(d<t||f.covers(-1))&&(c>t||f.covers(1))&&(!i||f instanceof Pe&&!(i instanceof Pe&&e>=0)))i=f,r=d;else if(i&&d==t&&c==t&&f instanceof fl&&Math.abs(e)<2){if(f.deco.startSide<0)break;u&&(i=null)}a=d}return i?i.coordsAt(t-r,e):null}coordsForChar(t){let{i:e,off:i}=this.childPos(t,1),r=this.children[e];if(!(r instanceof Pe))return null;for(;r.children.length;){let{i:f,off:c}=r.childPos(i,1);for(;;f++){if(f==r.children.length)return null;if((r=r.children[f]).length)break}i=c}if(!(r instanceof kn))return null;let a=fi(r.text,i);if(a==i)return null;let u=Or(r.dom,i,a).getClientRects();for(let f=0;f<u.length;f++){let c=u[f];if(f==u.length-1||c.top<c.bottom&&c.left<c.right)return c}return null}measureVisibleLineHeights(t){let e=[],{from:i,to:r}=t,a=this.view.contentDOM.clientWidth,u=a>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,f=-1,c=this.view.textDirection==ke.LTR;for(let d=0,g=0;g<this.children.length;g++){let y=this.children[g],b=d+y.length;if(b>r)break;if(d>=i){let x=y.dom.getBoundingClientRect();if(e.push(x.height),u){let w=y.dom.lastChild,_=w?Ts(w):[];if(_.length){let O=_[_.length-1],M=c?O.right-x.left:x.right-O.left;M>f&&(f=M,this.minWidth=a,this.minWidthFrom=d,this.minWidthTo=b)}}}d=b+y.breakAfter}return e}textDirectionAt(t){let{i:e}=this.childPos(t,1);return getComputedStyle(this.children[e].dom).direction=="rtl"?ke.RTL:ke.LTR}measureTextSize(){for(let a of this.children)if(a instanceof Pe){let u=a.measureTextSize();if(u)return u}let t=document.createElement("div"),e,i,r;return t.className="cm-line",t.style.width="99999px",t.style.position="absolute",t.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(t);let a=Ts(t.firstChild)[0];e=t.getBoundingClientRect().height,i=a?a.width/27:7,r=a?a.height:e,t.remove()}),{lineHeight:e,charWidth:i,textHeight:r}}childCursor(t=this.length){let e=this.children.length;return e&&(t-=this.children[--e].length),new $b(this.children,t,e)}computeBlockGapDeco(){let t=[],e=this.view.viewState;for(let i=0,r=0;;r++){let a=r==e.viewports.length?null:e.viewports[r],u=a?a.from-1:this.length;if(u>i){let f=(e.lineBlockAt(u).bottom-e.lineBlockAt(i).top)/this.view.scaleY;t.push(Dt.replace({widget:new um(f),block:!0,inclusive:!0,isBlockGap:!0}).range(i,u))}if(!a)break;i=a.to+1}return Dt.set(t)}updateDeco(){let t=1,e=this.view.state.facet($a).map(a=>(this.dynamicDecorationMap[t++]=typeof a=="function")?a(this.view):a),i=!1,r=this.view.state.facet(Ax).map((a,u)=>{let f=typeof a=="function";return f&&(i=!0),f?a(this.view):a});for(r.length&&(this.dynamicDecorationMap[t++]=i,e.push(ee.join(r))),this.decorations=[this.editContextFormatting,...e,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];t<this.decorations.length;)this.dynamicDecorationMap[t++]=!1;return this.decorations}scrollIntoView(t){if(t.isSnapshot){let d=this.view.viewState.lineBlockAt(t.range.head);this.view.scrollDOM.scrollTop=d.top-t.yMargin,this.view.scrollDOM.scrollLeft=t.xMargin;return}for(let d of this.view.state.facet(Sx))try{if(d(this.view,t.range,t))return!0}catch(g){Li(this.view.state,g,"scroll handler")}let{range:e}=t,i=this.coordsAt(e.head,e.empty?e.assoc:e.head>e.anchor?-1:1),r;if(!i)return;!e.empty&&(r=this.coordsAt(e.anchor,e.anchor>e.head?-1:1))&&(i={left:Math.min(i.left,r.left),top:Math.min(i.top,r.top),right:Math.max(i.right,r.right),bottom:Math.max(i.bottom,r.bottom)});let a=Tx(this.view),u={left:i.left-a.left,top:i.top-a.top,right:i.right+a.right,bottom:i.bottom+a.bottom},{offsetWidth:f,offsetHeight:c}=this.view.scrollDOM;RA(this.view.scrollDOM,u,e.head<e.anchor?-1:1,t.x,t.y,Math.max(Math.min(t.xMargin,f),-f),Math.max(Math.min(t.yMargin,c),-c),this.view.textDirection==ke.LTR)}}function $A(l){return l.node.nodeType==1&&l.node.firstChild&&(l.offset==0||l.node.childNodes[l.offset-1].contentEditable=="false")&&(l.offset==l.node.childNodes.length||l.node.childNodes[l.offset].contentEditable=="false")}function Ox(l,t){let e=l.observer.selectionRange;if(!e.focusNode)return null;let i=Wb(e.focusNode,e.focusOffset),r=Jb(e.focusNode,e.focusOffset),a=i||r;if(r&&i&&r.node!=i.node){let f=ge.get(r.node);if(!f||f instanceof kn&&f.text!=r.node.nodeValue)a=r;else if(l.docView.lastCompositionAfterCursor){let c=ge.get(i.node);!c||c instanceof kn&&c.text!=i.node.nodeValue||(a=r)}}if(l.docView.lastCompositionAfterCursor=a!=i,!a)return null;let u=t-a.offset;return{from:u,to:u+a.node.nodeValue.length,node:a.node}}function tC(l,t,e){let i=Ox(l,e);if(!i)return null;let{node:r,from:a,to:u}=i,f=r.nodeValue;if(/[\n\r]/.test(f)||l.state.doc.sliceString(i.from,i.to)!=f)return null;let c=t.invertedDesc,d=new dn(c.mapPos(a),c.mapPos(u),a,u),g=[];for(let y=r.parentNode;;y=y.parentNode){let b=ge.get(y);if(b instanceof hl)g.push({node:y,deco:b.mark});else{if(b instanceof Pe||y.nodeName=="DIV"&&y.parentNode==l.contentDOM)return{range:d,text:r,marks:g,line:y};if(y!=l.contentDOM)g.push({node:y,deco:new ho({inclusive:!0,attributes:jA(y),tagName:y.tagName.toLowerCase()})});else return null}}}function eC(l,t){return l.nodeType!=1?0:(t&&l.childNodes[t-1].contentEditable=="false"?1:0)|(t<l.childNodes.length&&l.childNodes[t].contentEditable=="false"?2:0)}let iC=class{constructor(){this.changes=[]}compareRange(t,e){om(t,e,this.changes)}comparePoint(t,e){om(t,e,this.changes)}};function nC(l,t,e){let i=new iC;return ee.compare(l,t,e,i),i.changes}function lC(l,t){for(let e=l;e&&e!=t;e=e.assignedSlot||e.parentNode)if(e.nodeType==1&&e.contentEditable=="false")return!0;return!1}function rC(l,t){let e=!1;return t&&l.iterChangedRanges((i,r)=>{i<t.to&&r>t.from&&(e=!0)}),e}function sC(l,t,e=1){let i=l.charCategorizer(t),r=l.doc.lineAt(t),a=t-r.from;if(r.length==0)return ot.cursor(t);a==0?e=1:a==r.length&&(e=-1);let u=a,f=a;e<0?u=fi(r.text,a,!1):f=fi(r.text,a);let c=i(r.text.slice(u,f));for(;u>0;){let d=fi(r.text,u,!1);if(i(r.text.slice(d,u))!=c)break;u=d}for(;f<r.length;){let d=fi(r.text,f);if(i(r.text.slice(f,d))!=c)break;f=d}return ot.range(u+r.from,f+r.from)}function aC(l,t){return t.left>l?t.left-l:Math.max(0,l-t.right)}function oC(l,t){return t.top>l?t.top-l:Math.max(0,l-t.bottom)}function gd(l,t){return l.top<t.bottom-1&&l.bottom>t.top+1}function Ly(l,t){return t<l.top?{top:t,left:l.left,right:l.right,bottom:l.bottom}:l}function Hy(l,t){return t>l.bottom?{top:l.top,left:l.left,right:l.right,bottom:t}:l}function mm(l,t,e){let i,r,a,u,f=!1,c,d,g,y;for(let w=l.firstChild;w;w=w.nextSibling){let _=Ts(w);for(let O=0;O<_.length;O++){let M=_[O];r&&gd(r,M)&&(M=Ly(Hy(M,r.bottom),r.top));let B=aC(t,M),j=oC(e,M);if(B==0&&j==0)return w.nodeType==3?Uy(w,t,e):mm(w,t,e);if(!i||u>j||u==j&&a>B){i=w,r=M,a=B,u=j;let et=j?e<M.top?-1:1:B?t<M.left?-1:1:0;f=!et||(et>0?O<_.length-1:O>0)}B==0?e>M.bottom&&(!g||g.bottom<M.bottom)?(c=w,g=M):e<M.top&&(!y||y.top>M.top)&&(d=w,y=M):g&&gd(g,M)?g=Hy(g,M.bottom):y&&gd(y,M)&&(y=Ly(y,M.top))}}if(g&&g.bottom>=e?(i=c,r=g):y&&y.top<=e&&(i=d,r=y),!i)return{node:l,offset:0};let b=Math.max(r.left,Math.min(r.right,t));if(i.nodeType==3)return Uy(i,b,e);if(f&&i.contentEditable!="false")return mm(i,b,e);let x=Array.prototype.indexOf.call(l.childNodes,i)+(t>=(r.left+r.right)/2?1:0);return{node:l,offset:x}}function Uy(l,t,e){let i=l.nodeValue.length,r=-1,a=1e9,u=0;for(let f=0;f<i;f++){let c=Or(l,f,f+1).getClientRects();for(let d=0;d<c.length;d++){let g=c[d];if(g.top==g.bottom)continue;u||(u=t-g.left);let y=(g.top>e?g.top-e:e-g.bottom)-1;if(g.left-1<=t&&g.right+1>=t&&y<a){let b=t>=(g.left+g.right)/2,x=b;if((Tt.chrome||Tt.gecko)&&Or(l,f).getBoundingClientRect().left==g.right&&(x=!b),y<=0)return{node:l,offset:f+(x?1:0)};r=f+(x?1:0),a=y}}}return{node:l,offset:r>-1?r:u>0?l.nodeValue.length:0}}function Mx(l,t,e,i=-1){var r,a;let u=l.contentDOM.getBoundingClientRect(),f=u.top+l.viewState.paddingTop,c,{docHeight:d}=l.viewState,{x:g,y}=t,b=y-f;if(b<0)return 0;if(b>d)return l.state.doc.length;for(let et=l.viewState.heightOracle.textHeight/2,L=!1;c=l.elementAtHeight(b),c.type!=ki.Text;)for(;b=i>0?c.bottom+et:c.top-et,!(b>=0&&b<=d);){if(L)return e?null:0;L=!0,i=-i}y=f+b;let x=c.from;if(x<l.viewport.from)return l.viewport.from==0?0:e?null:Vy(l,u,c,g,y);if(x>l.viewport.to)return l.viewport.to==l.state.doc.length?l.state.doc.length:e?null:Vy(l,u,c,g,y);let w=l.dom.ownerDocument,_=l.root.elementFromPoint?l.root:w,O=_.elementFromPoint(g,y);O&&!l.contentDOM.contains(O)&&(O=null),O||(g=Math.max(u.left+1,Math.min(u.right-1,g)),O=_.elementFromPoint(g,y),O&&!l.contentDOM.contains(O)&&(O=null));let M,B=-1;if(O&&((r=l.docView.nearest(O))===null||r===void 0?void 0:r.isEditable)!=!1){if(w.caretPositionFromPoint){let et=w.caretPositionFromPoint(g,y);et&&({offsetNode:M,offset:B}=et)}else if(w.caretRangeFromPoint){let et=w.caretRangeFromPoint(g,y);et&&({startContainer:M,startOffset:B}=et,(!l.contentDOM.contains(M)||Tt.safari&&uC(M,B,g)||Tt.chrome&&fC(M,B,g))&&(M=void 0))}M&&(B=Math.min(Yn(M),B))}if(!M||!l.docView.dom.contains(M)){let et=Pe.find(l.docView,x);if(!et)return b>c.top+c.height/2?c.to:c.from;({node:M,offset:B}=mm(et.dom,g,y))}let j=l.docView.nearest(M);if(!j)return null;if(j.isWidget&&((a=j.dom)===null||a===void 0?void 0:a.nodeType)==1){let et=j.dom.getBoundingClientRect();return t.y<et.top||t.y<=et.bottom&&t.x<=(et.left+et.right)/2?j.posAtStart:j.posAtEnd}else return j.localPosFromDOM(M,B)+j.posAtStart}function Vy(l,t,e,i,r){let a=Math.round((i-t.left)*l.defaultCharacterWidth);if(l.lineWrapping&&e.height>l.defaultLineHeight*1.5){let f=l.viewState.heightOracle.textHeight,c=Math.floor((r-e.top-(l.defaultLineHeight-f)*.5)/f);a+=c*l.viewState.heightOracle.lineLength}let u=l.state.sliceDoc(e.from,e.to);return e.from+$d(u,a,l.state.tabSize)}function uC(l,t,e){let i;if(l.nodeType!=3||t!=(i=l.nodeValue.length))return!1;for(let r=l.nextSibling;r;r=r.nextSibling)if(r.nodeType!=1||r.nodeName!="BR")return!1;return Or(l,i-1,i).getBoundingClientRect().left>e}function fC(l,t,e){if(t!=0)return!1;for(let r=l;;){let a=r.parentNode;if(!a||a.nodeType!=1||a.firstChild!=r)return!1;if(a.classList.contains("cm-line"))break;r=a}let i=l.nodeType==1?l.getBoundingClientRect():Or(l,0,Math.max(l.nodeValue.length,1)).getBoundingClientRect();return e-i.left>5}function gm(l,t){let e=l.lineBlockAt(t);if(Array.isArray(e.type)){for(let i of e.type)if(i.to>t||i.to==t&&(i.to==e.to||i.type==ki.Text))return i}return e}function hC(l,t,e,i){let r=gm(l,t.head),a=!i||r.type!=ki.Text||!(l.lineWrapping||r.widgetLineBreaks)?null:l.coordsAtPos(t.assoc<0&&t.head>r.from?t.head-1:t.head);if(a){let u=l.dom.getBoundingClientRect(),f=l.textDirectionAt(r.from),c=l.posAtCoords({x:e==(f==ke.LTR)?u.right-1:u.left+1,y:(a.top+a.bottom)/2});if(c!=null)return ot.cursor(c,e?-1:1)}return ot.cursor(e?r.to:r.from,e?-1:1)}function qy(l,t,e,i){let r=l.state.doc.lineAt(t.head),a=l.bidiSpans(r),u=l.textDirectionAt(r.from);for(let f=t,c=null;;){let d=FA(r,a,u,f,e),g=cx;if(!d){if(r.number==(e?l.state.doc.lines:1))return f;g=`
`,r=l.state.doc.line(r.number+(e?1:-1)),a=l.bidiSpans(r),d=l.visualLineSide(r,!e)}if(c){if(!c(g))return f}else{if(!i)return d;c=i(g)}f=d}}function cC(l,t,e){let i=l.state.charCategorizer(t),r=i(e);return a=>{let u=i(a);return r==Te.Space&&(r=u),r==u}}function dC(l,t,e,i){let r=t.head,a=e?1:-1;if(r==(e?l.state.doc.length:0))return ot.cursor(r,t.assoc);let u=t.goalColumn,f,c=l.contentDOM.getBoundingClientRect(),d=l.coordsAtPos(r,t.assoc||-1),g=l.documentTop;if(d)u==null&&(u=d.left-c.left),f=a<0?d.top:d.bottom;else{let x=l.viewState.lineBlockAt(r);u==null&&(u=Math.min(c.right-c.left,l.defaultCharacterWidth*(r-x.from))),f=(a<0?x.top:x.bottom)+g}let y=c.left+u,b=i??l.viewState.heightOracle.textHeight>>1;for(let x=0;;x+=10){let w=f+(b+x)*a,_=Mx(l,{x:y,y:w},!1,a);if(w<c.top||w>c.bottom||(a<0?_<r:_>r)){let O=l.docView.coordsForChar(_),M=!O||w<O.top?-1:1;return ot.cursor(_,M,void 0,u)}}}function nf(l,t,e){for(;;){let i=0;for(let r of l)r.between(t-1,t+1,(a,u,f)=>{if(t>a&&t<u){let c=i||e||(t-a<u-t?-1:1);t=c<0?a:u,i=c}});if(!i)return t}}function pd(l,t,e){let i=nf(l.state.facet(eg).map(r=>r(l)),e.from,t.head>e.from?-1:1);return i==e.from?e:ot.cursor(i,i<e.from?1:-1)}const Va="";class mC{constructor(t,e){this.points=t,this.text="",this.lineSeparator=e.facet(Ft.lineSeparator)}append(t){this.text+=t}lineBreak(){this.text+=Va}readRange(t,e){if(!t)return this;let i=t.parentNode;for(let r=t;;){this.findPointBefore(i,r);let a=this.text.length;this.readNode(r);let u=r.nextSibling;if(u==e)break;let f=ge.get(r),c=ge.get(u);(f&&c?f.breakAfter:(f?f.breakAfter:df(r))||df(u)&&(r.nodeName!="BR"||r.cmIgnore)&&this.text.length>a)&&this.lineBreak(),r=u}return this.findPointBefore(i,e),this}readTextNode(t){let e=t.nodeValue;for(let i of this.points)i.node==t&&(i.pos=this.text.length+Math.min(i.offset,e.length));for(let i=0,r=this.lineSeparator?null:/\r\n?|\n/g;;){let a=-1,u=1,f;if(this.lineSeparator?(a=e.indexOf(this.lineSeparator,i),u=this.lineSeparator.length):(f=r.exec(e))&&(a=f.index,u=f[0].length),this.append(e.slice(i,a<0?e.length:a)),a<0)break;if(this.lineBreak(),u>1)for(let c of this.points)c.node==t&&c.pos>this.text.length&&(c.pos-=u-1);i=a+u}}readNode(t){if(t.cmIgnore)return;let e=ge.get(t),i=e&&e.overrideDOMText;if(i!=null){this.findPointInside(t,i.length);for(let r=i.iter();!r.next().done;)r.lineBreak?this.lineBreak():this.append(r.value)}else t.nodeType==3?this.readTextNode(t):t.nodeName=="BR"?t.nextSibling&&this.lineBreak():t.nodeType==1&&this.readRange(t.firstChild,null)}findPointBefore(t,e){for(let i of this.points)i.node==t&&t.childNodes[i.offset]==e&&(i.pos=this.text.length)}findPointInside(t,e){for(let i of this.points)(t.nodeType==3?i.node==t:t.contains(i.node))&&(i.pos=this.text.length+(gC(t,i.node,i.offset)?e:0))}}function gC(l,t,e){for(;;){if(!t||e<Yn(t))return!1;if(t==l)return!0;e=Tr(t)+1,t=t.parentNode}}class jy{constructor(t,e){this.node=t,this.offset=e,this.pos=-1}}class pC{constructor(t,e,i,r){this.typeOver=r,this.bounds=null,this.text="",this.domChanged=e>-1;let{impreciseHead:a,impreciseAnchor:u}=t.docView;if(t.state.readOnly&&e>-1)this.newSel=null;else if(e>-1&&(this.bounds=t.docView.domBoundsAround(e,i,0))){let f=a||u?[]:bC(t),c=new mC(f,t.state);c.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=c.text,this.newSel=xC(f,this.bounds.from)}else{let f=t.observer.selectionRange,c=a&&a.node==f.focusNode&&a.offset==f.focusOffset||!im(t.contentDOM,f.focusNode)?t.state.selection.main.head:t.docView.posFromDOM(f.focusNode,f.focusOffset),d=u&&u.node==f.anchorNode&&u.offset==f.anchorOffset||!im(t.contentDOM,f.anchorNode)?t.state.selection.main.anchor:t.docView.posFromDOM(f.anchorNode,f.anchorOffset),g=t.viewport;if((Tt.ios||Tt.chrome)&&t.state.selection.main.empty&&c!=d&&(g.from>0||g.to<t.state.doc.length)){let y=Math.min(c,d),b=Math.max(c,d),x=g.from-y,w=g.to-b;(x==0||x==1||y==0)&&(w==0||w==-1||b==t.state.doc.length)&&(c=0,d=t.state.doc.length)}this.newSel=ot.single(d,c)}}}function Ex(l,t){let e,{newSel:i}=t,r=l.state.selection.main,a=l.inputState.lastKeyTime>Date.now()-100?l.inputState.lastKeyCode:-1;if(t.bounds){let{from:u,to:f}=t.bounds,c=r.from,d=null;(a===8||Tt.android&&t.text.length<f-u)&&(c=r.to,d="end");let g=vC(l.state.doc.sliceString(u,f,Va),t.text,c-u,d);g&&(Tt.chrome&&a==13&&g.toB==g.from+2&&t.text.slice(g.from,g.toB)==Va+Va&&g.toB--,e={from:u+g.from,to:u+g.toA,insert:ne.of(t.text.slice(g.from,g.toB).split(Va))})}else i&&(!l.hasFocus&&l.state.facet(ql)||i.main.eq(r))&&(i=null);if(!e&&!i)return!1;if(!e&&t.typeOver&&!r.empty&&i&&i.main.empty?e={from:r.from,to:r.to,insert:l.state.doc.slice(r.from,r.to)}:e&&e.from>=r.from&&e.to<=r.to&&(e.from!=r.from||e.to!=r.to)&&r.to-r.from-(e.to-e.from)<=4?e={from:r.from,to:r.to,insert:l.state.doc.slice(r.from,e.from).append(e.insert).append(l.state.doc.slice(e.to,r.to))}:(Tt.mac||Tt.android)&&e&&e.from==e.to&&e.from==r.head-1&&/^\. ?$/.test(e.insert.toString())&&l.contentDOM.getAttribute("autocorrect")=="off"?(i&&e.insert.length==2&&(i=ot.single(i.main.anchor-1,i.main.head-1)),e={from:r.from,to:r.to,insert:ne.of([" "])}):Tt.chrome&&e&&e.from==e.to&&e.from==r.head&&e.insert.toString()==`
 `&&l.lineWrapping&&(i&&(i=ot.single(i.main.anchor-1,i.main.head-1)),e={from:r.from,to:r.to,insert:ne.of([" "])}),e)return ig(l,e,i,a);if(i&&!i.main.eq(r)){let u=!1,f="select";return l.inputState.lastSelectionTime>Date.now()-50&&(l.inputState.lastSelectionOrigin=="select"&&(u=!0),f=l.inputState.lastSelectionOrigin),l.dispatch({selection:i,scrollIntoView:u,userEvent:f}),!0}else return!1}function ig(l,t,e,i=-1){if(Tt.ios&&l.inputState.flushIOSKey(t))return!0;let r=l.state.selection.main;if(Tt.android&&(t.to==r.to&&(t.from==r.from||t.from==r.from-1&&l.state.sliceDoc(t.from,r.from)==" ")&&t.insert.length==1&&t.insert.lines==2&&Ss(l.contentDOM,"Enter",13)||(t.from==r.from-1&&t.to==r.to&&t.insert.length==0||i==8&&t.insert.length<t.to-t.from&&t.to>r.head)&&Ss(l.contentDOM,"Backspace",8)||t.from==r.from&&t.to==r.to+1&&t.insert.length==0&&Ss(l.contentDOM,"Delete",46)))return!0;let a=t.insert.toString();l.inputState.composing>=0&&l.inputState.composing++;let u,f=()=>u||(u=yC(l,t,e));return l.state.facet(yx).some(c=>c(l,t.from,t.to,a,f))||l.dispatch(f()),!0}function yC(l,t,e){let i,r=l.state,a=r.selection.main;if(t.from>=a.from&&t.to<=a.to&&t.to-t.from>=(a.to-a.from)/3&&(!e||e.main.empty&&e.main.from==t.from+t.insert.length)&&l.inputState.composing<0){let f=a.from<t.from?r.sliceDoc(a.from,t.from):"",c=a.to>t.to?r.sliceDoc(t.to,a.to):"";i=r.replaceSelection(l.state.toText(f+t.insert.sliceString(0,void 0,l.state.lineBreak)+c))}else{let f=r.changes(t),c=e&&e.main.to<=f.newLength?e.main:void 0;if(r.selection.ranges.length>1&&l.inputState.composing>=0&&t.to<=a.to&&t.to>=a.to-10){let d=l.state.sliceDoc(t.from,t.to),g,y=e&&Ox(l,e.main.head);if(y){let w=t.insert.length-(t.to-t.from);g={from:y.from,to:y.to-w}}else g=l.state.doc.lineAt(a.head);let b=a.to-t.to,x=a.to-a.from;i=r.changeByRange(w=>{if(w.from==a.from&&w.to==a.to)return{changes:f,range:c||w.map(f)};let _=w.to-b,O=_-d.length;if(w.to-w.from!=x||l.state.sliceDoc(O,_)!=d||w.to>=g.from&&w.from<=g.to)return{range:w};let M=r.changes({from:O,to:_,insert:t.insert}),B=w.to-a.to;return{changes:M,range:c?ot.range(Math.max(0,c.anchor+B),Math.max(0,c.head+B)):w.map(M)}})}else i={changes:f,selection:c&&r.selection.replaceRange(c)}}let u="input.type";return(l.composing||l.inputState.compositionPendingChange&&l.inputState.compositionEndedAt>Date.now()-50)&&(l.inputState.compositionPendingChange=!1,u+=".compose",l.inputState.compositionFirstChange&&(u+=".start",l.inputState.compositionFirstChange=!1)),r.update(i,{userEvent:u,scrollIntoView:!0})}function vC(l,t,e,i){let r=Math.min(l.length,t.length),a=0;for(;a<r&&l.charCodeAt(a)==t.charCodeAt(a);)a++;if(a==r&&l.length==t.length)return null;let u=l.length,f=t.length;for(;u>0&&f>0&&l.charCodeAt(u-1)==t.charCodeAt(f-1);)u--,f--;if(i=="end"){let c=Math.max(0,a-Math.min(u,f));e-=u+c-a}if(u<a&&l.length<t.length){let c=e<=a&&e>=u?a-e:0;a-=c,f=a+(f-u),u=a}else if(f<a){let c=e<=a&&e>=f?a-e:0;a-=c,u=a+(u-f),f=a}return{from:a,toA:u,toB:f}}function bC(l){let t=[];if(l.root.activeElement!=l.contentDOM)return t;let{anchorNode:e,anchorOffset:i,focusNode:r,focusOffset:a}=l.observer.selectionRange;return e&&(t.push(new jy(e,i)),(r!=e||a!=i)&&t.push(new jy(r,a))),t}function xC(l,t){if(l.length==0)return null;let e=l[0].pos,i=l.length==2?l[1].pos:e;return e>-1&&i>-1?ot.single(e+t,i+t):null}class SC{setSelectionOrigin(t){this.lastSelectionOrigin=t,this.lastSelectionTime=Date.now()}constructor(t){this.view=t,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=t.hasFocus,Tt.safari&&t.contentDOM.addEventListener("input",()=>null),Tt.gecko&&HC(t.contentDOM.ownerDocument)}handleEvent(t){!MC(this.view,t)||this.ignoreDuringComposition(t)||t.type=="keydown"&&this.keydown(t)||this.runHandlers(t.type,t)}runHandlers(t,e){let i=this.handlers[t];if(i){for(let r of i.observers)r(this.view,e);for(let r of i.handlers){if(e.defaultPrevented)break;if(r(this.view,e)){e.preventDefault();break}}}}ensureHandlers(t){let e=wC(t),i=this.handlers,r=this.view.contentDOM;for(let a in e)if(a!="scroll"){let u=!e[a].handlers.length,f=i[a];f&&u!=!f.handlers.length&&(r.removeEventListener(a,this.handleEvent),f=null),f||r.addEventListener(a,this.handleEvent,{passive:u})}for(let a in i)a!="scroll"&&!e[a]&&r.removeEventListener(a,this.handleEvent);this.handlers=e}keydown(t){if(this.lastKeyCode=t.keyCode,this.lastKeyTime=Date.now(),t.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&t.keyCode!=27&&Rx.indexOf(t.keyCode)<0&&(this.tabFocusMode=-1),Tt.android&&Tt.chrome&&!t.synthetic&&(t.keyCode==13||t.keyCode==8))return this.view.observer.delayAndroidKey(t.key,t.keyCode),!0;let e;return Tt.ios&&!t.synthetic&&!t.altKey&&!t.metaKey&&((e=Dx.find(i=>i.keyCode==t.keyCode))&&!t.ctrlKey||kC.indexOf(t.key)>-1&&t.ctrlKey&&!t.shiftKey)?(this.pendingIOSKey=e||t,setTimeout(()=>this.flushIOSKey(),250),!0):(t.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(t){let e=this.pendingIOSKey;return!e||e.key=="Enter"&&t&&t.from<t.to&&/^\S+$/.test(t.insert.toString())?!1:(this.pendingIOSKey=void 0,Ss(this.view.contentDOM,e.key,e.keyCode,e instanceof KeyboardEvent?e:void 0))}ignoreDuringComposition(t){return/^key/.test(t.type)?this.composing>0?!0:Tt.safari&&!Tt.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection(t){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=t}update(t){this.view.observer.update(t),this.mouseSelection&&this.mouseSelection.update(t),this.draggedContent&&t.docChanged&&(this.draggedContent=this.draggedContent.map(t.changes)),t.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function Qy(l,t){return(e,i)=>{try{return t.call(l,i,e)}catch(r){Li(e.state,r)}}}function wC(l){let t=Object.create(null);function e(i){return t[i]||(t[i]={observers:[],handlers:[]})}for(let i of l){let r=i.spec;if(r&&r.domEventHandlers)for(let a in r.domEventHandlers){let u=r.domEventHandlers[a];u&&e(a).handlers.push(Qy(i.value,u))}if(r&&r.domEventObservers)for(let a in r.domEventObservers){let u=r.domEventObservers[a];u&&e(a).observers.push(Qy(i.value,u))}}for(let i in An)e(i).handlers.push(An[i]);for(let i in mn)e(i).observers.push(mn[i]);return t}const Dx=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],kC="dthko",Rx=[16,17,18,20,91,92,224,225],Nu=6;function zu(l){return Math.max(0,l)*.7+8}function AC(l,t){return Math.max(Math.abs(l.clientX-t.clientX),Math.abs(l.clientY-t.clientY))}class CC{constructor(t,e,i,r){this.view=t,this.startEvent=e,this.style=i,this.mustSelect=r,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=e,this.scrollParents=BA(t.contentDOM),this.atoms=t.state.facet(eg).map(u=>u(t));let a=t.contentDOM.ownerDocument;a.addEventListener("mousemove",this.move=this.move.bind(this)),a.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=e.shiftKey,this.multiple=t.state.facet(Ft.allowMultipleSelections)&&_C(t,e),this.dragging=OC(t,e)&&zx(e)==1?null:!1}start(t){this.dragging===!1&&this.select(t)}move(t){if(t.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&AC(this.startEvent,t)<10)return;this.select(this.lastEvent=t);let e=0,i=0,r=0,a=0,u=this.view.win.innerWidth,f=this.view.win.innerHeight;this.scrollParents.x&&({left:r,right:u}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:a,bottom:f}=this.scrollParents.y.getBoundingClientRect());let c=Tx(this.view);t.clientX-c.left<=r+Nu?e=-zu(r-t.clientX):t.clientX+c.right>=u-Nu&&(e=zu(t.clientX-u)),t.clientY-c.top<=a+Nu?i=-zu(a-t.clientY):t.clientY+c.bottom>=f-Nu&&(i=zu(t.clientY-f)),this.setScrollSpeed(e,i)}up(t){this.dragging==null&&this.select(this.lastEvent),this.dragging||t.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let t=this.view.contentDOM.ownerDocument;t.removeEventListener("mousemove",this.move),t.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(t,e){this.scrollSpeed={x:t,y:e},t||e?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:t,y:e}=this.scrollSpeed;t&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=t,t=0),e&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=e,e=0),(t||e)&&this.view.win.scrollBy(t,e),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(t){let e=null;for(let i=0;i<t.ranges.length;i++){let r=t.ranges[i],a=null;if(r.empty){let u=nf(this.atoms,r.from,0);u!=r.from&&(a=ot.cursor(u,-1))}else{let u=nf(this.atoms,r.from,-1),f=nf(this.atoms,r.to,1);(u!=r.from||f!=r.to)&&(a=ot.range(r.from==r.anchor?u:f,r.from==r.head?u:f))}a&&(e||(e=t.ranges.slice()),e[i]=a)}return e?ot.create(e,t.mainIndex):t}select(t){let{view:e}=this,i=this.skipAtoms(this.style.get(t,this.extend,this.multiple));(this.mustSelect||!i.eq(e.state.selection,this.dragging===!1))&&this.view.dispatch({selection:i,userEvent:"select.pointer"}),this.mustSelect=!1}update(t){t.transactions.some(e=>e.isUserEvent("input.type"))?this.destroy():this.style.update(t)&&setTimeout(()=>this.select(this.lastEvent),20)}}function _C(l,t){let e=l.state.facet(dx);return e.length?e[0](t):Tt.mac?t.metaKey:t.ctrlKey}function TC(l,t){let e=l.state.facet(mx);return e.length?e[0](t):Tt.mac?!t.altKey:!t.ctrlKey}function OC(l,t){let{main:e}=l.state.selection;if(e.empty)return!1;let i=Ja(l.root);if(!i||i.rangeCount==0)return!0;let r=i.getRangeAt(0).getClientRects();for(let a=0;a<r.length;a++){let u=r[a];if(u.left<=t.clientX&&u.right>=t.clientX&&u.top<=t.clientY&&u.bottom>=t.clientY)return!0}return!1}function MC(l,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let e=t.target,i;e!=l.contentDOM;e=e.parentNode)if(!e||e.nodeType==11||(i=ge.get(e))&&i.ignoreEvent(t))return!1;return!0}const An=Object.create(null),mn=Object.create(null),Bx=Tt.ie&&Tt.ie_version<15||Tt.ios&&Tt.webkit_version<604;function EC(l){let t=l.dom.parentNode;if(!t)return;let e=t.appendChild(document.createElement("textarea"));e.style.cssText="position: fixed; left: -10000px; top: 10px",e.focus(),setTimeout(()=>{l.focus(),e.remove(),Nx(l,e.value)},50)}function jf(l,t,e){for(let i of l.facet(t))e=i(e,l);return e}function Nx(l,t){t=jf(l.state,Jm,t);let{state:e}=l,i,r=1,a=e.toText(t),u=a.lines==e.selection.ranges.length;if(pm!=null&&e.selection.ranges.every(c=>c.empty)&&pm==a.toString()){let c=-1;i=e.changeByRange(d=>{let g=e.doc.lineAt(d.from);if(g.from==c)return{range:d};c=g.from;let y=e.toText((u?a.line(r++).text:t)+e.lineBreak);return{changes:{from:g.from,insert:y},range:ot.cursor(d.from+y.length)}})}else u?i=e.changeByRange(c=>{let d=a.line(r++);return{changes:{from:c.from,to:c.to,insert:d.text},range:ot.cursor(c.from+d.length)}}):i=e.replaceSelection(a);l.dispatch(i,{userEvent:"input.paste",scrollIntoView:!0})}mn.scroll=l=>{l.inputState.lastScrollTop=l.scrollDOM.scrollTop,l.inputState.lastScrollLeft=l.scrollDOM.scrollLeft};An.keydown=(l,t)=>(l.inputState.setSelectionOrigin("select"),t.keyCode==27&&l.inputState.tabFocusMode!=0&&(l.inputState.tabFocusMode=Date.now()+2e3),!1);mn.touchstart=(l,t)=>{l.inputState.lastTouchTime=Date.now(),l.inputState.setSelectionOrigin("select.pointer")};mn.touchmove=l=>{l.inputState.setSelectionOrigin("select.pointer")};An.mousedown=(l,t)=>{if(l.observer.flush(),l.inputState.lastTouchTime>Date.now()-2e3)return!1;let e=null;for(let i of l.state.facet(gx))if(e=i(l,t),e)break;if(!e&&t.button==0&&(e=BC(l,t)),e){let i=!l.hasFocus;l.inputState.startMouseSelection(new CC(l,t,e,i)),i&&l.observer.ignore(()=>{Kb(l.contentDOM);let a=l.root.activeElement;a&&!a.contains(l.contentDOM)&&a.blur()});let r=l.inputState.mouseSelection;if(r)return r.start(t),r.dragging===!1}return!1};function Yy(l,t,e,i){if(i==1)return ot.cursor(t,e);if(i==2)return sC(l.state,t,e);{let r=Pe.find(l.docView,t),a=l.state.doc.lineAt(r?r.posAtEnd:t),u=r?r.posAtStart:a.from,f=r?r.posAtEnd:a.to;return f<l.state.doc.length&&f==a.to&&f++,ot.range(u,f)}}let Py=(l,t,e)=>t>=e.top&&t<=e.bottom&&l>=e.left&&l<=e.right;function DC(l,t,e,i){let r=Pe.find(l.docView,t);if(!r)return 1;let a=t-r.posAtStart;if(a==0)return 1;if(a==r.length)return-1;let u=r.coordsAt(a,-1);if(u&&Py(e,i,u))return-1;let f=r.coordsAt(a,1);return f&&Py(e,i,f)?1:u&&u.bottom>=i?-1:1}function Gy(l,t){let e=l.posAtCoords({x:t.clientX,y:t.clientY},!1);return{pos:e,bias:DC(l,e,t.clientX,t.clientY)}}const RC=Tt.ie&&Tt.ie_version<=11;let Xy=null,Zy=0,Ky=0;function zx(l){if(!RC)return l.detail;let t=Xy,e=Ky;return Xy=l,Ky=Date.now(),Zy=!t||e>Date.now()-400&&Math.abs(t.clientX-l.clientX)<2&&Math.abs(t.clientY-l.clientY)<2?(Zy+1)%3:1}function BC(l,t){let e=Gy(l,t),i=zx(t),r=l.state.selection;return{update(a){a.docChanged&&(e.pos=a.changes.mapPos(e.pos),r=r.map(a.changes))},get(a,u,f){let c=Gy(l,a),d,g=Yy(l,c.pos,c.bias,i);if(e.pos!=c.pos&&!u){let y=Yy(l,e.pos,e.bias,i),b=Math.min(y.from,g.from),x=Math.max(y.to,g.to);g=b<g.from?ot.range(b,x):ot.range(x,b)}return u?r.replaceRange(r.main.extend(g.from,g.to)):f&&i==1&&r.ranges.length>1&&(d=NC(r,c.pos))?d:f?r.addRange(g):ot.create([g])}}}function NC(l,t){for(let e=0;e<l.ranges.length;e++){let{from:i,to:r}=l.ranges[e];if(i<=t&&r>=t)return ot.create(l.ranges.slice(0,e).concat(l.ranges.slice(e+1)),l.mainIndex==e?0:l.mainIndex-(l.mainIndex>e?1:0))}return null}An.dragstart=(l,t)=>{let{selection:{main:e}}=l.state;if(t.target.draggable){let r=l.docView.nearest(t.target);if(r&&r.isWidget){let a=r.posAtStart,u=a+r.length;(a>=e.to||u<=e.from)&&(e=ot.range(a,u))}}let{inputState:i}=l;return i.mouseSelection&&(i.mouseSelection.dragging=!0),i.draggedContent=e,t.dataTransfer&&(t.dataTransfer.setData("Text",jf(l.state,$m,l.state.sliceDoc(e.from,e.to))),t.dataTransfer.effectAllowed="copyMove"),!1};An.dragend=l=>(l.inputState.draggedContent=null,!1);function Iy(l,t,e,i){if(e=jf(l.state,Jm,e),!e)return;let r=l.posAtCoords({x:t.clientX,y:t.clientY},!1),{draggedContent:a}=l.inputState,u=i&&a&&TC(l,t)?{from:a.from,to:a.to}:null,f={from:r,insert:e},c=l.state.changes(u?[u,f]:f);l.focus(),l.dispatch({changes:c,selection:{anchor:c.mapPos(r,-1),head:c.mapPos(r,1)},userEvent:u?"move.drop":"input.drop"}),l.inputState.draggedContent=null}An.drop=(l,t)=>{if(!t.dataTransfer)return!1;if(l.state.readOnly)return!0;let e=t.dataTransfer.files;if(e&&e.length){let i=Array(e.length),r=0,a=()=>{++r==e.length&&Iy(l,t,i.filter(u=>u!=null).join(l.state.lineBreak),!1)};for(let u=0;u<e.length;u++){let f=new FileReader;f.onerror=a,f.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(f.result)||(i[u]=f.result),a()},f.readAsText(e[u])}return!0}else{let i=t.dataTransfer.getData("Text");if(i)return Iy(l,t,i,!0),!0}return!1};An.paste=(l,t)=>{if(l.state.readOnly)return!0;l.observer.flush();let e=Bx?null:t.clipboardData;return e?(Nx(l,e.getData("text/plain")||e.getData("text/uri-list")),!0):(EC(l),!1)};function zC(l,t){let e=l.dom.parentNode;if(!e)return;let i=e.appendChild(document.createElement("textarea"));i.style.cssText="position: fixed; left: -10000px; top: 10px",i.value=t,i.focus(),i.selectionEnd=t.length,i.selectionStart=0,setTimeout(()=>{i.remove(),l.focus()},50)}function LC(l){let t=[],e=[],i=!1;for(let r of l.selection.ranges)r.empty||(t.push(l.sliceDoc(r.from,r.to)),e.push(r));if(!t.length){let r=-1;for(let{from:a}of l.selection.ranges){let u=l.doc.lineAt(a);u.number>r&&(t.push(u.text),e.push({from:u.from,to:Math.min(l.doc.length,u.to+1)})),r=u.number}i=!0}return{text:jf(l,$m,t.join(l.lineBreak)),ranges:e,linewise:i}}let pm=null;An.copy=An.cut=(l,t)=>{let{text:e,ranges:i,linewise:r}=LC(l.state);if(!e&&!r)return!1;pm=r?e:null,t.type=="cut"&&!l.state.readOnly&&l.dispatch({changes:i,scrollIntoView:!0,userEvent:"delete.cut"});let a=Bx?null:t.clipboardData;return a?(a.clearData(),a.setData("text/plain",e),!0):(zC(l,e),!1)};const Lx=Pn.define();function Hx(l,t){let e=[];for(let i of l.facet(vx)){let r=i(l,t);r&&e.push(r)}return e?l.update({effects:e,annotations:Lx.of(!0)}):null}function Ux(l){setTimeout(()=>{let t=l.hasFocus;if(t!=l.inputState.notifiedFocused){let e=Hx(l.state,t);e?l.dispatch(e):l.update([])}},10)}mn.focus=l=>{l.inputState.lastFocusTime=Date.now(),!l.scrollDOM.scrollTop&&(l.inputState.lastScrollTop||l.inputState.lastScrollLeft)&&(l.scrollDOM.scrollTop=l.inputState.lastScrollTop,l.scrollDOM.scrollLeft=l.inputState.lastScrollLeft),Ux(l)};mn.blur=l=>{l.observer.clearSelectionRange(),Ux(l)};mn.compositionstart=mn.compositionupdate=l=>{l.observer.editContext||(l.inputState.compositionFirstChange==null&&(l.inputState.compositionFirstChange=!0),l.inputState.composing<0&&(l.inputState.composing=0))};mn.compositionend=l=>{l.observer.editContext||(l.inputState.composing=-1,l.inputState.compositionEndedAt=Date.now(),l.inputState.compositionPendingKey=!0,l.inputState.compositionPendingChange=l.observer.pendingRecords().length>0,l.inputState.compositionFirstChange=null,Tt.chrome&&Tt.android?l.observer.flushSoon():l.inputState.compositionPendingChange?Promise.resolve().then(()=>l.observer.flush()):setTimeout(()=>{l.inputState.composing<0&&l.docView.hasComposition&&l.update([])},50))};mn.contextmenu=l=>{l.inputState.lastContextMenu=Date.now()};An.beforeinput=(l,t)=>{var e,i;if(t.inputType=="insertReplacementText"&&l.observer.editContext){let a=(e=t.dataTransfer)===null||e===void 0?void 0:e.getData("text/plain"),u=t.getTargetRanges();if(a&&u.length){let f=u[0],c=l.posAtDOM(f.startContainer,f.startOffset),d=l.posAtDOM(f.endContainer,f.endOffset);return ig(l,{from:c,to:d,insert:l.state.toText(a)},null),!0}}let r;if(Tt.chrome&&Tt.android&&(r=Dx.find(a=>a.inputType==t.inputType))&&(l.observer.delayAndroidKey(r.key,r.keyCode),r.key=="Backspace"||r.key=="Delete")){let a=((i=window.visualViewport)===null||i===void 0?void 0:i.height)||0;setTimeout(()=>{var u;(((u=window.visualViewport)===null||u===void 0?void 0:u.height)||0)>a+10&&l.hasFocus&&(l.contentDOM.blur(),l.focus())},100)}return Tt.ios&&t.inputType=="deleteContentForward"&&l.observer.flushSoon(),Tt.safari&&t.inputType=="insertText"&&l.inputState.composing>=0&&setTimeout(()=>mn.compositionend(l,t),20),!1};const Fy=new Set;function HC(l){Fy.has(l)||(Fy.add(l),l.addEventListener("copy",()=>{}),l.addEventListener("cut",()=>{}))}const Wy=["pre-wrap","normal","pre-line","break-spaces"];let Es=!1;function Jy(){Es=!1}class UC{constructor(t){this.lineWrapping=t,this.doc=ne.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(t,e){let i=this.doc.lineAt(e).number-this.doc.lineAt(t).number+1;return this.lineWrapping&&(i+=Math.max(0,Math.ceil((e-t-i*this.lineLength*.5)/this.lineLength))),this.lineHeight*i}heightForLine(t){return this.lineWrapping?(1+Math.max(0,Math.ceil((t-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(t){return this.doc=t,this}mustRefreshForWrapping(t){return Wy.indexOf(t)>-1!=this.lineWrapping}mustRefreshForHeights(t){let e=!1;for(let i=0;i<t.length;i++){let r=t[i];r<0?i++:this.heightSamples[Math.floor(r*10)]||(e=!0,this.heightSamples[Math.floor(r*10)]=!0)}return e}refresh(t,e,i,r,a,u){let f=Wy.indexOf(t)>-1,c=Math.round(e)!=Math.round(this.lineHeight)||this.lineWrapping!=f;if(this.lineWrapping=f,this.lineHeight=e,this.charWidth=i,this.textHeight=r,this.lineLength=a,c){this.heightSamples={};for(let d=0;d<u.length;d++){let g=u[d];g<0?d++:this.heightSamples[Math.floor(g*10)]=!0}}return c}}class VC{constructor(t,e){this.from=t,this.heights=e,this.index=0}get more(){return this.index<this.heights.length}}class Vn{constructor(t,e,i,r,a){this.from=t,this.length=e,this.top=i,this.height=r,this._content=a}get type(){return typeof this._content=="number"?ki.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof $l?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(t){let e=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(t._content)?t._content:[t]);return new Vn(this.from,this.length+t.length,this.top,this.height+t.height,e)}}var we=function(l){return l[l.ByPos=0]="ByPos",l[l.ByHeight=1]="ByHeight",l[l.ByPosNoHeight=2]="ByPosNoHeight",l}(we||(we={}));const lf=.001;class Ai{constructor(t,e,i=2){this.length=t,this.height=e,this.flags=i}get outdated(){return(this.flags&2)>0}set outdated(t){this.flags=(t?2:0)|this.flags&-3}setHeight(t){this.height!=t&&(Math.abs(this.height-t)>lf&&(Es=!0),this.height=t)}replace(t,e,i){return Ai.of(i)}decomposeLeft(t,e){e.push(this)}decomposeRight(t,e){e.push(this)}applyChanges(t,e,i,r){let a=this,u=i.doc;for(let f=r.length-1;f>=0;f--){let{fromA:c,toA:d,fromB:g,toB:y}=r[f],b=a.lineAt(c,we.ByPosNoHeight,i.setDoc(e),0,0),x=b.to>=d?b:a.lineAt(d,we.ByPosNoHeight,i,0,0);for(y+=x.to-d,d=x.to;f>0&&b.from<=r[f-1].toA;)c=r[f-1].fromA,g=r[f-1].fromB,f--,c<b.from&&(b=a.lineAt(c,we.ByPosNoHeight,i,0,0));g+=b.from-c,c=b.from;let w=ng.build(i.setDoc(u),t,g,y);a=pf(a,a.replace(c,d,w))}return a.updateHeight(i,0)}static empty(){return new Ii(0,0)}static of(t){if(t.length==1)return t[0];let e=0,i=t.length,r=0,a=0;for(;;)if(e==i)if(r>a*2){let f=t[e-1];f.break?t.splice(--e,1,f.left,null,f.right):t.splice(--e,1,f.left,f.right),i+=1+f.break,r-=f.size}else if(a>r*2){let f=t[i];f.break?t.splice(i,1,f.left,null,f.right):t.splice(i,1,f.left,f.right),i+=2+f.break,a-=f.size}else break;else if(r<a){let f=t[e++];f&&(r+=f.size)}else{let f=t[--i];f&&(a+=f.size)}let u=0;return t[e-1]==null?(u=1,e--):t[e]==null&&(u=1,i++),new qC(Ai.of(t.slice(0,e)),u,Ai.of(t.slice(i)))}}function pf(l,t){return l==t?l:(l.constructor!=t.constructor&&(Es=!0),t)}Ai.prototype.size=1;class Vx extends Ai{constructor(t,e,i){super(t,e),this.deco=i}blockAt(t,e,i,r){return new Vn(r,this.length,i,this.height,this.deco||0)}lineAt(t,e,i,r,a){return this.blockAt(0,i,r,a)}forEachLine(t,e,i,r,a,u){t<=a+this.length&&e>=a&&u(this.blockAt(0,i,r,a))}updateHeight(t,e=0,i=!1,r){return r&&r.from<=e&&r.more&&this.setHeight(r.heights[r.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class Ii extends Vx{constructor(t,e){super(t,e,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(t,e,i,r){return new Vn(r,this.length,i,this.height,this.breaks)}replace(t,e,i){let r=i[0];return i.length==1&&(r instanceof Ii||r instanceof si&&r.flags&4)&&Math.abs(this.length-r.length)<10?(r instanceof si?r=new Ii(r.length,this.height):r.height=this.height,this.outdated||(r.outdated=!1),r):Ai.of(i)}updateHeight(t,e=0,i=!1,r){return r&&r.from<=e&&r.more?this.setHeight(r.heights[r.index++]):(i||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,t.heightForLine(this.length-this.collapsed))+this.breaks*t.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class si extends Ai{constructor(t){super(t,0)}heightMetrics(t,e){let i=t.doc.lineAt(e).number,r=t.doc.lineAt(e+this.length).number,a=r-i+1,u,f=0;if(t.lineWrapping){let c=Math.min(this.height,t.lineHeight*a);u=c/a,this.length>a+1&&(f=(this.height-c)/(this.length-a-1))}else u=this.height/a;return{firstLine:i,lastLine:r,perLine:u,perChar:f}}blockAt(t,e,i,r){let{firstLine:a,lastLine:u,perLine:f,perChar:c}=this.heightMetrics(e,r);if(e.lineWrapping){let d=r+(t<e.lineHeight?0:Math.round(Math.max(0,Math.min(1,(t-i)/this.height))*this.length)),g=e.doc.lineAt(d),y=f+g.length*c,b=Math.max(i,t-y/2);return new Vn(g.from,g.length,b,y,0)}else{let d=Math.max(0,Math.min(u-a,Math.floor((t-i)/f))),{from:g,length:y}=e.doc.line(a+d);return new Vn(g,y,i+f*d,f,0)}}lineAt(t,e,i,r,a){if(e==we.ByHeight)return this.blockAt(t,i,r,a);if(e==we.ByPosNoHeight){let{from:x,to:w}=i.doc.lineAt(t);return new Vn(x,w-x,0,0,0)}let{firstLine:u,perLine:f,perChar:c}=this.heightMetrics(i,a),d=i.doc.lineAt(t),g=f+d.length*c,y=d.number-u,b=r+f*y+c*(d.from-a-y);return new Vn(d.from,d.length,Math.max(r,Math.min(b,r+this.height-g)),g,0)}forEachLine(t,e,i,r,a,u){t=Math.max(t,a),e=Math.min(e,a+this.length);let{firstLine:f,perLine:c,perChar:d}=this.heightMetrics(i,a);for(let g=t,y=r;g<=e;){let b=i.doc.lineAt(g);if(g==t){let w=b.number-f;y+=c*w+d*(t-a-w)}let x=c+d*b.length;u(new Vn(b.from,b.length,y,x,0)),y+=x,g=b.to+1}}replace(t,e,i){let r=this.length-e;if(r>0){let a=i[i.length-1];a instanceof si?i[i.length-1]=new si(a.length+r):i.push(null,new si(r-1))}if(t>0){let a=i[0];a instanceof si?i[0]=new si(t+a.length):i.unshift(new si(t-1),null)}return Ai.of(i)}decomposeLeft(t,e){e.push(new si(t-1),null)}decomposeRight(t,e){e.push(null,new si(this.length-t-1))}updateHeight(t,e=0,i=!1,r){let a=e+this.length;if(r&&r.from<=e+this.length&&r.more){let u=[],f=Math.max(e,r.from),c=-1;for(r.from>e&&u.push(new si(r.from-e-1).updateHeight(t,e));f<=a&&r.more;){let g=t.doc.lineAt(f).length;u.length&&u.push(null);let y=r.heights[r.index++];c==-1?c=y:Math.abs(y-c)>=lf&&(c=-2);let b=new Ii(g,y);b.outdated=!1,u.push(b),f+=g+1}f<=a&&u.push(null,new si(a-f).updateHeight(t,f));let d=Ai.of(u);return(c<0||Math.abs(d.height-this.height)>=lf||Math.abs(c-this.heightMetrics(t,e).perLine)>=lf)&&(Es=!0),pf(this,d)}else(i||this.outdated)&&(this.setHeight(t.heightForGap(e,e+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class qC extends Ai{constructor(t,e,i){super(t.length+e+i.length,t.height+i.height,e|(t.outdated||i.outdated?2:0)),this.left=t,this.right=i,this.size=t.size+i.size}get break(){return this.flags&1}blockAt(t,e,i,r){let a=i+this.left.height;return t<a?this.left.blockAt(t,e,i,r):this.right.blockAt(t,e,a,r+this.left.length+this.break)}lineAt(t,e,i,r,a){let u=r+this.left.height,f=a+this.left.length+this.break,c=e==we.ByHeight?t<u:t<f,d=c?this.left.lineAt(t,e,i,r,a):this.right.lineAt(t,e,i,u,f);if(this.break||(c?d.to<f:d.from>f))return d;let g=e==we.ByPosNoHeight?we.ByPosNoHeight:we.ByPos;return c?d.join(this.right.lineAt(f,g,i,u,f)):this.left.lineAt(f,g,i,r,a).join(d)}forEachLine(t,e,i,r,a,u){let f=r+this.left.height,c=a+this.left.length+this.break;if(this.break)t<c&&this.left.forEachLine(t,e,i,r,a,u),e>=c&&this.right.forEachLine(t,e,i,f,c,u);else{let d=this.lineAt(c,we.ByPos,i,r,a);t<d.from&&this.left.forEachLine(t,d.from-1,i,r,a,u),d.to>=t&&d.from<=e&&u(d),e>d.to&&this.right.forEachLine(d.to+1,e,i,f,c,u)}}replace(t,e,i){let r=this.left.length+this.break;if(e<r)return this.balanced(this.left.replace(t,e,i),this.right);if(t>this.left.length)return this.balanced(this.left,this.right.replace(t-r,e-r,i));let a=[];t>0&&this.decomposeLeft(t,a);let u=a.length;for(let f of i)a.push(f);if(t>0&&$y(a,u-1),e<this.length){let f=a.length;this.decomposeRight(e,a),$y(a,f)}return Ai.of(a)}decomposeLeft(t,e){let i=this.left.length;if(t<=i)return this.left.decomposeLeft(t,e);e.push(this.left),this.break&&(i++,t>=i&&e.push(null)),t>i&&this.right.decomposeLeft(t-i,e)}decomposeRight(t,e){let i=this.left.length,r=i+this.break;if(t>=r)return this.right.decomposeRight(t-r,e);t<i&&this.left.decomposeRight(t,e),this.break&&t<r&&e.push(null),e.push(this.right)}balanced(t,e){return t.size>2*e.size||e.size>2*t.size?Ai.of(this.break?[t,null,e]:[t,e]):(this.left=pf(this.left,t),this.right=pf(this.right,e),this.setHeight(t.height+e.height),this.outdated=t.outdated||e.outdated,this.size=t.size+e.size,this.length=t.length+this.break+e.length,this)}updateHeight(t,e=0,i=!1,r){let{left:a,right:u}=this,f=e+a.length+this.break,c=null;return r&&r.from<=e+a.length&&r.more?c=a=a.updateHeight(t,e,i,r):a.updateHeight(t,e,i),r&&r.from<=f+u.length&&r.more?c=u=u.updateHeight(t,f,i,r):u.updateHeight(t,f,i),c?this.balanced(a,u):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function $y(l,t){let e,i;l[t]==null&&(e=l[t-1])instanceof si&&(i=l[t+1])instanceof si&&l.splice(t-1,3,new si(e.length+1+i.length))}const jC=5;class ng{constructor(t,e){this.pos=t,this.oracle=e,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=t}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(t,e){if(this.lineStart>-1){let i=Math.min(e,this.lineEnd),r=this.nodes[this.nodes.length-1];r instanceof Ii?r.length+=i-this.pos:(i>this.pos||!this.isCovered)&&this.nodes.push(new Ii(i-this.pos,-1)),this.writtenTo=i,e>i&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=e}point(t,e,i){if(t<e||i.heightRelevant){let r=i.widget?i.widget.estimatedHeight:0,a=i.widget?i.widget.lineBreaks:0;r<0&&(r=this.oracle.lineHeight);let u=e-t;i.block?this.addBlock(new Vx(u,r,i)):(u||a||r>=jC)&&this.addLineDeco(r,a,u)}else e>t&&this.span(t,e);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:t,to:e}=this.oracle.doc.lineAt(this.pos);this.lineStart=t,this.lineEnd=e,this.writtenTo<t&&((this.writtenTo<t-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,t-1)),this.nodes.push(null)),this.pos>t&&this.nodes.push(new Ii(this.pos-t,-1)),this.writtenTo=this.pos}blankContent(t,e){let i=new si(e-t);return this.oracle.doc.lineAt(t).to==e&&(i.flags|=4),i}ensureLine(){this.enterLine();let t=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(t instanceof Ii)return t;let e=new Ii(0,-1);return this.nodes.push(e),e}addBlock(t){this.enterLine();let e=t.deco;e&&e.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(t),this.writtenTo=this.pos=this.pos+t.length,e&&e.endSide>0&&(this.covering=t)}addLineDeco(t,e,i){let r=this.ensureLine();r.length+=i,r.collapsed+=i,r.widgetHeight=Math.max(r.widgetHeight,t),r.breaks+=e,this.writtenTo=this.pos=this.pos+i}finish(t){let e=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(e instanceof Ii)&&!this.isCovered?this.nodes.push(new Ii(0,-1)):(this.writtenTo<this.pos||e==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let i=t;for(let r of this.nodes)r instanceof Ii&&r.updateHeight(this.oracle,i),i+=r?r.length:1;return this.nodes}static build(t,e,i,r){let a=new ng(i,t);return ee.spans(e,i,r,a,0),a.finish(i)}}function QC(l,t,e){let i=new YC;return ee.compare(l,t,e,i,0),i.changes}class YC{constructor(){this.changes=[]}compareRange(){}comparePoint(t,e,i,r){(t<e||i&&i.heightRelevant||r&&r.heightRelevant)&&om(t,e,this.changes,5)}}function PC(l,t){let e=l.getBoundingClientRect(),i=l.ownerDocument,r=i.defaultView||window,a=Math.max(0,e.left),u=Math.min(r.innerWidth,e.right),f=Math.max(0,e.top),c=Math.min(r.innerHeight,e.bottom);for(let d=l.parentNode;d&&d!=i.body;)if(d.nodeType==1){let g=d,y=window.getComputedStyle(g);if((g.scrollHeight>g.clientHeight||g.scrollWidth>g.clientWidth)&&y.overflow!="visible"){let b=g.getBoundingClientRect();a=Math.max(a,b.left),u=Math.min(u,b.right),f=Math.max(f,b.top),c=Math.min(d==l.parentNode?r.innerHeight:c,b.bottom)}d=y.position=="absolute"||y.position=="fixed"?g.offsetParent:g.parentNode}else if(d.nodeType==11)d=d.host;else break;return{left:a-e.left,right:Math.max(a,u)-e.left,top:f-(e.top+t),bottom:Math.max(f,c)-(e.top+t)}}function GC(l,t){let e=l.getBoundingClientRect();return{left:0,right:e.right-e.left,top:t,bottom:e.bottom-(e.top+t)}}class yd{constructor(t,e,i,r){this.from=t,this.to=e,this.size=i,this.displaySize=r}static same(t,e){if(t.length!=e.length)return!1;for(let i=0;i<t.length;i++){let r=t[i],a=e[i];if(r.from!=a.from||r.to!=a.to||r.size!=a.size)return!1}return!0}draw(t,e){return Dt.replace({widget:new XC(this.displaySize*(e?t.scaleY:t.scaleX),e)}).range(this.from,this.to)}}class XC extends dl{constructor(t,e){super(),this.size=t,this.vertical=e}eq(t){return t.size==this.size&&t.vertical==this.vertical}toDOM(){let t=document.createElement("div");return this.vertical?t.style.height=this.size+"px":(t.style.width=this.size+"px",t.style.height="2px",t.style.display="inline-block"),t}get estimatedHeight(){return this.vertical?this.size:-1}}class tv{constructor(t){this.state=t,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=ev,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=ke.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let e=t.facet(tg).some(i=>typeof i!="function"&&i.class=="cm-lineWrapping");this.heightOracle=new UC(e),this.stateDeco=t.facet($a).filter(i=>typeof i!="function"),this.heightMap=Ai.empty().applyChanges(this.stateDeco,ne.empty,this.heightOracle.setDoc(t.doc),[new dn(0,0,0,t.doc.length)]);for(let i=0;i<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());i++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Dt.set(this.lineGaps.map(i=>i.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let t=[this.viewport],{main:e}=this.state.selection;for(let i=0;i<=1;i++){let r=i?e.head:e.anchor;if(!t.some(({from:a,to:u})=>r>=a&&r<=u)){let{from:a,to:u}=this.lineBlockAt(r);t.push(new Lu(a,u))}}return this.viewports=t.sort((i,r)=>i.from-r.from),this.updateScaler()}updateScaler(){let t=this.scaler;return this.scaler=this.heightMap.height<=7e6?ev:new lg(this.heightOracle,this.heightMap,this.viewports),t.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,t=>{this.viewportLines.push(qa(t,this.scaler))})}update(t,e=null){this.state=t.state;let i=this.stateDeco;this.stateDeco=this.state.facet($a).filter(g=>typeof g!="function");let r=t.changedRanges,a=dn.extendWithRanges(r,QC(i,this.stateDeco,t?t.changes:Ke.empty(this.state.doc.length))),u=this.heightMap.height,f=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);Jy(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,t.startState.doc,this.heightOracle.setDoc(this.state.doc),a),(this.heightMap.height!=u||Es)&&(t.flags|=2),f?(this.scrollAnchorPos=t.changes.mapPos(f.from,-1),this.scrollAnchorHeight=f.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let c=a.length?this.mapViewport(this.viewport,t.changes):this.viewport;(e&&(e.range.head<c.from||e.range.head>c.to)||!this.viewportIsAppropriate(c))&&(c=this.getViewport(0,e));let d=c.from!=this.viewport.from||c.to!=this.viewport.to;this.viewport=c,t.flags|=this.updateForViewport(),(d||!t.changes.empty||t.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,t.changes))),t.flags|=this.computeVisibleRanges(),e&&(this.scrollTarget=e),!this.mustEnforceCursorAssoc&&t.selectionSet&&t.view.lineWrapping&&t.state.selection.main.empty&&t.state.selection.main.assoc&&!t.state.facet(xx)&&(this.mustEnforceCursorAssoc=!0)}measure(t){let e=t.contentDOM,i=window.getComputedStyle(e),r=this.heightOracle,a=i.whiteSpace;this.defaultTextDirection=i.direction=="rtl"?ke.RTL:ke.LTR;let u=this.heightOracle.mustRefreshForWrapping(a),f=e.getBoundingClientRect(),c=u||this.mustMeasureContent||this.contentDOMHeight!=f.height;this.contentDOMHeight=f.height,this.mustMeasureContent=!1;let d=0,g=0;if(f.width&&f.height){let{scaleX:et,scaleY:L}=Zb(e,f);(et>.005&&Math.abs(this.scaleX-et)>.005||L>.005&&Math.abs(this.scaleY-L)>.005)&&(this.scaleX=et,this.scaleY=L,d|=8,u=c=!0)}let y=(parseInt(i.paddingTop)||0)*this.scaleY,b=(parseInt(i.paddingBottom)||0)*this.scaleY;(this.paddingTop!=y||this.paddingBottom!=b)&&(this.paddingTop=y,this.paddingBottom=b,d|=10),this.editorWidth!=t.scrollDOM.clientWidth&&(r.lineWrapping&&(c=!0),this.editorWidth=t.scrollDOM.clientWidth,d|=8);let x=t.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=x&&(this.scrollAnchorHeight=-1,this.scrollTop=x),this.scrolledToBottom=Fb(t.scrollDOM);let w=(this.printing?GC:PC)(e,this.paddingTop),_=w.top-this.pixelViewport.top,O=w.bottom-this.pixelViewport.bottom;this.pixelViewport=w;let M=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(M!=this.inView&&(this.inView=M,M&&(c=!0)),!this.inView&&!this.scrollTarget)return 0;let B=f.width;if((this.contentDOMWidth!=B||this.editorHeight!=t.scrollDOM.clientHeight)&&(this.contentDOMWidth=f.width,this.editorHeight=t.scrollDOM.clientHeight,d|=8),c){let et=t.docView.measureVisibleLineHeights(this.viewport);if(r.mustRefreshForHeights(et)&&(u=!0),u||r.lineWrapping&&Math.abs(B-this.contentDOMWidth)>r.charWidth){let{lineHeight:L,charWidth:Q,textHeight:Z}=t.docView.measureTextSize();u=L>0&&r.refresh(a,L,Q,Z,B/Q,et),u&&(t.docView.minWidth=0,d|=8)}_>0&&O>0?g=Math.max(_,O):_<0&&O<0&&(g=Math.min(_,O)),Jy();for(let L of this.viewports){let Q=L.from==this.viewport.from?et:t.docView.measureVisibleLineHeights(L);this.heightMap=(u?Ai.empty().applyChanges(this.stateDeco,ne.empty,this.heightOracle,[new dn(0,0,0,t.state.doc.length)]):this.heightMap).updateHeight(r,0,u,new VC(L.from,Q))}Es&&(d|=2)}let j=!this.viewportIsAppropriate(this.viewport,g)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return j&&(d&2&&(d|=this.updateScaler()),this.viewport=this.getViewport(g,this.scrollTarget),d|=this.updateForViewport()),(d&2||j)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(u?[]:this.lineGaps,t)),d|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,t.docView.enforceCursorAssoc()),d}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(t,e){let i=.5-Math.max(-.5,Math.min(.5,t/1e3/2)),r=this.heightMap,a=this.heightOracle,{visibleTop:u,visibleBottom:f}=this,c=new Lu(r.lineAt(u-i*1e3,we.ByHeight,a,0,0).from,r.lineAt(f+(1-i)*1e3,we.ByHeight,a,0,0).to);if(e){let{head:d}=e.range;if(d<c.from||d>c.to){let g=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),y=r.lineAt(d,we.ByPos,a,0,0),b;e.y=="center"?b=(y.top+y.bottom)/2-g/2:e.y=="start"||e.y=="nearest"&&d<c.from?b=y.top:b=y.bottom-g,c=new Lu(r.lineAt(b-1e3/2,we.ByHeight,a,0,0).from,r.lineAt(b+g+1e3/2,we.ByHeight,a,0,0).to)}}return c}mapViewport(t,e){let i=e.mapPos(t.from,-1),r=e.mapPos(t.to,1);return new Lu(this.heightMap.lineAt(i,we.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(r,we.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:t,to:e},i=0){if(!this.inView)return!0;let{top:r}=this.heightMap.lineAt(t,we.ByPos,this.heightOracle,0,0),{bottom:a}=this.heightMap.lineAt(e,we.ByPos,this.heightOracle,0,0),{visibleTop:u,visibleBottom:f}=this;return(t==0||r<=u-Math.max(10,Math.min(-i,250)))&&(e==this.state.doc.length||a>=f+Math.max(10,Math.min(i,250)))&&r>u-2*1e3&&a<f+2*1e3}mapLineGaps(t,e){if(!t.length||e.empty)return t;let i=[];for(let r of t)e.touchesRange(r.from,r.to)||i.push(new yd(e.mapPos(r.from),e.mapPos(r.to),r.size,r.displaySize));return i}ensureLineGaps(t,e){let i=this.heightOracle.lineWrapping,r=i?1e4:2e3,a=r>>1,u=r<<1;if(this.defaultTextDirection!=ke.LTR&&!i)return[];let f=[],c=(g,y,b,x)=>{if(y-g<a)return;let w=this.state.selection.main,_=[w.from];w.empty||_.push(w.to);for(let M of _)if(M>g&&M<y){c(g,M-10,b,x),c(M+10,y,b,x);return}let O=KC(t,M=>M.from>=b.from&&M.to<=b.to&&Math.abs(M.from-g)<a&&Math.abs(M.to-y)<a&&!_.some(B=>M.from<B&&M.to>B));if(!O){if(y<b.to&&e&&i&&e.visibleRanges.some(j=>j.from<=y&&j.to>=y)){let j=e.moveToLineBoundary(ot.cursor(y),!1,!0).head;j>g&&(y=j)}let M=this.gapSize(b,g,y,x),B=i||M<2e6?M:2e6;O=new yd(g,y,M,B)}f.push(O)},d=g=>{if(g.length<u||g.type!=ki.Text)return;let y=ZC(g.from,g.to,this.stateDeco);if(y.total<u)return;let b=this.scrollTarget?this.scrollTarget.range.head:null,x,w;if(i){let _=r/this.heightOracle.lineLength*this.heightOracle.lineHeight,O,M;if(b!=null){let B=Uu(y,b),j=((this.visibleBottom-this.visibleTop)/2+_)/g.height;O=B-j,M=B+j}else O=(this.visibleTop-g.top-_)/g.height,M=(this.visibleBottom-g.top+_)/g.height;x=Hu(y,O),w=Hu(y,M)}else{let _=y.total*this.heightOracle.charWidth,O=r*this.heightOracle.charWidth,M=0;if(_>2e6)for(let Q of t)Q.from>=g.from&&Q.from<g.to&&Q.size!=Q.displaySize&&Q.from*this.heightOracle.charWidth+M<this.pixelViewport.left&&(M=Q.size-Q.displaySize);let B=this.pixelViewport.left+M,j=this.pixelViewport.right+M,et,L;if(b!=null){let Q=Uu(y,b),Z=((j-B)/2+O)/_;et=Q-Z,L=Q+Z}else et=(B-O)/_,L=(j+O)/_;x=Hu(y,et),w=Hu(y,L)}x>g.from&&c(g.from,x,g,y),w<g.to&&c(w,g.to,g,y)};for(let g of this.viewportLines)Array.isArray(g.type)?g.type.forEach(d):d(g);return f}gapSize(t,e,i,r){let a=Uu(r,i)-Uu(r,e);return this.heightOracle.lineWrapping?t.height*a:r.total*this.heightOracle.charWidth*a}updateLineGaps(t){yd.same(t,this.lineGaps)||(this.lineGaps=t,this.lineGapDeco=Dt.set(t.map(e=>e.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(){let t=this.stateDeco;this.lineGaps.length&&(t=t.concat(this.lineGapDeco));let e=[];ee.spans(t,this.viewport.from,this.viewport.to,{span(r,a){e.push({from:r,to:a})},point(){}},20);let i=e.length!=this.visibleRanges.length||this.visibleRanges.some((r,a)=>r.from!=e[a].from||r.to!=e[a].to);return this.visibleRanges=e,i?4:0}lineBlockAt(t){return t>=this.viewport.from&&t<=this.viewport.to&&this.viewportLines.find(e=>e.from<=t&&e.to>=t)||qa(this.heightMap.lineAt(t,we.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(t){return t>=this.viewportLines[0].top&&t<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(e=>e.top<=t&&e.bottom>=t)||qa(this.heightMap.lineAt(this.scaler.fromDOM(t),we.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(t){let e=this.lineBlockAtHeight(t+8);return e.from>=this.viewport.from||this.viewportLines[0].top-t>200?e:this.viewportLines[0]}elementAtHeight(t){return qa(this.heightMap.blockAt(this.scaler.fromDOM(t),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class Lu{constructor(t,e){this.from=t,this.to=e}}function ZC(l,t,e){let i=[],r=l,a=0;return ee.spans(e,l,t,{span(){},point(u,f){u>r&&(i.push({from:r,to:u}),a+=u-r),r=f}},20),r<t&&(i.push({from:r,to:t}),a+=t-r),{total:a,ranges:i}}function Hu({total:l,ranges:t},e){if(e<=0)return t[0].from;if(e>=1)return t[t.length-1].to;let i=Math.floor(l*e);for(let r=0;;r++){let{from:a,to:u}=t[r],f=u-a;if(i<=f)return a+i;i-=f}}function Uu(l,t){let e=0;for(let{from:i,to:r}of l.ranges){if(t<=r){e+=t-i;break}e+=r-i}return e/l.total}function KC(l,t){for(let e of l)if(t(e))return e}const ev={toDOM(l){return l},fromDOM(l){return l},scale:1,eq(l){return l==this}};class lg{constructor(t,e,i){let r=0,a=0,u=0;this.viewports=i.map(({from:f,to:c})=>{let d=e.lineAt(f,we.ByPos,t,0,0).top,g=e.lineAt(c,we.ByPos,t,0,0).bottom;return r+=g-d,{from:f,to:c,top:d,bottom:g,domTop:0,domBottom:0}}),this.scale=(7e6-r)/(e.height-r);for(let f of this.viewports)f.domTop=u+(f.top-a)*this.scale,u=f.domBottom=f.domTop+(f.bottom-f.top),a=f.bottom}toDOM(t){for(let e=0,i=0,r=0;;e++){let a=e<this.viewports.length?this.viewports[e]:null;if(!a||t<a.top)return r+(t-i)*this.scale;if(t<=a.bottom)return a.domTop+(t-a.top);i=a.bottom,r=a.domBottom}}fromDOM(t){for(let e=0,i=0,r=0;;e++){let a=e<this.viewports.length?this.viewports[e]:null;if(!a||t<a.domTop)return i+(t-r)/this.scale;if(t<=a.domBottom)return a.top+(t-a.domTop);i=a.bottom,r=a.domBottom}}eq(t){return t instanceof lg?this.scale==t.scale&&this.viewports.length==t.viewports.length&&this.viewports.every((e,i)=>e.from==t.viewports[i].from&&e.to==t.viewports[i].to):!1}}function qa(l,t){if(t.scale==1)return l;let e=t.toDOM(l.top),i=t.toDOM(l.bottom);return new Vn(l.from,l.length,e,i-e,Array.isArray(l._content)?l._content.map(r=>qa(r,t)):l._content)}const Vu=_t.define({combine:l=>l.join(" ")}),ym=_t.define({combine:l=>l.indexOf(!0)>-1}),vm=Wl.newName(),qx=Wl.newName(),jx=Wl.newName(),Qx={"&light":"."+qx,"&dark":"."+jx};function bm(l,t,e){return new Wl(t,{finish(i){return/&/.test(i)?i.replace(/&\w*/,r=>{if(r=="&")return l;if(!e||!e[r])throw new RangeError(`Unsupported selector: ${r}`);return e[r]}):l+" "+i}})}const IC=bm("."+vm,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},Qx),FC={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},vd=Tt.ie&&Tt.ie_version<=11;class WC{constructor(t){this.view=t,this.active=!1,this.editContext=null,this.selectionRange=new NA,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=t.contentDOM,this.observer=new MutationObserver(e=>{for(let i of e)this.queue.push(i);(Tt.ie&&Tt.ie_version<=11||Tt.ios&&t.composing)&&e.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&t.constructor.EDIT_CONTEXT!==!1&&!(Tt.chrome&&Tt.chrome_version<126)&&(this.editContext=new $C(t),t.state.facet(ql)&&(t.contentDOM.editContext=this.editContext.editContext)),vd&&(this.onCharData=e=>{this.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var e;((e=this.view.docView)===null||e===void 0?void 0:e.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(t.scrollDOM)),this.addWindowListeners(this.win=t.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(e=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),e.length>0&&e[e.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(e=>{e.length>0&&e[e.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(t){this.view.inputState.runHandlers("scroll",t),this.intersecting&&this.view.measure()}onScroll(t){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(t)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(t){(t.type=="change"||!t.type)&&!t.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(t){if(this.gapIntersection&&(t.length!=this.gaps.length||this.gaps.some((e,i)=>e!=t[i]))){this.gapIntersection.disconnect();for(let e of t)this.gapIntersection.observe(e);this.gaps=t}}onSelectionChange(t){let e=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:i}=this,r=this.selectionRange;if(i.state.facet(ql)?i.root.activeElement!=this.dom:!ef(this.dom,r))return;let a=r.anchorNode&&i.docView.nearest(r.anchorNode);if(a&&a.ignoreEvent(t)){e||(this.selectionChanged=!1);return}(Tt.ie&&Tt.ie_version<=11||Tt.android&&Tt.chrome)&&!i.state.selection.main.empty&&r.focusNode&&Pa(r.focusNode,r.focusOffset,r.anchorNode,r.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:t}=this,e=Ja(t.root);if(!e)return!1;let i=Tt.safari&&t.root.nodeType==11&&t.root.activeElement==this.dom&&JC(this.view,e)||e;if(!i||this.selectionRange.eq(i))return!1;let r=ef(this.dom,i);return r&&!this.selectionChanged&&t.inputState.lastFocusTime>Date.now()-200&&t.inputState.lastTouchTime<Date.now()-300&&LA(this.dom,i)?(this.view.inputState.lastFocusTime=0,t.docView.updateSelection(),!1):(this.selectionRange.setRange(i),r&&(this.selectionChanged=!0),!0)}setSelectionRange(t,e){this.selectionRange.set(t.node,t.offset,e.node,e.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let t=0,e=null;for(let i=this.dom;i;)if(i.nodeType==1)!e&&t<this.scrollTargets.length&&this.scrollTargets[t]==i?t++:e||(e=this.scrollTargets.slice(0,t)),e&&e.push(i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;if(t<this.scrollTargets.length&&!e&&(e=this.scrollTargets.slice(0,t)),e){for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);for(let i of this.scrollTargets=e)i.addEventListener("scroll",this.onScroll)}}ignore(t){if(!this.active)return t();try{return this.stop(),t()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,FC),vd&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),vd&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(t,e){var i;if(!this.delayedAndroidKey){let r=()=>{let a=this.delayedAndroidKey;a&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=a.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&a.force&&Ss(this.dom,a.key,a.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(r)}(!this.delayedAndroidKey||t=="Enter")&&(this.delayedAndroidKey={key:t,keyCode:e,force:this.lastChange<Date.now()-50||!!(!((i=this.delayedAndroidKey)===null||i===void 0)&&i.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}processRecords(){let t=this.pendingRecords();t.length&&(this.queue=[]);let e=-1,i=-1,r=!1;for(let a of t){let u=this.readMutation(a);u&&(u.typeOver&&(r=!0),e==-1?{from:e,to:i}=u:(e=Math.min(u.from,e),i=Math.max(u.to,i)))}return{from:e,to:i,typeOver:r}}readChange(){let{from:t,to:e,typeOver:i}=this.processRecords(),r=this.selectionChanged&&ef(this.dom,this.selectionRange);if(t<0&&!r)return null;t>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let a=new pC(this.view,t,e,i);return this.view.docView.domChanged={newSel:a.newSel?a.newSel.main:null},a}flush(t=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;t&&this.readSelectionRange();let e=this.readChange();if(!e)return this.view.requestMeasure(),!1;let i=this.view.state,r=Ex(this.view,e);return this.view.state==i&&(e.domChanged||e.newSel&&!e.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),r}readMutation(t){let e=this.view.docView.nearest(t.target);if(!e||e.ignoreMutation(t))return null;if(e.markDirty(t.type=="attributes"),t.type=="attributes"&&(e.flags|=4),t.type=="childList"){let i=iv(e,t.previousSibling||t.target.previousSibling,-1),r=iv(e,t.nextSibling||t.target.nextSibling,1);return{from:i?e.posAfter(i):e.posAtStart,to:r?e.posBefore(r):e.posAtEnd,typeOver:!1}}else return t.type=="characterData"?{from:e.posAtStart,to:e.posAtEnd,typeOver:t.target.nodeValue==t.oldValue}:null}setWindow(t){t!=this.win&&(this.removeWindowListeners(this.win),this.win=t,this.addWindowListeners(this.win))}addWindowListeners(t){t.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):t.addEventListener("beforeprint",this.onPrint),t.addEventListener("scroll",this.onScroll),t.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(t){t.removeEventListener("scroll",this.onScroll),t.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):t.removeEventListener("beforeprint",this.onPrint),t.document.removeEventListener("selectionchange",this.onSelectionChange)}update(t){this.editContext&&(this.editContext.update(t),t.startState.facet(ql)!=t.state.facet(ql)&&(t.view.contentDOM.editContext=t.state.facet(ql)?this.editContext.editContext:null))}destroy(){var t,e,i;this.stop(),(t=this.intersection)===null||t===void 0||t.disconnect(),(e=this.gapIntersection)===null||e===void 0||e.disconnect(),(i=this.resizeScroll)===null||i===void 0||i.disconnect();for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function iv(l,t,e){for(;t;){let i=ge.get(t);if(i&&i.parent==l)return i;let r=t.parentNode;t=r!=l.dom?r:e>0?t.nextSibling:t.previousSibling}return null}function nv(l,t){let e=t.startContainer,i=t.startOffset,r=t.endContainer,a=t.endOffset,u=l.docView.domAtPos(l.state.selection.main.anchor);return Pa(u.node,u.offset,r,a)&&([e,i,r,a]=[r,a,e,i]),{anchorNode:e,anchorOffset:i,focusNode:r,focusOffset:a}}function JC(l,t){if(t.getComposedRanges){let r=t.getComposedRanges(l.root)[0];if(r)return nv(l,r)}let e=null;function i(r){r.preventDefault(),r.stopImmediatePropagation(),e=r.getTargetRanges()[0]}return l.contentDOM.addEventListener("beforeinput",i,!0),l.dom.ownerDocument.execCommand("indent"),l.contentDOM.removeEventListener("beforeinput",i,!0),e?nv(l,e):null}class $C{constructor(t){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.resetRange(t.state);let e=this.editContext=new window.EditContext({text:t.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,t.state.selection.main.anchor))),selectionEnd:this.toContextPos(t.state.selection.main.head)});this.handlers.textupdate=i=>{let{anchor:r}=t.state.selection.main,a={from:this.toEditorPos(i.updateRangeStart),to:this.toEditorPos(i.updateRangeEnd),insert:ne.of(i.text.split(`
`))};a.from==this.from&&r<this.from?a.from=r:a.to==this.to&&r>this.to&&(a.to=r),!(a.from==a.to&&!a.insert.length)&&(this.pendingContextChange=a,t.state.readOnly||ig(t,a,ot.single(this.toEditorPos(i.selectionStart),this.toEditorPos(i.selectionEnd))),this.pendingContextChange&&(this.revertPending(t.state),this.setSelection(t.state)))},this.handlers.characterboundsupdate=i=>{let r=[],a=null;for(let u=this.toEditorPos(i.rangeStart),f=this.toEditorPos(i.rangeEnd);u<f;u++){let c=t.coordsForChar(u);a=c&&new DOMRect(c.left,c.top,c.right-c.left,c.bottom-c.top)||a||new DOMRect,r.push(a)}e.updateCharacterBounds(i.rangeStart,r)},this.handlers.textformatupdate=i=>{let r=[];for(let a of i.getTextFormats()){let u=a.underlineStyle,f=a.underlineThickness;if(u!="None"&&f!="None"){let c=`text-decoration: underline ${u=="Dashed"?"dashed ":u=="Squiggle"?"wavy ":""}${f=="Thin"?1:2}px`;r.push(Dt.mark({attributes:{style:c}}).range(this.toEditorPos(a.rangeStart),this.toEditorPos(a.rangeEnd)))}}t.dispatch({effects:wx.of(Dt.set(r))})},this.handlers.compositionstart=()=>{t.inputState.composing<0&&(t.inputState.composing=0,t.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{t.inputState.composing=-1,t.inputState.compositionFirstChange=null};for(let i in this.handlers)e.addEventListener(i,this.handlers[i]);this.measureReq={read:i=>{this.editContext.updateControlBounds(i.contentDOM.getBoundingClientRect());let r=Ja(i.root);r&&r.rangeCount&&this.editContext.updateSelectionBounds(r.getRangeAt(0).getBoundingClientRect())}}}applyEdits(t){let e=0,i=!1,r=this.pendingContextChange;return t.changes.iterChanges((a,u,f,c,d)=>{if(i)return;let g=d.length-(u-a);if(r&&u>=r.to)if(r.from==a&&r.to==u&&r.insert.eq(d)){r=this.pendingContextChange=null,e+=g,this.to+=g;return}else r=null,this.revertPending(t.state);if(a+=e,u+=e,u<=this.from)this.from+=g,this.to+=g;else if(a<this.to){if(a<this.from||u>this.to||this.to-this.from+d.length>3e4){i=!0;return}this.editContext.updateText(this.toContextPos(a),this.toContextPos(u),d.toString()),this.to+=g}e+=g}),r&&!i&&this.revertPending(t.state),!i}update(t){let e=this.pendingContextChange;!this.applyEdits(t)||!this.rangeIsValid(t.state)?(this.pendingContextChange=null,this.resetRange(t.state),this.editContext.updateText(0,this.editContext.text.length,t.state.doc.sliceString(this.from,this.to)),this.setSelection(t.state)):(t.docChanged||t.selectionSet||e)&&this.setSelection(t.state),(t.geometryChanged||t.docChanged||t.selectionSet)&&t.view.requestMeasure(this.measureReq)}resetRange(t){let{head:e}=t.selection.main;this.from=Math.max(0,e-1e4),this.to=Math.min(t.doc.length,e+1e4)}revertPending(t){let e=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(e.from),this.toContextPos(e.from+e.insert.length),t.doc.sliceString(e.from,e.to))}setSelection(t){let{main:e}=t.selection,i=this.toContextPos(Math.max(this.from,Math.min(this.to,e.anchor))),r=this.toContextPos(e.head);(this.editContext.selectionStart!=i||this.editContext.selectionEnd!=r)&&this.editContext.updateSelection(i,r)}rangeIsValid(t){let{head:e}=t.selection.main;return!(this.from>0&&e-this.from<500||this.to<t.doc.length&&this.to-e<500||this.to-this.from>1e4*3)}toEditorPos(t){return t+this.from}toContextPos(t){return t-this.from}destroy(){for(let t in this.handlers)this.editContext.removeEventListener(t,this.handlers[t])}}class At{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(t={}){var e;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),t.parent&&t.parent.appendChild(this.dom);let{dispatch:i}=t;this.dispatchTransactions=t.dispatchTransactions||i&&(r=>r.forEach(a=>i(a,this)))||(r=>this.update(r)),this.dispatch=this.dispatch.bind(this),this._root=t.root||zA(t.parent)||document,this.viewState=new tv(t.state||Ft.create(t)),t.scrollTo&&t.scrollTo.is(Bu)&&(this.viewState.scrollTarget=t.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(Ha).map(r=>new md(r));for(let r of this.plugins)r.update(this);this.observer=new WC(this),this.inputState=new SC(this),this.inputState.ensureHandlers(this.plugins),this.docView=new zy(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((e=document.fonts)===null||e===void 0)&&e.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...t){let e=t.length==1&&t[0]instanceof Ie?t:t.length==1&&Array.isArray(t[0])?t[0]:[this.state.update(...t)];this.dispatchTransactions(e,this)}update(t){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let e=!1,i=!1,r,a=this.state;for(let b of t){if(b.startState!=a)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");a=b.state}if(this.destroyed){this.viewState.state=a;return}let u=this.hasFocus,f=0,c=null;t.some(b=>b.annotation(Lx))?(this.inputState.notifiedFocused=u,f=1):u!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=u,c=Hx(a,u),c||(f=1));let d=this.observer.delayedAndroidKey,g=null;if(d?(this.observer.clearDelayedAndroidKey(),g=this.observer.readChange(),(g&&!this.state.doc.eq(a.doc)||!this.state.selection.eq(a.selection))&&(g=null)):this.observer.clear(),a.facet(Ft.phrases)!=this.state.facet(Ft.phrases))return this.setState(a);r=gf.create(this,a,t),r.flags|=f;let y=this.viewState.scrollTarget;try{this.updateState=2;for(let b of t){if(y&&(y=y.map(b.changes)),b.scrollIntoView){let{main:x}=b.state.selection;y=new ws(x.empty?x:ot.cursor(x.head,x.head>x.anchor?-1:1))}for(let x of b.effects)x.is(Bu)&&(y=x.value.clip(this.state))}this.viewState.update(r,y),this.bidiCache=yf.update(this.bidiCache,r.changes),r.empty||(this.updatePlugins(r),this.inputState.update(r)),e=this.docView.update(r),this.state.facet(Ua)!=this.styleModules&&this.mountStyles(),i=this.updateAttrs(),this.showAnnouncements(t),this.docView.updateSelection(e,t.some(b=>b.isUserEvent("select.pointer")))}finally{this.updateState=0}if(r.startState.facet(Vu)!=r.state.facet(Vu)&&(this.viewState.mustMeasureContent=!0),(e||i||y||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),e&&this.docViewUpdate(),!r.empty)for(let b of this.state.facet(dm))try{b(r)}catch(x){Li(this.state,x,"update listener")}(c||g)&&Promise.resolve().then(()=>{c&&this.state==c.startState&&this.dispatch(c),g&&!Ex(this,g)&&d.force&&Ss(this.contentDOM,d.key,d.keyCode)})}setState(t){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=t;return}this.updateState=2;let e=this.hasFocus;try{for(let i of this.plugins)i.destroy(this);this.viewState=new tv(t),this.plugins=t.facet(Ha).map(i=>new md(i)),this.pluginMap.clear();for(let i of this.plugins)i.update(this);this.docView.destroy(),this.docView=new zy(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}e&&this.focus(),this.requestMeasure()}updatePlugins(t){let e=t.startState.facet(Ha),i=t.state.facet(Ha);if(e!=i){let r=[];for(let a of i){let u=e.indexOf(a);if(u<0)r.push(new md(a));else{let f=this.plugins[u];f.mustUpdate=t,r.push(f)}}for(let a of this.plugins)a.mustUpdate!=t&&a.destroy(this);this.plugins=r,this.pluginMap.clear()}else for(let r of this.plugins)r.mustUpdate=t;for(let r=0;r<this.plugins.length;r++)this.plugins[r].update(this);e!=i&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let t of this.plugins){let e=t.value;if(e&&e.docViewUpdate)try{e.docViewUpdate(this)}catch(i){Li(this.state,i,"doc view update listener")}}}measure(t=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,t&&this.observer.forceFlush();let e=null,i=this.scrollDOM,r=i.scrollTop*this.scaleY,{scrollAnchorPos:a,scrollAnchorHeight:u}=this.viewState;Math.abs(r-this.viewState.scrollTop)>1&&(u=-1),this.viewState.scrollAnchorHeight=-1;try{for(let f=0;;f++){if(u<0)if(Fb(i))a=-1,u=this.viewState.heightMap.height;else{let x=this.viewState.scrollAnchorAt(r);a=x.from,u=x.top}this.updateState=1;let c=this.viewState.measure(this);if(!c&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(f>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let d=[];c&4||([this.measureRequests,d]=[d,this.measureRequests]);let g=d.map(x=>{try{return x.read(this)}catch(w){return Li(this.state,w),lv}}),y=gf.create(this,this.state,[]),b=!1;y.flags|=c,e?e.flags|=c:e=y,this.updateState=2,y.empty||(this.updatePlugins(y),this.inputState.update(y),this.updateAttrs(),b=this.docView.update(y),b&&this.docViewUpdate());for(let x=0;x<d.length;x++)if(g[x]!=lv)try{let w=d[x];w.write&&w.write(g[x],this)}catch(w){Li(this.state,w)}if(b&&this.docView.updateSelection(!0),!y.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,u=-1;continue}else{let w=(a<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(a).top)-u;if(w>1||w<-1){r=r+w,i.scrollTop=r/this.scaleY,u=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(e&&!e.empty)for(let f of this.state.facet(dm))f(e)}get themeClasses(){return vm+" "+(this.state.facet(ym)?jx:qx)+" "+this.state.facet(Vu)}updateAttrs(){let t=rv(this,kx,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),e={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(ql)?"true":"false",class:"cm-content",style:`${Tt.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(e["aria-readonly"]="true"),rv(this,tg,e);let i=this.observer.ignore(()=>{let r=am(this.contentDOM,this.contentAttrs,e),a=am(this.dom,this.editorAttrs,t);return r||a});return this.editorAttrs=t,this.contentAttrs=e,i}showAnnouncements(t){let e=!0;for(let i of t)for(let r of i.effects)if(r.is(At.announce)){e&&(this.announceDOM.textContent=""),e=!1;let a=this.announceDOM.appendChild(document.createElement("div"));a.textContent=r.value}}mountStyles(){this.styleModules=this.state.facet(Ua);let t=this.state.facet(At.cspNonce);Wl.mount(this.root,this.styleModules.concat(IC).reverse(),t?{nonce:t}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(t){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),t){if(this.measureRequests.indexOf(t)>-1)return;if(t.key!=null){for(let e=0;e<this.measureRequests.length;e++)if(this.measureRequests[e].key===t.key){this.measureRequests[e]=t;return}}this.measureRequests.push(t)}}plugin(t){let e=this.pluginMap.get(t);return(e===void 0||e&&e.spec!=t)&&this.pluginMap.set(t,e=this.plugins.find(i=>i.spec==t)||null),e&&e.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(t){return this.readMeasured(),this.viewState.elementAtHeight(t)}lineBlockAtHeight(t){return this.readMeasured(),this.viewState.lineBlockAtHeight(t)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(t){return this.viewState.lineBlockAt(t)}get contentHeight(){return this.viewState.contentHeight}moveByChar(t,e,i){return pd(this,t,qy(this,t,e,i))}moveByGroup(t,e){return pd(this,t,qy(this,t,e,i=>cC(this,t.head,i)))}visualLineSide(t,e){let i=this.bidiSpans(t),r=this.textDirectionAt(t.from),a=i[e?i.length-1:0];return ot.cursor(a.side(e,r)+t.from,a.forward(!e,r)?1:-1)}moveToLineBoundary(t,e,i=!0){return hC(this,t,e,i)}moveVertically(t,e,i){return pd(this,t,dC(this,t,e,i))}domAtPos(t){return this.docView.domAtPos(t)}posAtDOM(t,e=0){return this.docView.posFromDOM(t,e)}posAtCoords(t,e=!0){return this.readMeasured(),Mx(this,t,e)}coordsAtPos(t,e=1){this.readMeasured();let i=this.docView.coordsAt(t,e);if(!i||i.left==i.right)return i;let r=this.state.doc.lineAt(t),a=this.bidiSpans(r),u=a[Gl.find(a,t-r.from,-1,e)];return fo(i,u.dir==ke.LTR==e>0)}coordsForChar(t){return this.readMeasured(),this.docView.coordsForChar(t)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(t){return!this.state.facet(bx)||t<this.viewport.from||t>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(t))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(t){if(t.length>t_)return hx(t.length);let e=this.textDirectionAt(t.from),i;for(let a of this.bidiCache)if(a.from==t.from&&a.dir==e&&(a.fresh||fx(a.isolates,i=Ny(this,t))))return a.order;i||(i=Ny(this,t));let r=IA(t.text,e,i);return this.bidiCache.push(new yf(t.from,t.to,e,i,!0,r)),r}get hasFocus(){var t;return(this.dom.ownerDocument.hasFocus()||Tt.safari&&((t=this.inputState)===null||t===void 0?void 0:t.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{Kb(this.contentDOM),this.docView.updateSelection()})}setRoot(t){this._root!=t&&(this._root=t,this.observer.setWindow((t.nodeType==9?t:t.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let t of this.plugins)t.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(t,e={}){return Bu.of(new ws(typeof t=="number"?ot.cursor(t):t,e.y,e.x,e.yMargin,e.xMargin))}scrollSnapshot(){let{scrollTop:t,scrollLeft:e}=this.scrollDOM,i=this.viewState.scrollAnchorAt(t);return Bu.of(new ws(ot.cursor(i.from),"start","start",i.top-t,e,!0))}setTabFocusMode(t){t==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof t=="boolean"?this.inputState.tabFocusMode=t?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+t)}static domEventHandlers(t){return Ue.define(()=>({}),{eventHandlers:t})}static domEventObservers(t){return Ue.define(()=>({}),{eventObservers:t})}static theme(t,e){let i=Wl.newName(),r=[Vu.of(i),Ua.of(bm(`.${i}`,t))];return e&&e.dark&&r.push(ym.of(!0)),r}static baseTheme(t){return Dr.lowest(Ua.of(bm("."+vm,t,Qx)))}static findFromDOM(t){var e;let i=t.querySelector(".cm-content"),r=i&&ge.get(i)||ge.get(t);return((e=r==null?void 0:r.rootView)===null||e===void 0?void 0:e.view)||null}}At.styleModule=Ua;At.inputHandler=yx;At.clipboardInputFilter=Jm;At.clipboardOutputFilter=$m;At.scrollHandler=Sx;At.focusChangeEffect=vx;At.perLineTextDirection=bx;At.exceptionSink=px;At.updateListener=dm;At.editable=ql;At.mouseSelectionStyle=gx;At.dragMovesSelection=mx;At.clickAddsSelectionRange=dx;At.decorations=$a;At.outerDecorations=Ax;At.atomicRanges=eg;At.bidiIsolatedRanges=Cx;At.scrollMargins=_x;At.darkTheme=ym;At.cspNonce=_t.define({combine:l=>l.length?l[0]:""});At.contentAttributes=tg;At.editorAttributes=kx;At.lineWrapping=At.contentAttributes.of({class:"cm-lineWrapping"});At.announce=Ut.define();const t_=4096,lv={};class yf{constructor(t,e,i,r,a,u){this.from=t,this.to=e,this.dir=i,this.isolates=r,this.fresh=a,this.order=u}static update(t,e){if(e.empty&&!t.some(a=>a.fresh))return t;let i=[],r=t.length?t[t.length-1].dir:ke.LTR;for(let a=Math.max(0,t.length-10);a<t.length;a++){let u=t[a];u.dir==r&&!e.touchesRange(u.from,u.to)&&i.push(new yf(e.mapPos(u.from,1),e.mapPos(u.to,-1),u.dir,u.isolates,!1,u.order))}return i}}function rv(l,t,e){for(let i=l.state.facet(t),r=i.length-1;r>=0;r--){let a=i[r],u=typeof a=="function"?a(l):a;u&&sm(u,e)}return e}const e_=Tt.mac?"mac":Tt.windows?"win":Tt.linux?"linux":"key";function i_(l,t){const e=l.split(/-(?!$)/);let i=e[e.length-1];i=="Space"&&(i=" ");let r,a,u,f;for(let c=0;c<e.length-1;++c){const d=e[c];if(/^(cmd|meta|m)$/i.test(d))f=!0;else if(/^a(lt)?$/i.test(d))r=!0;else if(/^(c|ctrl|control)$/i.test(d))a=!0;else if(/^s(hift)?$/i.test(d))u=!0;else if(/^mod$/i.test(d))t=="mac"?f=!0:a=!0;else throw new Error("Unrecognized modifier name: "+d)}return r&&(i="Alt-"+i),a&&(i="Ctrl-"+i),f&&(i="Meta-"+i),u&&(i="Shift-"+i),i}function qu(l,t,e){return t.altKey&&(l="Alt-"+l),t.ctrlKey&&(l="Ctrl-"+l),t.metaKey&&(l="Meta-"+l),e!==!1&&t.shiftKey&&(l="Shift-"+l),l}const n_=Dr.default(At.domEventHandlers({keydown(l,t){return Px(Yx(t.state),l,t,"editor")}})),Qf=_t.define({enables:n_}),sv=new WeakMap;function Yx(l){let t=l.facet(Qf),e=sv.get(t);return e||sv.set(t,e=s_(t.reduce((i,r)=>i.concat(r),[]))),e}function l_(l,t,e){return Px(Yx(l.state),t,l,e)}let jl=null;const r_=4e3;function s_(l,t=e_){let e=Object.create(null),i=Object.create(null),r=(u,f)=>{let c=i[u];if(c==null)i[u]=f;else if(c!=f)throw new Error("Key binding "+u+" is used both as a regular binding and as a multi-stroke prefix")},a=(u,f,c,d,g)=>{var y,b;let x=e[u]||(e[u]=Object.create(null)),w=f.split(/ (?!$)/).map(M=>i_(M,t));for(let M=1;M<w.length;M++){let B=w.slice(0,M).join(" ");r(B,!0),x[B]||(x[B]={preventDefault:!0,stopPropagation:!1,run:[j=>{let et=jl={view:j,prefix:B,scope:u};return setTimeout(()=>{jl==et&&(jl=null)},r_),!0}]})}let _=w.join(" ");r(_,!1);let O=x[_]||(x[_]={preventDefault:!1,stopPropagation:!1,run:((b=(y=x._any)===null||y===void 0?void 0:y.run)===null||b===void 0?void 0:b.slice())||[]});c&&O.run.push(c),d&&(O.preventDefault=!0),g&&(O.stopPropagation=!0)};for(let u of l){let f=u.scope?u.scope.split(" "):["editor"];if(u.any)for(let d of f){let g=e[d]||(e[d]=Object.create(null));g._any||(g._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:y}=u;for(let b in g)g[b].run.push(x=>y(x,xm))}let c=u[t]||u.key;if(c)for(let d of f)a(d,c,u.run,u.preventDefault,u.stopPropagation),u.shift&&a(d,"Shift-"+c,u.shift,u.preventDefault,u.stopPropagation)}return e}let xm=null;function Px(l,t,e,i){xm=t;let r=EA(t),a=ai(r,0),u=fn(a)==r.length&&r!=" ",f="",c=!1,d=!1,g=!1;jl&&jl.view==e&&jl.scope==i&&(f=jl.prefix+" ",Rx.indexOf(t.keyCode)<0&&(d=!0,jl=null));let y=new Set,b=O=>{if(O){for(let M of O.run)if(!y.has(M)&&(y.add(M),M(e)))return O.stopPropagation&&(g=!0),!0;O.preventDefault&&(O.stopPropagation&&(g=!0),d=!0)}return!1},x=l[i],w,_;return x&&(b(x[f+qu(r,t,!u)])?c=!0:u&&(t.altKey||t.metaKey||t.ctrlKey)&&!(Tt.windows&&t.ctrlKey&&t.altKey)&&(w=Jl[t.keyCode])&&w!=r?(b(x[f+qu(w,t,!0)])||t.shiftKey&&(_=Wa[t.keyCode])!=r&&_!=w&&b(x[f+qu(_,t,!1)]))&&(c=!0):u&&t.shiftKey&&b(x[f+qu(r,t,!0)])&&(c=!0),!c&&b(x._any)&&(c=!0)),d&&(c=!0),c&&g&&t.stopPropagation(),xm=null,c}class mo{constructor(t,e,i,r,a){this.className=t,this.left=e,this.top=i,this.width=r,this.height=a}draw(){let t=document.createElement("div");return t.className=this.className,this.adjust(t),t}update(t,e){return e.className!=this.className?!1:(this.adjust(t),!0)}adjust(t){t.style.left=this.left+"px",t.style.top=this.top+"px",this.width!=null&&(t.style.width=this.width+"px"),t.style.height=this.height+"px"}eq(t){return this.left==t.left&&this.top==t.top&&this.width==t.width&&this.height==t.height&&this.className==t.className}static forRange(t,e,i){if(i.empty){let r=t.coordsAtPos(i.head,i.assoc||1);if(!r)return[];let a=Gx(t);return[new mo(e,r.left-a.left,r.top-a.top,null,r.bottom-r.top)]}else return a_(t,e,i)}}function Gx(l){let t=l.scrollDOM.getBoundingClientRect();return{left:(l.textDirection==ke.LTR?t.left:t.right-l.scrollDOM.clientWidth*l.scaleX)-l.scrollDOM.scrollLeft*l.scaleX,top:t.top-l.scrollDOM.scrollTop*l.scaleY}}function av(l,t,e,i){let r=l.coordsAtPos(t,e*2);if(!r)return i;let a=l.dom.getBoundingClientRect(),u=(r.top+r.bottom)/2,f=l.posAtCoords({x:a.left+1,y:u}),c=l.posAtCoords({x:a.right-1,y:u});return f==null||c==null?i:{from:Math.max(i.from,Math.min(f,c)),to:Math.min(i.to,Math.max(f,c))}}function a_(l,t,e){if(e.to<=l.viewport.from||e.from>=l.viewport.to)return[];let i=Math.max(e.from,l.viewport.from),r=Math.min(e.to,l.viewport.to),a=l.textDirection==ke.LTR,u=l.contentDOM,f=u.getBoundingClientRect(),c=Gx(l),d=u.querySelector(".cm-line"),g=d&&window.getComputedStyle(d),y=f.left+(g?parseInt(g.paddingLeft)+Math.min(0,parseInt(g.textIndent)):0),b=f.right-(g?parseInt(g.paddingRight):0),x=gm(l,i),w=gm(l,r),_=x.type==ki.Text?x:null,O=w.type==ki.Text?w:null;if(_&&(l.lineWrapping||x.widgetLineBreaks)&&(_=av(l,i,1,_)),O&&(l.lineWrapping||w.widgetLineBreaks)&&(O=av(l,r,-1,O)),_&&O&&_.from==O.from&&_.to==O.to)return B(j(e.from,e.to,_));{let L=_?j(e.from,null,_):et(x,!1),Q=O?j(null,e.to,O):et(w,!0),Z=[];return(_||x).to<(O||w).from-(_&&O?1:0)||x.widgetLineBreaks>1&&L.bottom+l.defaultLineHeight/2<Q.top?Z.push(M(y,L.bottom,b,Q.top)):L.bottom<Q.top&&l.elementAtHeight((L.bottom+Q.top)/2).type==ki.Text&&(L.bottom=Q.top=(L.bottom+Q.top)/2),B(L).concat(Z).concat(B(Q))}function M(L,Q,Z,nt){return new mo(t,L-c.left,Q-c.top-.01,Z-L,nt-Q+.01)}function B({top:L,bottom:Q,horizontal:Z}){let nt=[];for(let st=0;st<Z.length;st+=2)nt.push(M(Z[st],L,Z[st+1],Q));return nt}function j(L,Q,Z){let nt=1e9,st=-1e9,mt=[];function ut(St,gt,U,$,rt){let bt=l.coordsAtPos(St,St==Z.to?-2:2),E=l.coordsAtPos(U,U==Z.from?2:-2);!bt||!E||(nt=Math.min(bt.top,E.top,nt),st=Math.max(bt.bottom,E.bottom,st),rt==ke.LTR?mt.push(a&&gt?y:bt.left,a&&$?b:E.right):mt.push(!a&&$?y:E.left,!a&&gt?b:bt.right))}let G=L??Z.from,yt=Q??Z.to;for(let St of l.visibleRanges)if(St.to>G&&St.from<yt)for(let gt=Math.max(St.from,G),U=Math.min(St.to,yt);;){let $=l.state.doc.lineAt(gt);for(let rt of l.bidiSpans($)){let bt=rt.from+$.from,E=rt.to+$.from;if(bt>=U)break;E>gt&&ut(Math.max(bt,gt),L==null&&bt<=G,Math.min(E,U),Q==null&&E>=yt,rt.dir)}if(gt=$.to+1,gt>=U)break}return mt.length==0&&ut(G,L==null,yt,Q==null,l.textDirection),{top:nt,bottom:st,horizontal:mt}}function et(L,Q){let Z=f.top+(Q?L.top:L.bottom);return{top:Z,bottom:Z,horizontal:[]}}}function o_(l,t){return l.constructor==t.constructor&&l.eq(t)}class u_{constructor(t,e){this.view=t,this.layer=e,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=t.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),e.above&&this.dom.classList.add("cm-layer-above"),e.class&&this.dom.classList.add(e.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(t.state),t.requestMeasure(this.measureReq),e.mount&&e.mount(this.dom,t)}update(t){t.startState.facet(rf)!=t.state.facet(rf)&&this.setOrder(t.state),(this.layer.update(t,this.dom)||t.geometryChanged)&&(this.scale(),t.view.requestMeasure(this.measureReq))}docViewUpdate(t){this.layer.updateOnDocViewUpdate!==!1&&t.requestMeasure(this.measureReq)}setOrder(t){let e=0,i=t.facet(rf);for(;e<i.length&&i[e]!=this.layer;)e++;this.dom.style.zIndex=String((this.layer.above?150:-1)-e)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:t,scaleY:e}=this.view;(t!=this.scaleX||e!=this.scaleY)&&(this.scaleX=t,this.scaleY=e,this.dom.style.transform=`scale(${1/t}, ${1/e})`)}draw(t){if(t.length!=this.drawn.length||t.some((e,i)=>!o_(e,this.drawn[i]))){let e=this.dom.firstChild,i=0;for(let r of t)r.update&&e&&r.constructor&&this.drawn[i].constructor&&r.update(e,this.drawn[i])?(e=e.nextSibling,i++):this.dom.insertBefore(r.draw(),e);for(;e;){let r=e.nextSibling;e.remove(),e=r}this.drawn=t}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const rf=_t.define();function Xx(l){return[Ue.define(t=>new u_(t,l)),rf.of(l)]}const Zx=!Tt.ios,to=_t.define({combine(l){return Gn(l,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(t,e)=>Math.min(t,e),drawRangeCursor:(t,e)=>t||e})}});function f_(l={}){return[to.of(l),h_,c_,d_,xx.of(!0)]}function Kx(l){return l.startState.facet(to)!=l.state.facet(to)}const h_=Xx({above:!0,markers(l){let{state:t}=l,e=t.facet(to),i=[];for(let r of t.selection.ranges){let a=r==t.selection.main;if(r.empty?!a||Zx:e.drawRangeCursor){let u=a?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",f=r.empty?r:ot.cursor(r.head,r.head>r.anchor?-1:1);for(let c of mo.forRange(l,u,f))i.push(c)}}return i},update(l,t){l.transactions.some(i=>i.selection)&&(t.style.animationName=t.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let e=Kx(l);return e&&ov(l.state,t),l.docChanged||l.selectionSet||e},mount(l,t){ov(t.state,l)},class:"cm-cursorLayer"});function ov(l,t){t.style.animationDuration=l.facet(to).cursorBlinkRate+"ms"}const c_=Xx({above:!1,markers(l){return l.state.selection.ranges.map(t=>t.empty?[]:mo.forRange(l,"cm-selectionBackground",t)).reduce((t,e)=>t.concat(e))},update(l,t){return l.docChanged||l.selectionSet||l.viewportChanged||Kx(l)},class:"cm-selectionLayer"}),Sm={".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"}},".cm-content":{"& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}};Zx&&(Sm[".cm-line"].caretColor=Sm[".cm-content"].caretColor="transparent !important");const d_=Dr.highest(At.theme(Sm)),Ix=Ut.define({map(l,t){return l==null?null:t.mapPos(l)}}),ja=hi.define({create(){return null},update(l,t){return l!=null&&(l=t.changes.mapPos(l)),t.effects.reduce((e,i)=>i.is(Ix)?i.value:e,l)}}),m_=Ue.fromClass(class{constructor(l){this.view=l,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(l){var t;let e=l.state.field(ja);e==null?this.cursor!=null&&((t=this.cursor)===null||t===void 0||t.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(l.startState.field(ja)!=e||l.docChanged||l.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:l}=this,t=l.state.field(ja),e=t!=null&&l.coordsAtPos(t);if(!e)return null;let i=l.scrollDOM.getBoundingClientRect();return{left:e.left-i.left+l.scrollDOM.scrollLeft*l.scaleX,top:e.top-i.top+l.scrollDOM.scrollTop*l.scaleY,height:e.bottom-e.top}}drawCursor(l){if(this.cursor){let{scaleX:t,scaleY:e}=this.view;l?(this.cursor.style.left=l.left/t+"px",this.cursor.style.top=l.top/e+"px",this.cursor.style.height=l.height/e+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(l){this.view.state.field(ja)!=l&&this.view.dispatch({effects:Ix.of(l)})}},{eventObservers:{dragover(l){this.setDropPos(this.view.posAtCoords({x:l.clientX,y:l.clientY}))},dragleave(l){(l.target==this.view.contentDOM||!this.view.contentDOM.contains(l.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function g_(){return[ja,m_]}function uv(l,t,e,i,r){t.lastIndex=0;for(let a=l.iterRange(e,i),u=e,f;!a.next().done;u+=a.value.length)if(!a.lineBreak)for(;f=t.exec(a.value);)r(u+f.index,f)}function p_(l,t){let e=l.visibleRanges;if(e.length==1&&e[0].from==l.viewport.from&&e[0].to==l.viewport.to)return e;let i=[];for(let{from:r,to:a}of e)r=Math.max(l.state.doc.lineAt(r).from,r-t),a=Math.min(l.state.doc.lineAt(a).to,a+t),i.length&&i[i.length-1].to>=r?i[i.length-1].to=a:i.push({from:r,to:a});return i}class y_{constructor(t){const{regexp:e,decoration:i,decorate:r,boundary:a,maxLength:u=1e3}=t;if(!e.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=e,r)this.addMatch=(f,c,d,g)=>r(g,d,d+f[0].length,f,c);else if(typeof i=="function")this.addMatch=(f,c,d,g)=>{let y=i(f,c,d);y&&g(d,d+f[0].length,y)};else if(i)this.addMatch=(f,c,d,g)=>g(d,d+f[0].length,i);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=a,this.maxLength=u}createDeco(t){let e=new Fl,i=e.add.bind(e);for(let{from:r,to:a}of p_(t,this.maxLength))uv(t.state.doc,this.regexp,r,a,(u,f)=>this.addMatch(f,t,u,i));return e.finish()}updateDeco(t,e){let i=1e9,r=-1;return t.docChanged&&t.changes.iterChanges((a,u,f,c)=>{c>t.view.viewport.from&&f<t.view.viewport.to&&(i=Math.min(f,i),r=Math.max(c,r))}),t.viewportChanged||r-i>1e3?this.createDeco(t.view):r>-1?this.updateRange(t.view,e.map(t.changes),i,r):e}updateRange(t,e,i,r){for(let a of t.visibleRanges){let u=Math.max(a.from,i),f=Math.min(a.to,r);if(f>u){let c=t.state.doc.lineAt(u),d=c.to<f?t.state.doc.lineAt(f):c,g=Math.max(a.from,c.from),y=Math.min(a.to,d.to);if(this.boundary){for(;u>c.from;u--)if(this.boundary.test(c.text[u-1-c.from])){g=u;break}for(;f<d.to;f++)if(this.boundary.test(d.text[f-d.from])){y=f;break}}let b=[],x,w=(_,O,M)=>b.push(M.range(_,O));if(c==d)for(this.regexp.lastIndex=g-c.from;(x=this.regexp.exec(c.text))&&x.index<y-c.from;)this.addMatch(x,t,x.index+c.from,w);else uv(t.state.doc,this.regexp,g,y,(_,O)=>this.addMatch(O,t,_,w));e=e.update({filterFrom:g,filterTo:y,filter:(_,O)=>_<g||O>y,add:b})}}return e}}const wm=/x/.unicode!=null?"gu":"g",v_=new RegExp(`[\0-\b
--\u2028\u2029\uFEFF-]`,wm),b_={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let bd=null;function x_(){var l;if(bd==null&&typeof document<"u"&&document.body){let t=document.body.style;bd=((l=t.tabSize)!==null&&l!==void 0?l:t.MozTabSize)!=null}return bd||!1}const sf=_t.define({combine(l){let t=Gn(l,{render:null,specialChars:v_,addSpecialChars:null});return(t.replaceTabs=!x_())&&(t.specialChars=new RegExp("	|"+t.specialChars.source,wm)),t.addSpecialChars&&(t.specialChars=new RegExp(t.specialChars.source+"|"+t.addSpecialChars.source,wm)),t}});function S_(l={}){return[sf.of(l),w_()]}let fv=null;function w_(){return fv||(fv=Ue.fromClass(class{constructor(l){this.view=l,this.decorations=Dt.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(l.state.facet(sf)),this.decorations=this.decorator.createDeco(l)}makeDecorator(l){return new y_({regexp:l.specialChars,decoration:(t,e,i)=>{let{doc:r}=e.state,a=ai(t[0],0);if(a==9){let u=r.lineAt(i),f=e.state.tabSize,c=Ns(u.text,f,i-u.from);return Dt.replace({widget:new __((f-c%f)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[a]||(this.decorationCache[a]=Dt.replace({widget:new C_(l,a)}))},boundary:l.replaceTabs?void 0:/[^]/})}update(l){let t=l.state.facet(sf);l.startState.facet(sf)!=t?(this.decorator=this.makeDecorator(t),this.decorations=this.decorator.createDeco(l.view)):this.decorations=this.decorator.updateDeco(l,this.decorations)}},{decorations:l=>l.decorations}))}const k_="";function A_(l){return l>=32?k_:l==10?"":String.fromCharCode(9216+l)}class C_ extends dl{constructor(t,e){super(),this.options=t,this.code=e}eq(t){return t.code==this.code}toDOM(t){let e=A_(this.code),i=t.state.phrase("Control character")+" "+(b_[this.code]||"0x"+this.code.toString(16)),r=this.options.render&&this.options.render(this.code,i,e);if(r)return r;let a=document.createElement("span");return a.textContent=e,a.title=i,a.setAttribute("aria-label",i),a.className="cm-specialChar",a}ignoreEvent(){return!1}}class __ extends dl{constructor(t){super(),this.width=t}eq(t){return t.width==this.width}toDOM(){let t=document.createElement("span");return t.textContent="	",t.className="cm-tab",t.style.width=this.width+"px",t}ignoreEvent(){return!1}}function T_(){return M_}const O_=Dt.line({class:"cm-activeLine"}),M_=Ue.fromClass(class{constructor(l){this.decorations=this.getDeco(l)}update(l){(l.docChanged||l.selectionSet)&&(this.decorations=this.getDeco(l.view))}getDeco(l){let t=-1,e=[];for(let i of l.state.selection.ranges){let r=l.lineBlockAt(i.head);r.from>t&&(e.push(O_.range(r.from)),t=r.from)}return Dt.set(e)}},{decorations:l=>l.decorations});class E_ extends dl{constructor(t){super(),this.content=t}toDOM(t){let e=document.createElement("span");return e.className="cm-placeholder",e.style.pointerEvents="none",e.appendChild(typeof this.content=="string"?document.createTextNode(this.content):typeof this.content=="function"?this.content(t):this.content.cloneNode(!0)),typeof this.content=="string"?e.setAttribute("aria-label","placeholder "+this.content):e.setAttribute("aria-hidden","true"),e}coordsAt(t){let e=t.firstChild?Ts(t.firstChild):[];if(!e.length)return null;let i=window.getComputedStyle(t.parentNode),r=fo(e[0],i.direction!="rtl"),a=parseInt(i.lineHeight);return r.bottom-r.top>a*1.5?{left:r.left,right:r.right,top:r.top,bottom:r.top+a}:r}ignoreEvent(){return!1}}function D_(l){return Ue.fromClass(class{constructor(t){this.view=t,this.placeholder=l?Dt.set([Dt.widget({widget:new E_(l),side:1}).range(0)]):Dt.none}get decorations(){return this.view.state.doc.length?Dt.none:this.placeholder}},{decorations:t=>t.decorations})}const km=2e3;function R_(l,t,e){let i=Math.min(t.line,e.line),r=Math.max(t.line,e.line),a=[];if(t.off>km||e.off>km||t.col<0||e.col<0){let u=Math.min(t.off,e.off),f=Math.max(t.off,e.off);for(let c=i;c<=r;c++){let d=l.doc.line(c);d.length<=f&&a.push(ot.range(d.from+u,d.to+f))}}else{let u=Math.min(t.col,e.col),f=Math.max(t.col,e.col);for(let c=i;c<=r;c++){let d=l.doc.line(c),g=$d(d.text,u,l.tabSize,!0);if(g<0)a.push(ot.cursor(d.to));else{let y=$d(d.text,f,l.tabSize);a.push(ot.range(d.from+g,d.from+y))}}}return a}function B_(l,t){let e=l.coordsAtPos(l.viewport.from);return e?Math.round(Math.abs((e.left-t)/l.defaultCharacterWidth)):-1}function hv(l,t){let e=l.posAtCoords({x:t.clientX,y:t.clientY},!1),i=l.state.doc.lineAt(e),r=e-i.from,a=r>km?-1:r==i.length?B_(l,t.clientX):Ns(i.text,l.state.tabSize,e-i.from);return{line:i.number,col:a,off:r}}function N_(l,t){let e=hv(l,t),i=l.state.selection;return e?{update(r){if(r.docChanged){let a=r.changes.mapPos(r.startState.doc.line(e.line).from),u=r.state.doc.lineAt(a);e={line:u.number,col:e.col,off:Math.min(e.off,u.length)},i=i.map(r.changes)}},get(r,a,u){let f=hv(l,r);if(!f)return i;let c=R_(l.state,e,f);return c.length?u?ot.create(c.concat(i.ranges)):ot.create(c):i}}:null}function z_(l){let t=e=>e.altKey&&e.button==0;return At.mouseSelectionStyle.of((e,i)=>t(i)?N_(e,i):null)}const L_={Alt:[18,l=>!!l.altKey],Control:[17,l=>!!l.ctrlKey],Shift:[16,l=>!!l.shiftKey],Meta:[91,l=>!!l.metaKey]},H_={style:"cursor: crosshair"};function U_(l={}){let[t,e]=L_[l.key||"Alt"],i=Ue.fromClass(class{constructor(r){this.view=r,this.isDown=!1}set(r){this.isDown!=r&&(this.isDown=r,this.view.update([]))}},{eventObservers:{keydown(r){this.set(r.keyCode==t||e(r))},keyup(r){(r.keyCode==t||!e(r))&&this.set(!1)},mousemove(r){this.set(e(r))}}});return[i,At.contentAttributes.of(r=>{var a;return!((a=r.plugin(i))===null||a===void 0)&&a.isDown?H_:null})]}const Ba="-10000px";class Fx{constructor(t,e,i,r){this.facet=e,this.createTooltipView=i,this.removeTooltipView=r,this.input=t.state.facet(e),this.tooltips=this.input.filter(u=>u);let a=null;this.tooltipViews=this.tooltips.map(u=>a=i(u,a))}update(t,e){var i;let r=t.state.facet(this.facet),a=r.filter(c=>c);if(r===this.input){for(let c of this.tooltipViews)c.update&&c.update(t);return!1}let u=[],f=e?[]:null;for(let c=0;c<a.length;c++){let d=a[c],g=-1;if(d){for(let y=0;y<this.tooltips.length;y++){let b=this.tooltips[y];b&&b.create==d.create&&(g=y)}if(g<0)u[c]=this.createTooltipView(d,c?u[c-1]:null),f&&(f[c]=!!d.above);else{let y=u[c]=this.tooltipViews[g];f&&(f[c]=e[g]),y.update&&y.update(t)}}}for(let c of this.tooltipViews)u.indexOf(c)<0&&(this.removeTooltipView(c),(i=c.destroy)===null||i===void 0||i.call(c));return e&&(f.forEach((c,d)=>e[d]=c),e.length=f.length),this.input=r,this.tooltips=a,this.tooltipViews=u,!0}}function V_(l){let{win:t}=l;return{top:0,left:0,bottom:t.innerHeight,right:t.innerWidth}}const xd=_t.define({combine:l=>{var t,e,i;return{position:Tt.ios?"absolute":((t=l.find(r=>r.position))===null||t===void 0?void 0:t.position)||"fixed",parent:((e=l.find(r=>r.parent))===null||e===void 0?void 0:e.parent)||null,tooltipSpace:((i=l.find(r=>r.tooltipSpace))===null||i===void 0?void 0:i.tooltipSpace)||V_}}}),cv=new WeakMap,rg=Ue.fromClass(class{constructor(l){this.view=l,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let t=l.state.facet(xd);this.position=t.position,this.parent=t.parent,this.classes=l.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new Fx(l,sg,(e,i)=>this.createTooltip(e,i),e=>{this.resizeObserver&&this.resizeObserver.unobserve(e.dom),e.dom.remove()}),this.above=this.manager.tooltips.map(e=>!!e.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(e=>{Date.now()>this.lastTransaction-50&&e.length>0&&e[e.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),l.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let l of this.manager.tooltipViews)this.intersectionObserver.observe(l.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(l){l.transactions.length&&(this.lastTransaction=Date.now());let t=this.manager.update(l,this.above);t&&this.observeIntersection();let e=t||l.geometryChanged,i=l.state.facet(xd);if(i.position!=this.position&&!this.madeAbsolute){this.position=i.position;for(let r of this.manager.tooltipViews)r.dom.style.position=this.position;e=!0}if(i.parent!=this.parent){this.parent&&this.container.remove(),this.parent=i.parent,this.createContainer();for(let r of this.manager.tooltipViews)this.container.appendChild(r.dom);e=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);e&&this.maybeMeasure()}createTooltip(l,t){let e=l.create(this.view),i=t?t.dom:null;if(e.dom.classList.add("cm-tooltip"),l.arrow&&!e.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let r=document.createElement("div");r.className="cm-tooltip-arrow",e.dom.appendChild(r)}return e.dom.style.position=this.position,e.dom.style.top=Ba,e.dom.style.left="0px",this.container.insertBefore(e.dom,i),e.mount&&e.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(e.dom),e}destroy(){var l,t,e;this.view.win.removeEventListener("resize",this.measureSoon);for(let i of this.manager.tooltipViews)i.dom.remove(),(l=i.destroy)===null||l===void 0||l.call(i);this.parent&&this.container.remove(),(t=this.resizeObserver)===null||t===void 0||t.disconnect(),(e=this.intersectionObserver)===null||e===void 0||e.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let l=this.view.dom.getBoundingClientRect(),t=1,e=1,i=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:r}=this.manager.tooltipViews[0];if(Tt.gecko)i=r.offsetParent!=this.container.ownerDocument.body;else if(r.style.top==Ba&&r.style.left=="0px"){let a=r.getBoundingClientRect();i=Math.abs(a.top+1e4)>1||Math.abs(a.left)>1}}if(i||this.position=="absolute")if(this.parent){let r=this.parent.getBoundingClientRect();r.width&&r.height&&(t=r.width/this.parent.offsetWidth,e=r.height/this.parent.offsetHeight)}else({scaleX:t,scaleY:e}=this.view.viewState);return{editor:l,parent:this.parent?this.container.getBoundingClientRect():l,pos:this.manager.tooltips.map((r,a)=>{let u=this.manager.tooltipViews[a];return u.getCoords?u.getCoords(r.pos):this.view.coordsAtPos(r.pos)}),size:this.manager.tooltipViews.map(({dom:r})=>r.getBoundingClientRect()),space:this.view.state.facet(xd).tooltipSpace(this.view),scaleX:t,scaleY:e,makeAbsolute:i}}writeMeasure(l){var t;if(l.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let f of this.manager.tooltipViews)f.dom.style.position="absolute"}let{editor:e,space:i,scaleX:r,scaleY:a}=l,u=[];for(let f=0;f<this.manager.tooltips.length;f++){let c=this.manager.tooltips[f],d=this.manager.tooltipViews[f],{dom:g}=d,y=l.pos[f],b=l.size[f];if(!y||y.bottom<=Math.max(e.top,i.top)||y.top>=Math.min(e.bottom,i.bottom)||y.right<Math.max(e.left,i.left)-.1||y.left>Math.min(e.right,i.right)+.1){g.style.top=Ba;continue}let x=c.arrow?d.dom.querySelector(".cm-tooltip-arrow"):null,w=x?7:0,_=b.right-b.left,O=(t=cv.get(d))!==null&&t!==void 0?t:b.bottom-b.top,M=d.offset||j_,B=this.view.textDirection==ke.LTR,j=b.width>i.right-i.left?B?i.left:i.right-b.width:B?Math.max(i.left,Math.min(y.left-(x?14:0)+M.x,i.right-_)):Math.min(Math.max(i.left,y.left-_+(x?14:0)-M.x),i.right-_),et=this.above[f];!c.strictSide&&(et?y.top-(b.bottom-b.top)-M.y<i.top:y.bottom+(b.bottom-b.top)+M.y>i.bottom)&&et==i.bottom-y.bottom>y.top-i.top&&(et=this.above[f]=!et);let L=(et?y.top-i.top:i.bottom-y.bottom)-w;if(L<O&&d.resize!==!1){if(L<this.view.defaultLineHeight){g.style.top=Ba;continue}cv.set(d,O),g.style.height=(O=L)/a+"px"}else g.style.height&&(g.style.height="");let Q=et?y.top-O-w-M.y:y.bottom+w+M.y,Z=j+_;if(d.overlap!==!0)for(let nt of u)nt.left<Z&&nt.right>j&&nt.top<Q+O&&nt.bottom>Q&&(Q=et?nt.top-O-2-w:nt.bottom+w+2);if(this.position=="absolute"?(g.style.top=(Q-l.parent.top)/a+"px",g.style.left=(j-l.parent.left)/r+"px"):(g.style.top=Q/a+"px",g.style.left=j/r+"px"),x){let nt=y.left+(B?M.x:-M.x)-(j+14-7);x.style.left=nt/r+"px"}d.overlap!==!0&&u.push({left:j,top:Q,right:Z,bottom:Q+O}),g.classList.toggle("cm-tooltip-above",et),g.classList.toggle("cm-tooltip-below",!et),d.positioned&&d.positioned(l.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let l of this.manager.tooltipViews)l.dom.style.top=Ba}},{eventObservers:{scroll(){this.maybeMeasure()}}}),q_=At.baseTheme({".cm-tooltip":{zIndex:100,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),j_={x:0,y:0},sg=_t.define({enables:[rg,q_]}),vf=_t.define({combine:l=>l.reduce((t,e)=>t.concat(e),[])});class Yf{static create(t){return new Yf(t)}constructor(t){this.view=t,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new Fx(t,vf,(e,i)=>this.createHostedView(e,i),e=>e.dom.remove())}createHostedView(t,e){let i=t.create(this.view);return i.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(i.dom,e?e.dom.nextSibling:this.dom.firstChild),this.mounted&&i.mount&&i.mount(this.view),i}mount(t){for(let e of this.manager.tooltipViews)e.mount&&e.mount(t);this.mounted=!0}positioned(t){for(let e of this.manager.tooltipViews)e.positioned&&e.positioned(t)}update(t){this.manager.update(t)}destroy(){var t;for(let e of this.manager.tooltipViews)(t=e.destroy)===null||t===void 0||t.call(e)}passProp(t){let e;for(let i of this.manager.tooltipViews){let r=i[t];if(r!==void 0){if(e===void 0)e=r;else if(e!==r)return}}return e}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const Q_=sg.compute([vf],l=>{let t=l.facet(vf);return t.length===0?null:{pos:Math.min(...t.map(e=>e.pos)),end:Math.max(...t.map(e=>{var i;return(i=e.end)!==null&&i!==void 0?i:e.pos})),create:Yf.create,above:t[0].above,arrow:t.some(e=>e.arrow)}});class Y_{constructor(t,e,i,r,a){this.view=t,this.source=e,this.field=i,this.setHover=r,this.hoverTime=a,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:t.dom,time:0},this.checkHover=this.checkHover.bind(this),t.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),t.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let t=Date.now()-this.lastMove.time;t<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-t):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:t,lastMove:e}=this,i=t.docView.nearest(e.target);if(!i)return;let r,a=1;if(i instanceof Pl)r=i.posAtStart;else{if(r=t.posAtCoords(e),r==null)return;let f=t.coordsAtPos(r);if(!f||e.y<f.top||e.y>f.bottom||e.x<f.left-t.defaultCharacterWidth||e.x>f.right+t.defaultCharacterWidth)return;let c=t.bidiSpans(t.state.doc.lineAt(r)).find(g=>g.from<=r&&g.to>=r),d=c&&c.dir==ke.RTL?-1:1;a=e.x<f.left?-d:d}let u=this.source(t,r,a);if(u!=null&&u.then){let f=this.pending={pos:r};u.then(c=>{this.pending==f&&(this.pending=null,c&&!(Array.isArray(c)&&!c.length)&&t.dispatch({effects:this.setHover.of(Array.isArray(c)?c:[c])}))},c=>Li(t.state,c,"hover tooltip"))}else u&&!(Array.isArray(u)&&!u.length)&&t.dispatch({effects:this.setHover.of(Array.isArray(u)?u:[u])})}get tooltip(){let t=this.view.plugin(rg),e=t?t.manager.tooltips.findIndex(i=>i.create==Yf.create):-1;return e>-1?t.manager.tooltipViews[e]:null}mousemove(t){var e,i;this.lastMove={x:t.clientX,y:t.clientY,target:t.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:r,tooltip:a}=this;if(r.length&&a&&!P_(a.dom,t)||this.pending){let{pos:u}=r[0]||this.pending,f=(i=(e=r[0])===null||e===void 0?void 0:e.end)!==null&&i!==void 0?i:u;(u==f?this.view.posAtCoords(this.lastMove)!=u:!G_(this.view,u,f,t.clientX,t.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(t){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:e}=this;if(e.length){let{tooltip:i}=this;i&&i.dom.contains(t.relatedTarget)?this.watchTooltipLeave(i.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(t){let e=i=>{t.removeEventListener("mouseleave",e),this.active.length&&!this.view.dom.contains(i.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};t.addEventListener("mouseleave",e)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const ju=4;function P_(l,t){let{left:e,right:i,top:r,bottom:a}=l.getBoundingClientRect(),u;if(u=l.querySelector(".cm-tooltip-arrow")){let f=u.getBoundingClientRect();r=Math.min(f.top,r),a=Math.max(f.bottom,a)}return t.clientX>=e-ju&&t.clientX<=i+ju&&t.clientY>=r-ju&&t.clientY<=a+ju}function G_(l,t,e,i,r,a){let u=l.scrollDOM.getBoundingClientRect(),f=l.documentTop+l.documentPadding.top+l.contentHeight;if(u.left>i||u.right<i||u.top>r||Math.min(u.bottom,f)<r)return!1;let c=l.posAtCoords({x:i,y:r},!1);return c>=t&&c<=e}function X_(l,t={}){let e=Ut.define(),i=hi.define({create(){return[]},update(r,a){if(r.length&&(t.hideOnChange&&(a.docChanged||a.selection)?r=[]:t.hideOn&&(r=r.filter(u=>!t.hideOn(a,u))),a.docChanged)){let u=[];for(let f of r){let c=a.changes.mapPos(f.pos,-1,wi.TrackDel);if(c!=null){let d=Object.assign(Object.create(null),f);d.pos=c,d.end!=null&&(d.end=a.changes.mapPos(d.end)),u.push(d)}}r=u}for(let u of a.effects)u.is(e)&&(r=u.value),u.is(Z_)&&(r=[]);return r},provide:r=>vf.from(r)});return{active:i,extension:[i,Ue.define(r=>new Y_(r,l,i,e,t.hoverTime||300)),Q_]}}function Wx(l,t){let e=l.plugin(rg);if(!e)return null;let i=e.manager.tooltips.indexOf(t);return i<0?null:e.manager.tooltipViews[i]}const Z_=Ut.define(),dv=_t.define({combine(l){let t,e;for(let i of l)t=t||i.topContainer,e=e||i.bottomContainer;return{topContainer:t,bottomContainer:e}}});function eo(l,t){let e=l.plugin(Jx),i=e?e.specs.indexOf(t):-1;return i>-1?e.panels[i]:null}const Jx=Ue.fromClass(class{constructor(l){this.input=l.state.facet(io),this.specs=this.input.filter(e=>e),this.panels=this.specs.map(e=>e(l));let t=l.state.facet(dv);this.top=new Qu(l,!0,t.topContainer),this.bottom=new Qu(l,!1,t.bottomContainer),this.top.sync(this.panels.filter(e=>e.top)),this.bottom.sync(this.panels.filter(e=>!e.top));for(let e of this.panels)e.dom.classList.add("cm-panel"),e.mount&&e.mount()}update(l){let t=l.state.facet(dv);this.top.container!=t.topContainer&&(this.top.sync([]),this.top=new Qu(l.view,!0,t.topContainer)),this.bottom.container!=t.bottomContainer&&(this.bottom.sync([]),this.bottom=new Qu(l.view,!1,t.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let e=l.state.facet(io);if(e!=this.input){let i=e.filter(c=>c),r=[],a=[],u=[],f=[];for(let c of i){let d=this.specs.indexOf(c),g;d<0?(g=c(l.view),f.push(g)):(g=this.panels[d],g.update&&g.update(l)),r.push(g),(g.top?a:u).push(g)}this.specs=i,this.panels=r,this.top.sync(a),this.bottom.sync(u);for(let c of f)c.dom.classList.add("cm-panel"),c.mount&&c.mount()}else for(let i of this.panels)i.update&&i.update(l)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:l=>At.scrollMargins.of(t=>{let e=t.plugin(l);return e&&{top:e.top.scrollMargin(),bottom:e.bottom.scrollMargin()}})});class Qu{constructor(t,e,i){this.view=t,this.top=e,this.container=i,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(t){for(let e of this.panels)e.destroy&&t.indexOf(e)<0&&e.destroy();this.panels=t,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let e=this.container||this.view.dom;e.insertBefore(this.dom,this.top?e.firstChild:null)}let t=this.dom.firstChild;for(let e of this.panels)if(e.dom.parentNode==this.dom){for(;t!=e.dom;)t=mv(t);t=t.nextSibling}else this.dom.insertBefore(e.dom,t);for(;t;)t=mv(t)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let t of this.classes.split(" "))t&&this.container.classList.remove(t);for(let t of(this.classes=this.view.themeClasses).split(" "))t&&this.container.classList.add(t)}}}function mv(l){let t=l.nextSibling;return l.remove(),t}const io=_t.define({enables:Jx});class cl extends _r{compare(t){return this==t||this.constructor==t.constructor&&this.eq(t)}eq(t){return!1}destroy(t){}}cl.prototype.elementClass="";cl.prototype.toDOM=void 0;cl.prototype.mapMode=wi.TrackBefore;cl.prototype.startSide=cl.prototype.endSide=-1;cl.prototype.point=!0;const af=_t.define(),K_=_t.define(),I_={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>ee.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},Xa=_t.define();function F_(l){return[$x(),Xa.of(Object.assign(Object.assign({},I_),l))]}const gv=_t.define({combine:l=>l.some(t=>t)});function $x(l){return[W_]}const W_=Ue.fromClass(class{constructor(l){this.view=l,this.prevViewport=l.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=l.state.facet(Xa).map(t=>new yv(l,t));for(let t of this.gutters)this.dom.appendChild(t.dom);this.fixed=!l.state.facet(gv),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),l.scrollDOM.insertBefore(this.dom,l.contentDOM)}update(l){if(this.updateGutters(l)){let t=this.prevViewport,e=l.view.viewport,i=Math.min(t.to,e.to)-Math.max(t.from,e.from);this.syncGutters(i<(e.to-e.from)*.8)}l.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px"),this.view.state.facet(gv)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=l.view.viewport}syncGutters(l){let t=this.dom.nextSibling;l&&this.dom.remove();let e=ee.iter(this.view.state.facet(af),this.view.viewport.from),i=[],r=this.gutters.map(a=>new J_(a,this.view.viewport,-this.view.documentPadding.top));for(let a of this.view.viewportLineBlocks)if(i.length&&(i=[]),Array.isArray(a.type)){let u=!0;for(let f of a.type)if(f.type==ki.Text&&u){Am(e,i,f.from);for(let c of r)c.line(this.view,f,i);u=!1}else if(f.widget)for(let c of r)c.widget(this.view,f)}else if(a.type==ki.Text){Am(e,i,a.from);for(let u of r)u.line(this.view,a,i)}else if(a.widget)for(let u of r)u.widget(this.view,a);for(let a of r)a.finish();l&&this.view.scrollDOM.insertBefore(this.dom,t)}updateGutters(l){let t=l.startState.facet(Xa),e=l.state.facet(Xa),i=l.docChanged||l.heightChanged||l.viewportChanged||!ee.eq(l.startState.facet(af),l.state.facet(af),l.view.viewport.from,l.view.viewport.to);if(t==e)for(let r of this.gutters)r.update(l)&&(i=!0);else{i=!0;let r=[];for(let a of e){let u=t.indexOf(a);u<0?r.push(new yv(this.view,a)):(this.gutters[u].update(l),r.push(this.gutters[u]))}for(let a of this.gutters)a.dom.remove(),r.indexOf(a)<0&&a.destroy();for(let a of r)this.dom.appendChild(a.dom);this.gutters=r}return i}destroy(){for(let l of this.gutters)l.destroy();this.dom.remove()}},{provide:l=>At.scrollMargins.of(t=>{let e=t.plugin(l);return!e||e.gutters.length==0||!e.fixed?null:t.textDirection==ke.LTR?{left:e.dom.offsetWidth*t.scaleX}:{right:e.dom.offsetWidth*t.scaleX}})});function pv(l){return Array.isArray(l)?l:[l]}function Am(l,t,e){for(;l.value&&l.from<=e;)l.from==e&&t.push(l.value),l.next()}class J_{constructor(t,e,i){this.gutter=t,this.height=i,this.i=0,this.cursor=ee.iter(t.markers,e.from)}addElement(t,e,i){let{gutter:r}=this,a=(e.top-this.height)/t.scaleY,u=e.height/t.scaleY;if(this.i==r.elements.length){let f=new tS(t,u,a,i);r.elements.push(f),r.dom.appendChild(f.dom)}else r.elements[this.i].update(t,u,a,i);this.height=e.bottom,this.i++}line(t,e,i){let r=[];Am(this.cursor,r,e.from),i.length&&(r=r.concat(i));let a=this.gutter.config.lineMarker(t,e,r);a&&r.unshift(a);let u=this.gutter;r.length==0&&!u.config.renderEmptyElements||this.addElement(t,e,r)}widget(t,e){let i=this.gutter.config.widgetMarker(t,e.widget,e),r=i?[i]:null;for(let a of t.state.facet(K_)){let u=a(t,e.widget,e);u&&(r||(r=[])).push(u)}r&&this.addElement(t,e,r)}finish(){let t=this.gutter;for(;t.elements.length>this.i;){let e=t.elements.pop();t.dom.removeChild(e.dom),e.destroy()}}}class yv{constructor(t,e){this.view=t,this.config=e,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let i in e.domEventHandlers)this.dom.addEventListener(i,r=>{let a=r.target,u;if(a!=this.dom&&this.dom.contains(a)){for(;a.parentNode!=this.dom;)a=a.parentNode;let c=a.getBoundingClientRect();u=(c.top+c.bottom)/2}else u=r.clientY;let f=t.lineBlockAtHeight(u-t.documentTop);e.domEventHandlers[i](t,f,r)&&r.preventDefault()});this.markers=pv(e.markers(t)),e.initialSpacer&&(this.spacer=new tS(t,0,0,[e.initialSpacer(t)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(t){let e=this.markers;if(this.markers=pv(this.config.markers(t.view)),this.spacer&&this.config.updateSpacer){let r=this.config.updateSpacer(this.spacer.markers[0],t);r!=this.spacer.markers[0]&&this.spacer.update(t.view,0,0,[r])}let i=t.view.viewport;return!ee.eq(this.markers,e,i.from,i.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(t):!1)}destroy(){for(let t of this.elements)t.destroy()}}class tS{constructor(t,e,i,r){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(t,e,i,r)}update(t,e,i,r){this.height!=e&&(this.height=e,this.dom.style.height=e+"px"),this.above!=i&&(this.dom.style.marginTop=(this.above=i)?i+"px":""),$_(this.markers,r)||this.setMarkers(t,r)}setMarkers(t,e){let i="cm-gutterElement",r=this.dom.firstChild;for(let a=0,u=0;;){let f=u,c=a<e.length?e[a++]:null,d=!1;if(c){let g=c.elementClass;g&&(i+=" "+g);for(let y=u;y<this.markers.length;y++)if(this.markers[y].compare(c)){f=y,d=!0;break}}else f=this.markers.length;for(;u<f;){let g=this.markers[u++];if(g.toDOM){g.destroy(r);let y=r.nextSibling;r.remove(),r=y}}if(!c)break;c.toDOM&&(d?r=r.nextSibling:this.dom.insertBefore(c.toDOM(t),r)),d&&u++}this.dom.className=i,this.markers=e}destroy(){this.setMarkers(null,[])}}function $_(l,t){if(l.length!=t.length)return!1;for(let e=0;e<l.length;e++)if(!l[e].compare(t[e]))return!1;return!0}const tT=_t.define(),eT=_t.define(),ps=_t.define({combine(l){return Gn(l,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(t,e){let i=Object.assign({},t);for(let r in e){let a=i[r],u=e[r];i[r]=a?(f,c,d)=>a(f,c,d)||u(f,c,d):u}return i}})}});class Sd extends cl{constructor(t){super(),this.number=t}eq(t){return this.number==t.number}toDOM(){return document.createTextNode(this.number)}}function wd(l,t){return l.state.facet(ps).formatNumber(t,l.state)}const iT=Xa.compute([ps],l=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(t){return t.state.facet(tT)},lineMarker(t,e,i){return i.some(r=>r.toDOM)?null:new Sd(wd(t,t.state.doc.lineAt(e.from).number))},widgetMarker:(t,e,i)=>{for(let r of t.state.facet(eT)){let a=r(t,e,i);if(a)return a}return null},lineMarkerChange:t=>t.startState.facet(ps)!=t.state.facet(ps),initialSpacer(t){return new Sd(wd(t,vv(t.state.doc.lines)))},updateSpacer(t,e){let i=wd(e.view,vv(e.view.state.doc.lines));return i==t.number?t:new Sd(i)},domEventHandlers:l.facet(ps).domEventHandlers}));function nT(l={}){return[ps.of(l),$x(),iT]}function vv(l){let t=9;for(;t<l;)t=t*10+9;return t}const lT=new class extends cl{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},rT=af.compute(["selection"],l=>{let t=[],e=-1;for(let i of l.selection.ranges){let r=l.doc.lineAt(i.head).from;r>e&&(e=r,t.push(lT.range(r)))}return ee.of(t)});function sT(){return rT}let aT=0;class un{constructor(t,e,i,r){this.name=t,this.set=e,this.base=i,this.modified=r,this.id=aT++}toString(){let{name:t}=this;for(let e of this.modified)e.name&&(t=`${e.name}(${t})`);return t}static define(t,e){let i=typeof t=="string"?t:"?";if(t instanceof un&&(e=t),e!=null&&e.base)throw new Error("Can not derive from a modified tag");let r=new un(i,[],null,[]);if(r.set.push(r),e)for(let a of e.set)r.set.push(a);return r}static defineModifier(t){let e=new bf(t);return i=>i.modified.indexOf(e)>-1?i:bf.get(i.base||i,i.modified.concat(e).sort((r,a)=>r.id-a.id))}}let oT=0;class bf{constructor(t){this.name=t,this.instances=[],this.id=oT++}static get(t,e){if(!e.length)return t;let i=e[0].instances.find(f=>f.base==t&&uT(e,f.modified));if(i)return i;let r=[],a=new un(t.name,r,t,e);for(let f of e)f.instances.push(a);let u=fT(e);for(let f of t.set)if(!f.modified.length)for(let c of u)r.push(bf.get(f,c));return a}}function uT(l,t){return l.length==t.length&&l.every((e,i)=>e==t[i])}function fT(l){let t=[[]];for(let e=0;e<l.length;e++)for(let i=0,r=t.length;i<r;i++)t.push(t[i].concat(l[e]));return t.sort((e,i)=>i.length-e.length)}function eS(l){let t=Object.create(null);for(let e in l){let i=l[e];Array.isArray(i)||(i=[i]);for(let r of e.split(" "))if(r){let a=[],u=2,f=r;for(let y=0;;){if(f=="..."&&y>0&&y+3==r.length){u=1;break}let b=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(f);if(!b)throw new RangeError("Invalid path: "+r);if(a.push(b[0]=="*"?"":b[0][0]=='"'?JSON.parse(b[0]):b[0]),y+=b[0].length,y==r.length)break;let x=r[y++];if(y==r.length&&x=="!"){u=0;break}if(x!="/")throw new RangeError("Invalid path: "+r);f=r.slice(y)}let c=a.length-1,d=a[c];if(!d)throw new RangeError("Invalid path: "+r);let g=new xf(i,u,c>0?a.slice(0,c):null);t[d]=g.sort(t[d])}}return iS.add(t)}const iS=new Gt;class xf{constructor(t,e,i,r){this.tags=t,this.mode=e,this.context=i,this.next=r}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(t){return!t||t.depth<this.depth?(this.next=t,this):(t.next=this.sort(t.next),t)}get depth(){return this.context?this.context.length:0}}xf.empty=new xf([],2,null);function nS(l,t){let e=Object.create(null);for(let a of l)if(!Array.isArray(a.tag))e[a.tag.id]=a.class;else for(let u of a.tag)e[u.id]=a.class;let{scope:i,all:r=null}=t||{};return{style:a=>{let u=r;for(let f of a)for(let c of f.set){let d=e[c.id];if(d){u=u?u+" "+d:d;break}}return u},scope:i}}function hT(l,t){let e=null;for(let i of l){let r=i.style(t);r&&(e=e?e+" "+r:r)}return e}function cT(l,t,e,i=0,r=l.length){let a=new dT(i,Array.isArray(t)?t:[t],e);a.highlightRange(l.cursor(),i,r,"",a.highlighters),a.flush(r)}class dT{constructor(t,e,i){this.at=t,this.highlighters=e,this.span=i,this.class=""}startSpan(t,e){e!=this.class&&(this.flush(t),t>this.at&&(this.at=t),this.class=e)}flush(t){t>this.at&&this.class&&this.span(this.at,t,this.class)}highlightRange(t,e,i,r,a){let{type:u,from:f,to:c}=t;if(f>=i||c<=e)return;u.isTop&&(a=this.highlighters.filter(x=>!x.scope||x.scope(u)));let d=r,g=mT(t)||xf.empty,y=hT(a,g.tags);if(y&&(d&&(d+=" "),d+=y,g.mode==1&&(r+=(r?" ":"")+y)),this.startSpan(Math.max(e,f),d),g.opaque)return;let b=t.tree&&t.tree.prop(Gt.mounted);if(b&&b.overlay){let x=t.node.enter(b.overlay[0].from+f,1),w=this.highlighters.filter(O=>!O.scope||O.scope(b.tree.type)),_=t.firstChild();for(let O=0,M=f;;O++){let B=O<b.overlay.length?b.overlay[O]:null,j=B?B.from+f:c,et=Math.max(e,M),L=Math.min(i,j);if(et<L&&_)for(;t.from<L&&(this.highlightRange(t,et,L,r,a),this.startSpan(Math.min(L,t.to),d),!(t.to>=j||!t.nextSibling())););if(!B||j>i)break;M=B.to+f,M>e&&(this.highlightRange(x.cursor(),Math.max(e,B.from+f),Math.min(i,M),"",w),this.startSpan(Math.min(i,M),d))}_&&t.parent()}else if(t.firstChild()){b&&(r="");do if(!(t.to<=e)){if(t.from>=i)break;this.highlightRange(t,e,i,r,a),this.startSpan(Math.min(i,t.to),d)}while(t.nextSibling());t.parent()}}}function mT(l){let t=l.type.prop(iS);for(;t&&t.context&&!l.matchContext(t.context);)t=t.next;return t||null}const xt=un.define,Yu=xt(),Ul=xt(),bv=xt(Ul),xv=xt(Ul),Vl=xt(),Pu=xt(Vl),kd=xt(Vl),Hn=xt(),vr=xt(Hn),zn=xt(),Ln=xt(),Cm=xt(),Na=xt(Cm),Gu=xt(),I={comment:Yu,lineComment:xt(Yu),blockComment:xt(Yu),docComment:xt(Yu),name:Ul,variableName:xt(Ul),typeName:bv,tagName:xt(bv),propertyName:xv,attributeName:xt(xv),className:xt(Ul),labelName:xt(Ul),namespace:xt(Ul),macroName:xt(Ul),literal:Vl,string:Pu,docString:xt(Pu),character:xt(Pu),attributeValue:xt(Pu),number:kd,integer:xt(kd),float:xt(kd),bool:xt(Vl),regexp:xt(Vl),escape:xt(Vl),color:xt(Vl),url:xt(Vl),keyword:zn,self:xt(zn),null:xt(zn),atom:xt(zn),unit:xt(zn),modifier:xt(zn),operatorKeyword:xt(zn),controlKeyword:xt(zn),definitionKeyword:xt(zn),moduleKeyword:xt(zn),operator:Ln,derefOperator:xt(Ln),arithmeticOperator:xt(Ln),logicOperator:xt(Ln),bitwiseOperator:xt(Ln),compareOperator:xt(Ln),updateOperator:xt(Ln),definitionOperator:xt(Ln),typeOperator:xt(Ln),controlOperator:xt(Ln),punctuation:Cm,separator:xt(Cm),bracket:Na,angleBracket:xt(Na),squareBracket:xt(Na),paren:xt(Na),brace:xt(Na),content:Hn,heading:vr,heading1:xt(vr),heading2:xt(vr),heading3:xt(vr),heading4:xt(vr),heading5:xt(vr),heading6:xt(vr),contentSeparator:xt(Hn),list:xt(Hn),quote:xt(Hn),emphasis:xt(Hn),strong:xt(Hn),link:xt(Hn),monospace:xt(Hn),strikethrough:xt(Hn),inserted:xt(),deleted:xt(),changed:xt(),invalid:xt(),meta:Gu,documentMeta:xt(Gu),annotation:xt(Gu),processingInstruction:xt(Gu),definition:un.defineModifier("definition"),constant:un.defineModifier("constant"),function:un.defineModifier("function"),standard:un.defineModifier("standard"),local:un.defineModifier("local"),special:un.defineModifier("special")};for(let l in I){let t=I[l];t instanceof un&&(t.name=l)}nS([{tag:I.link,class:"tok-link"},{tag:I.heading,class:"tok-heading"},{tag:I.emphasis,class:"tok-emphasis"},{tag:I.strong,class:"tok-strong"},{tag:I.keyword,class:"tok-keyword"},{tag:I.atom,class:"tok-atom"},{tag:I.bool,class:"tok-bool"},{tag:I.url,class:"tok-url"},{tag:I.labelName,class:"tok-labelName"},{tag:I.inserted,class:"tok-inserted"},{tag:I.deleted,class:"tok-deleted"},{tag:I.literal,class:"tok-literal"},{tag:I.string,class:"tok-string"},{tag:I.number,class:"tok-number"},{tag:[I.regexp,I.escape,I.special(I.string)],class:"tok-string2"},{tag:I.variableName,class:"tok-variableName"},{tag:I.local(I.variableName),class:"tok-variableName tok-local"},{tag:I.definition(I.variableName),class:"tok-variableName tok-definition"},{tag:I.special(I.variableName),class:"tok-variableName2"},{tag:I.definition(I.propertyName),class:"tok-propertyName tok-definition"},{tag:I.typeName,class:"tok-typeName"},{tag:I.namespace,class:"tok-namespace"},{tag:I.className,class:"tok-className"},{tag:I.macroName,class:"tok-macroName"},{tag:I.propertyName,class:"tok-propertyName"},{tag:I.operator,class:"tok-operator"},{tag:I.comment,class:"tok-comment"},{tag:I.meta,class:"tok-meta"},{tag:I.invalid,class:"tok-invalid"},{tag:I.punctuation,class:"tok-punctuation"}]);var Ad;const ys=new Gt;function gT(l){return _t.define({combine:l?t=>t.concat(l):void 0})}const pT=new Gt;class wn{constructor(t,e,i=[],r=""){this.data=t,this.name=r,Ft.prototype.hasOwnProperty("tree")||Object.defineProperty(Ft.prototype,"tree",{get(){return ii(this)}}),this.parser=e,this.extension=[tr.of(this),Ft.languageData.of((a,u,f)=>{let c=Sv(a,u,f),d=c.type.prop(ys);if(!d)return[];let g=a.facet(d),y=c.type.prop(pT);if(y){let b=c.resolve(u-c.from,f);for(let x of y)if(x.test(b,a)){let w=a.facet(x.facet);return x.type=="replace"?w:w.concat(g)}}return g})].concat(i)}isActiveAt(t,e,i=-1){return Sv(t,e,i).type.prop(ys)==this.data}findRegions(t){let e=t.facet(tr);if((e==null?void 0:e.data)==this.data)return[{from:0,to:t.doc.length}];if(!e||!e.allowsNesting)return[];let i=[],r=(a,u)=>{if(a.prop(ys)==this.data){i.push({from:u,to:u+a.length});return}let f=a.prop(Gt.mounted);if(f){if(f.tree.prop(ys)==this.data){if(f.overlay)for(let c of f.overlay)i.push({from:c.from+u,to:c.to+u});else i.push({from:u,to:u+a.length});return}else if(f.overlay){let c=i.length;if(r(f.tree,f.overlay[0].from+u),i.length>c)return}}for(let c=0;c<a.children.length;c++){let d=a.children[c];d instanceof Ge&&r(d,a.positions[c]+u)}};return r(ii(t),0),i}get allowsNesting(){return!0}}wn.setState=Ut.define();function Sv(l,t,e){let i=l.facet(tr),r=ii(l).topNode;if(!i||i.allowsNesting)for(let a=r;a;a=a.enter(t,e,ei.ExcludeBuffers))a.type.isTop&&(r=a);return r}class Sf extends wn{constructor(t,e,i){super(t,e,[],i),this.parser=e}static define(t){let e=gT(t.languageData);return new Sf(e,t.parser.configure({props:[ys.add(i=>i.isTop?e:void 0)]}),t.name)}configure(t,e){return new Sf(this.data,this.parser.configure(t),e||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function ii(l){let t=l.field(wn.state,!1);return t?t.tree:Ge.empty}class yT{constructor(t){this.doc=t,this.cursorPos=0,this.string="",this.cursor=t.iter()}get length(){return this.doc.length}syncTo(t){return this.string=this.cursor.next(t-this.cursorPos).value,this.cursorPos=t+this.string.length,this.cursorPos-this.string.length}chunk(t){return this.syncTo(t),this.string}get lineChunks(){return!0}read(t,e){let i=this.cursorPos-this.string.length;return t<i||e>=this.cursorPos?this.doc.sliceString(t,e):this.string.slice(t-i,e-i)}}let za=null;class wf{constructor(t,e,i=[],r,a,u,f,c){this.parser=t,this.state=e,this.fragments=i,this.tree=r,this.treeLen=a,this.viewport=u,this.skipped=f,this.scheduleOn=c,this.parse=null,this.tempSkipped=[]}static create(t,e,i){return new wf(t,e,[],Ge.empty,0,i,[],null)}startParse(){return this.parser.startParse(new yT(this.state.doc),this.fragments)}work(t,e){return e!=null&&e>=this.state.doc.length&&(e=void 0),this.tree!=Ge.empty&&this.isDone(e??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var i;if(typeof t=="number"){let r=Date.now()+t;t=()=>Date.now()>r}for(this.parse||(this.parse=this.startParse()),e!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&e<this.state.doc.length&&this.parse.stopAt(e);;){let r=this.parse.advance();if(r)if(this.fragments=this.withoutTempSkipped(Cr.addTree(r,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(i=this.parse.stoppedAt)!==null&&i!==void 0?i:this.state.doc.length,this.tree=r,this.parse=null,this.treeLen<(e??this.state.doc.length))this.parse=this.startParse();else return!0;if(t())return!1}})}takeTree(){let t,e;this.parse&&(t=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&this.parse.stopAt(t),this.withContext(()=>{for(;!(e=this.parse.advance()););}),this.treeLen=t,this.tree=e,this.fragments=this.withoutTempSkipped(Cr.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(t){let e=za;za=this;try{return t()}finally{za=e}}withoutTempSkipped(t){for(let e;e=this.tempSkipped.pop();)t=wv(t,e.from,e.to);return t}changes(t,e){let{fragments:i,tree:r,treeLen:a,viewport:u,skipped:f}=this;if(this.takeTree(),!t.empty){let c=[];if(t.iterChangedRanges((d,g,y,b)=>c.push({fromA:d,toA:g,fromB:y,toB:b})),i=Cr.applyChanges(i,c),r=Ge.empty,a=0,u={from:t.mapPos(u.from,-1),to:t.mapPos(u.to,1)},this.skipped.length){f=[];for(let d of this.skipped){let g=t.mapPos(d.from,1),y=t.mapPos(d.to,-1);g<y&&f.push({from:g,to:y})}}}return new wf(this.parser,e,i,r,a,u,f,this.scheduleOn)}updateViewport(t){if(this.viewport.from==t.from&&this.viewport.to==t.to)return!1;this.viewport=t;let e=this.skipped.length;for(let i=0;i<this.skipped.length;i++){let{from:r,to:a}=this.skipped[i];r<t.to&&a>t.from&&(this.fragments=wv(this.fragments,r,a),this.skipped.splice(i--,1))}return this.skipped.length>=e?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(t,e){this.skipped.push({from:t,to:e})}static getSkippingParser(t){return new class extends Mb{createParse(e,i,r){let a=r[0].from,u=r[r.length-1].to;return{parsedPos:a,advance(){let c=za;if(c){for(let d of r)c.tempSkipped.push(d);t&&(c.scheduleOn=c.scheduleOn?Promise.all([c.scheduleOn,t]):t)}return this.parsedPos=u,new Ge(Ui.none,[],[],u-a)},stoppedAt:null,stopAt(){}}}}}isDone(t){t=Math.min(t,this.state.doc.length);let e=this.fragments;return this.treeLen>=t&&e.length&&e[0].from==0&&e[0].to>=t}static get(){return za}}function wv(l,t,e){return Cr.applyChanges(l,[{fromA:t,toA:e,fromB:t,toB:e}])}class Ds{constructor(t){this.context=t,this.tree=t.tree}apply(t){if(!t.docChanged&&this.tree==this.context.tree)return this;let e=this.context.changes(t.changes,t.state),i=this.context.treeLen==t.startState.doc.length?void 0:Math.max(t.changes.mapPos(this.context.treeLen),e.viewport.to);return e.work(20,i)||e.takeTree(),new Ds(e)}static init(t){let e=Math.min(3e3,t.doc.length),i=wf.create(t.facet(tr).parser,t,{from:0,to:e});return i.work(20,e)||i.takeTree(),new Ds(i)}}wn.state=hi.define({create:Ds.init,update(l,t){for(let e of t.effects)if(e.is(wn.setState))return e.value;return t.startState.facet(tr)!=t.state.facet(tr)?Ds.init(t.state):l.apply(t)}});let lS=l=>{let t=setTimeout(()=>l(),500);return()=>clearTimeout(t)};typeof requestIdleCallback<"u"&&(lS=l=>{let t=-1,e=setTimeout(()=>{t=requestIdleCallback(l,{timeout:400})},100);return()=>t<0?clearTimeout(e):cancelIdleCallback(t)});const Cd=typeof navigator<"u"&&(!((Ad=navigator.scheduling)===null||Ad===void 0)&&Ad.isInputPending)?()=>navigator.scheduling.isInputPending():null,vT=Ue.fromClass(class{constructor(t){this.view=t,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(t){let e=this.view.state.field(wn.state).context;(e.updateViewport(t.view.viewport)||this.view.viewport.to>e.treeLen)&&this.scheduleWork(),(t.docChanged||t.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(e)}scheduleWork(){if(this.working)return;let{state:t}=this.view,e=t.field(wn.state);(e.tree!=e.context.tree||!e.context.isDone(t.doc.length))&&(this.working=lS(this.work))}work(t){this.working=null;let e=Date.now();if(this.chunkEnd<e&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=e+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:i,viewport:{to:r}}=this.view,a=i.field(wn.state);if(a.tree==a.context.tree&&a.context.isDone(r+1e5))return;let u=Date.now()+Math.min(this.chunkBudget,100,t&&!Cd?Math.max(25,t.timeRemaining()-5):1e9),f=a.context.treeLen<r&&i.doc.length>r+1e3,c=a.context.work(()=>Cd&&Cd()||Date.now()>u,r+(f?0:1e5));this.chunkBudget-=Date.now()-e,(c||this.chunkBudget<=0)&&(a.context.takeTree(),this.view.dispatch({effects:wn.setState.of(new Ds(a.context))})),this.chunkBudget>0&&!(c&&!f)&&this.scheduleWork(),this.checkAsyncSchedule(a.context)}checkAsyncSchedule(t){t.scheduleOn&&(this.workScheduled++,t.scheduleOn.then(()=>this.scheduleWork()).catch(e=>Li(this.view.state,e)).then(()=>this.workScheduled--),t.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),tr=_t.define({combine(l){return l.length?l[0]:null},enables:l=>[wn.state,vT,At.contentAttributes.compute([l],t=>{let e=t.facet(l);return e&&e.name?{"data-language":e.name}:{}})]});class bT{constructor(t,e=[]){this.language=t,this.support=e,this.extension=[t,e]}}const xT=_t.define(),Pf=_t.define({combine:l=>{if(!l.length)return"  ";let t=l[0];if(!t||/\S/.test(t)||Array.from(t).some(e=>e!=t[0]))throw new Error("Invalid indent unit: "+JSON.stringify(l[0]));return t}});function kf(l){let t=l.facet(Pf);return t.charCodeAt(0)==9?l.tabSize*t.length:t.length}function no(l,t){let e="",i=l.tabSize,r=l.facet(Pf)[0];if(r=="	"){for(;t>=i;)e+="	",t-=i;r=" "}for(let a=0;a<t;a++)e+=r;return e}function ag(l,t){l instanceof Ft&&(l=new Gf(l));for(let i of l.state.facet(xT)){let r=i(l,t);if(r!==void 0)return r}let e=ii(l.state);return e.length>=t?ST(l,e,t):null}class Gf{constructor(t,e={}){this.state=t,this.options=e,this.unit=kf(t)}lineAt(t,e=1){let i=this.state.doc.lineAt(t),{simulateBreak:r,simulateDoubleBreak:a}=this.options;return r!=null&&r>=i.from&&r<=i.to?a&&r==t?{text:"",from:t}:(e<0?r<t:r<=t)?{text:i.text.slice(r-i.from),from:r}:{text:i.text.slice(0,r-i.from),from:i.from}:i}textAfterPos(t,e=1){if(this.options.simulateDoubleBreak&&t==this.options.simulateBreak)return"";let{text:i,from:r}=this.lineAt(t,e);return i.slice(t-r,Math.min(i.length,t+100-r))}column(t,e=1){let{text:i,from:r}=this.lineAt(t,e),a=this.countColumn(i,t-r),u=this.options.overrideIndentation?this.options.overrideIndentation(r):-1;return u>-1&&(a+=u-this.countColumn(i,i.search(/\S|$/))),a}countColumn(t,e=t.length){return Ns(t,this.state.tabSize,e)}lineIndent(t,e=1){let{text:i,from:r}=this.lineAt(t,e),a=this.options.overrideIndentation;if(a){let u=a(r);if(u>-1)return u}return this.countColumn(i,i.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const rS=new Gt;function ST(l,t,e){let i=t.resolveStack(e),r=i.node.enterUnfinishedNodesBefore(e);if(r!=i.node){let a=[];for(let u=r;u!=i.node;u=u.parent)a.push(u);for(let u=a.length-1;u>=0;u--)i={node:a[u],next:i}}return sS(i,l,e)}function sS(l,t,e){for(let i=l;i;i=i.next){let r=kT(i.node);if(r)return r(og.create(t,e,i))}return 0}function wT(l){return l.pos==l.options.simulateBreak&&l.options.simulateDoubleBreak}function kT(l){let t=l.type.prop(rS);if(t)return t;let e=l.firstChild,i;if(e&&(i=e.type.prop(Gt.closedBy))){let r=l.lastChild,a=r&&i.indexOf(r.name)>-1;return u=>TT(u,!0,1,void 0,a&&!wT(u)?r.from:void 0)}return l.parent==null?AT:null}function AT(){return 0}class og extends Gf{constructor(t,e,i){super(t.state,t.options),this.base=t,this.pos=e,this.context=i}get node(){return this.context.node}static create(t,e,i){return new og(t,e,i)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(t){let e=this.state.doc.lineAt(t.from);for(;;){let i=t.resolve(e.from);for(;i.parent&&i.parent.from==i.from;)i=i.parent;if(CT(i,t))break;e=this.state.doc.lineAt(i.from)}return this.lineIndent(e.from)}continue(){return sS(this.context.next,this.base,this.pos)}}function CT(l,t){for(let e=t;e;e=e.parent)if(l==e)return!0;return!1}function _T(l){let t=l.node,e=t.childAfter(t.from),i=t.lastChild;if(!e)return null;let r=l.options.simulateBreak,a=l.state.doc.lineAt(e.from),u=r==null||r<=a.from?a.to:Math.min(a.to,r);for(let f=e.to;;){let c=t.childAfter(f);if(!c||c==i)return null;if(!c.type.isSkipped){if(c.from>=u)return null;let d=/^ */.exec(a.text.slice(e.to-a.from))[0].length;return{from:e.from,to:e.to+d}}f=c.to}}function TT(l,t,e,i,r){let a=l.textAfter,u=a.match(/^\s*/)[0].length,f=i&&a.slice(u,u+i.length)==i||r==l.pos+u,c=_T(l);return c?f?l.column(c.from):l.column(c.to):l.baseIndent+(f?0:l.unit*e)}function OT({except:l,units:t=1}={}){return e=>{let i=l&&l.test(e.textAfter);return e.baseIndent+(i?0:t*e.unit)}}const MT=200;function ET(){return Ft.transactionFilter.of(l=>{if(!l.docChanged||!l.isUserEvent("input.type")&&!l.isUserEvent("input.complete"))return l;let t=l.startState.languageDataAt("indentOnInput",l.startState.selection.main.head);if(!t.length)return l;let e=l.newDoc,{head:i}=l.newSelection.main,r=e.lineAt(i);if(i>r.from+MT)return l;let a=e.sliceString(r.from,i);if(!t.some(d=>d.test(a)))return l;let{state:u}=l,f=-1,c=[];for(let{head:d}of u.selection.ranges){let g=u.doc.lineAt(d);if(g.from==f)continue;f=g.from;let y=ag(u,g.from);if(y==null)continue;let b=/^\s*/.exec(g.text)[0],x=no(u,y);b!=x&&c.push({from:g.from,to:g.from+b.length,insert:x})}return c.length?[l,{changes:c,sequential:!0}]:l})}const DT=_t.define(),aS=new Gt;function RT(l,t,e){let i=ii(l);if(i.length<e)return null;let r=i.resolveStack(e,1),a=null;for(let u=r;u;u=u.next){let f=u.node;if(f.to<=e||f.from>e)continue;if(a&&f.from<t)break;let c=f.type.prop(aS);if(c&&(f.to<i.length-50||i.length==l.doc.length||!BT(f))){let d=c(f,l);d&&d.from<=e&&d.from>=t&&d.to>e&&(a=d)}}return a}function BT(l){let t=l.lastChild;return t&&t.to==l.to&&t.type.isError}function Af(l,t,e){for(let i of l.facet(DT)){let r=i(l,t,e);if(r)return r}return RT(l,t,e)}function oS(l,t){let e=t.mapPos(l.from,1),i=t.mapPos(l.to,-1);return e>=i?void 0:{from:e,to:i}}const Xf=Ut.define({map:oS}),go=Ut.define({map:oS});function uS(l){let t=[];for(let{head:e}of l.state.selection.ranges)t.some(i=>i.from<=e&&i.to>=e)||t.push(l.lineBlockAt(e));return t}const Er=hi.define({create(){return Dt.none},update(l,t){l=l.map(t.changes);for(let e of t.effects)if(e.is(Xf)&&!NT(l,e.value.from,e.value.to)){let{preparePlaceholder:i}=t.state.facet(cS),r=i?Dt.replace({widget:new jT(i(t.state,e.value))}):kv;l=l.update({add:[r.range(e.value.from,e.value.to)]})}else e.is(go)&&(l=l.update({filter:(i,r)=>e.value.from!=i||e.value.to!=r,filterFrom:e.value.from,filterTo:e.value.to}));if(t.selection){let e=!1,{head:i}=t.selection.main;l.between(i,i,(r,a)=>{r<i&&a>i&&(e=!0)}),e&&(l=l.update({filterFrom:i,filterTo:i,filter:(r,a)=>a<=i||r>=i}))}return l},provide:l=>At.decorations.from(l),toJSON(l,t){let e=[];return l.between(0,t.doc.length,(i,r)=>{e.push(i,r)}),e},fromJSON(l){if(!Array.isArray(l)||l.length%2)throw new RangeError("Invalid JSON for fold state");let t=[];for(let e=0;e<l.length;){let i=l[e++],r=l[e++];if(typeof i!="number"||typeof r!="number")throw new RangeError("Invalid JSON for fold state");t.push(kv.range(i,r))}return Dt.set(t,!0)}});function Cf(l,t,e){var i;let r=null;return(i=l.field(Er,!1))===null||i===void 0||i.between(t,e,(a,u)=>{(!r||r.from>a)&&(r={from:a,to:u})}),r}function NT(l,t,e){let i=!1;return l.between(t,t,(r,a)=>{r==t&&a==e&&(i=!0)}),i}function fS(l,t){return l.field(Er,!1)?t:t.concat(Ut.appendConfig.of(dS()))}const zT=l=>{for(let t of uS(l)){let e=Af(l.state,t.from,t.to);if(e)return l.dispatch({effects:fS(l.state,[Xf.of(e),hS(l,e)])}),!0}return!1},LT=l=>{if(!l.state.field(Er,!1))return!1;let t=[];for(let e of uS(l)){let i=Cf(l.state,e.from,e.to);i&&t.push(go.of(i),hS(l,i,!1))}return t.length&&l.dispatch({effects:t}),t.length>0};function hS(l,t,e=!0){let i=l.state.doc.lineAt(t.from).number,r=l.state.doc.lineAt(t.to).number;return At.announce.of(`${l.state.phrase(e?"Folded lines":"Unfolded lines")} ${i} ${l.state.phrase("to")} ${r}.`)}const HT=l=>{let{state:t}=l,e=[];for(let i=0;i<t.doc.length;){let r=l.lineBlockAt(i),a=Af(t,r.from,r.to);a&&e.push(Xf.of(a)),i=(a?l.lineBlockAt(a.to):r).to+1}return e.length&&l.dispatch({effects:fS(l.state,e)}),!!e.length},UT=l=>{let t=l.state.field(Er,!1);if(!t||!t.size)return!1;let e=[];return t.between(0,l.state.doc.length,(i,r)=>{e.push(go.of({from:i,to:r}))}),l.dispatch({effects:e}),!0},VT=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:zT},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:LT},{key:"Ctrl-Alt-[",run:HT},{key:"Ctrl-Alt-]",run:UT}],qT={placeholderDOM:null,preparePlaceholder:null,placeholderText:""},cS=_t.define({combine(l){return Gn(l,qT)}});function dS(l){return[Er,PT]}function mS(l,t){let{state:e}=l,i=e.facet(cS),r=u=>{let f=l.lineBlockAt(l.posAtDOM(u.target)),c=Cf(l.state,f.from,f.to);c&&l.dispatch({effects:go.of(c)}),u.preventDefault()};if(i.placeholderDOM)return i.placeholderDOM(l,r,t);let a=document.createElement("span");return a.textContent=i.placeholderText,a.setAttribute("aria-label",e.phrase("folded code")),a.title=e.phrase("unfold"),a.className="cm-foldPlaceholder",a.onclick=r,a}const kv=Dt.replace({widget:new class extends dl{toDOM(l){return mS(l,null)}}});class jT extends dl{constructor(t){super(),this.value=t}eq(t){return this.value==t.value}toDOM(t){return mS(t,this.value)}}const QT={openText:"",closedText:"",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class _d extends cl{constructor(t,e){super(),this.config=t,this.open=e}eq(t){return this.config==t.config&&this.open==t.open}toDOM(t){if(this.config.markerDOM)return this.config.markerDOM(this.open);let e=document.createElement("span");return e.textContent=this.open?this.config.openText:this.config.closedText,e.title=t.state.phrase(this.open?"Fold line":"Unfold line"),e}}function YT(l={}){let t=Object.assign(Object.assign({},QT),l),e=new _d(t,!0),i=new _d(t,!1),r=Ue.fromClass(class{constructor(u){this.from=u.viewport.from,this.markers=this.buildMarkers(u)}update(u){(u.docChanged||u.viewportChanged||u.startState.facet(tr)!=u.state.facet(tr)||u.startState.field(Er,!1)!=u.state.field(Er,!1)||ii(u.startState)!=ii(u.state)||t.foldingChanged(u))&&(this.markers=this.buildMarkers(u.view))}buildMarkers(u){let f=new Fl;for(let c of u.viewportLineBlocks){let d=Cf(u.state,c.from,c.to)?i:Af(u.state,c.from,c.to)?e:null;d&&f.add(c.from,c.from,d)}return f.finish()}}),{domEventHandlers:a}=t;return[r,F_({class:"cm-foldGutter",markers(u){var f;return((f=u.plugin(r))===null||f===void 0?void 0:f.markers)||ee.empty},initialSpacer(){return new _d(t,!1)},domEventHandlers:Object.assign(Object.assign({},a),{click:(u,f,c)=>{if(a.click&&a.click(u,f,c))return!0;let d=Cf(u.state,f.from,f.to);if(d)return u.dispatch({effects:go.of(d)}),!0;let g=Af(u.state,f.from,f.to);return g?(u.dispatch({effects:Xf.of(g)}),!0):!1}})}),dS()]}const PT=At.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class po{constructor(t,e){this.specs=t;let i;function r(f){let c=Wl.newName();return(i||(i=Object.create(null)))["."+c]=f,c}const a=typeof e.all=="string"?e.all:e.all?r(e.all):void 0,u=e.scope;this.scope=u instanceof wn?f=>f.prop(ys)==u.data:u?f=>f==u:void 0,this.style=nS(t.map(f=>({tag:f.tag,class:f.class||r(Object.assign({},f,{tag:null}))})),{all:a}).style,this.module=i?new Wl(i):null,this.themeType=e.themeType}static define(t,e){return new po(t,e||{})}}const _m=_t.define(),gS=_t.define({combine(l){return l.length?[l[0]]:null}});function Td(l){let t=l.facet(_m);return t.length?t:l.facet(gS)}function pS(l,t){let e=[XT],i;return l instanceof po&&(l.module&&e.push(At.styleModule.of(l.module)),i=l.themeType),t!=null&&t.fallback?e.push(gS.of(l)):i?e.push(_m.computeN([At.darkTheme],r=>r.facet(At.darkTheme)==(i=="dark")?[l]:[])):e.push(_m.of(l)),e}class GT{constructor(t){this.markCache=Object.create(null),this.tree=ii(t.state),this.decorations=this.buildDeco(t,Td(t.state)),this.decoratedTo=t.viewport.to}update(t){let e=ii(t.state),i=Td(t.state),r=i!=Td(t.startState),{viewport:a}=t.view,u=t.changes.mapPos(this.decoratedTo,1);e.length<a.to&&!r&&e.type==this.tree.type&&u>=a.to?(this.decorations=this.decorations.map(t.changes),this.decoratedTo=u):(e!=this.tree||t.viewportChanged||r)&&(this.tree=e,this.decorations=this.buildDeco(t.view,i),this.decoratedTo=a.to)}buildDeco(t,e){if(!e||!this.tree.length)return Dt.none;let i=new Fl;for(let{from:r,to:a}of t.visibleRanges)cT(this.tree,e,(u,f,c)=>{i.add(u,f,this.markCache[c]||(this.markCache[c]=Dt.mark({class:c})))},r,a);return i.finish()}}const XT=Dr.high(Ue.fromClass(GT,{decorations:l=>l.decorations})),ZT=po.define([{tag:I.meta,color:"#404740"},{tag:I.link,textDecoration:"underline"},{tag:I.heading,textDecoration:"underline",fontWeight:"bold"},{tag:I.emphasis,fontStyle:"italic"},{tag:I.strong,fontWeight:"bold"},{tag:I.strikethrough,textDecoration:"line-through"},{tag:I.keyword,color:"#708"},{tag:[I.atom,I.bool,I.url,I.contentSeparator,I.labelName],color:"#219"},{tag:[I.literal,I.inserted],color:"#164"},{tag:[I.string,I.deleted],color:"#a11"},{tag:[I.regexp,I.escape,I.special(I.string)],color:"#e40"},{tag:I.definition(I.variableName),color:"#00f"},{tag:I.local(I.variableName),color:"#30a"},{tag:[I.typeName,I.namespace],color:"#085"},{tag:I.className,color:"#167"},{tag:[I.special(I.variableName),I.macroName],color:"#256"},{tag:I.definition(I.propertyName),color:"#00c"},{tag:I.comment,color:"#940"},{tag:I.invalid,color:"#f00"}]),KT=At.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),yS=1e4,vS="()[]{}",bS=_t.define({combine(l){return Gn(l,{afterCursor:!0,brackets:vS,maxScanDistance:yS,renderMatch:WT})}}),IT=Dt.mark({class:"cm-matchingBracket"}),FT=Dt.mark({class:"cm-nonmatchingBracket"});function WT(l){let t=[],e=l.matched?IT:FT;return t.push(e.range(l.start.from,l.start.to)),l.end&&t.push(e.range(l.end.from,l.end.to)),t}const JT=hi.define({create(){return Dt.none},update(l,t){if(!t.docChanged&&!t.selection)return l;let e=[],i=t.state.facet(bS);for(let r of t.state.selection.ranges){if(!r.empty)continue;let a=qn(t.state,r.head,-1,i)||r.head>0&&qn(t.state,r.head-1,1,i)||i.afterCursor&&(qn(t.state,r.head,1,i)||r.head<t.state.doc.length&&qn(t.state,r.head+1,-1,i));a&&(e=e.concat(i.renderMatch(a,t.state)))}return Dt.set(e,!0)},provide:l=>At.decorations.from(l)}),$T=[JT,KT];function tO(l={}){return[bS.of(l),$T]}const eO=new Gt;function Tm(l,t,e){let i=l.prop(t<0?Gt.openedBy:Gt.closedBy);if(i)return i;if(l.name.length==1){let r=e.indexOf(l.name);if(r>-1&&r%2==(t<0?1:0))return[e[r+t]]}return null}function Om(l){let t=l.type.prop(eO);return t?t(l.node):l}function qn(l,t,e,i={}){let r=i.maxScanDistance||yS,a=i.brackets||vS,u=ii(l),f=u.resolveInner(t,e);for(let c=f;c;c=c.parent){let d=Tm(c.type,e,a);if(d&&c.from<c.to){let g=Om(c);if(g&&(e>0?t>=g.from&&t<g.to:t>g.from&&t<=g.to))return iO(l,t,e,c,g,d,a)}}return nO(l,t,e,u,f.type,r,a)}function iO(l,t,e,i,r,a,u){let f=i.parent,c={from:r.from,to:r.to},d=0,g=f==null?void 0:f.cursor();if(g&&(e<0?g.childBefore(i.from):g.childAfter(i.to)))do if(e<0?g.to<=i.from:g.from>=i.to){if(d==0&&a.indexOf(g.type.name)>-1&&g.from<g.to){let y=Om(g);return{start:c,end:y?{from:y.from,to:y.to}:void 0,matched:!0}}else if(Tm(g.type,e,u))d++;else if(Tm(g.type,-e,u)){if(d==0){let y=Om(g);return{start:c,end:y&&y.from<y.to?{from:y.from,to:y.to}:void 0,matched:!1}}d--}}while(e<0?g.prevSibling():g.nextSibling());return{start:c,matched:!1}}function nO(l,t,e,i,r,a,u){let f=e<0?l.sliceDoc(t-1,t):l.sliceDoc(t,t+1),c=u.indexOf(f);if(c<0||c%2==0!=e>0)return null;let d={from:e<0?t-1:t,to:e>0?t+1:t},g=l.doc.iterRange(t,e>0?l.doc.length:0),y=0;for(let b=0;!g.next().done&&b<=a;){let x=g.value;e<0&&(b+=x.length);let w=t+b*e;for(let _=e>0?0:x.length-1,O=e>0?x.length:-1;_!=O;_+=e){let M=u.indexOf(x[_]);if(!(M<0||i.resolveInner(w+_,1).type!=r))if(M%2==0==e>0)y++;else{if(y==1)return{start:d,end:{from:w+_,to:w+_+1},matched:M>>1==c>>1};y--}}e>0&&(b+=x.length)}return g.done?{start:d,matched:!1}:null}const lO=Object.create(null),Av=[Ui.none],Cv=[],_v=Object.create(null),rO=Object.create(null);for(let[l,t]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])rO[l]=sO(lO,t);function Od(l,t){Cv.indexOf(l)>-1||(Cv.push(l),console.warn(t))}function sO(l,t){let e=[];for(let f of t.split(" ")){let c=[];for(let d of f.split(".")){let g=l[d]||I[d];g?typeof g=="function"?c.length?c=c.map(g):Od(d,`Modifier ${d} used at start of tag`):c.length?Od(d,`Tag ${d} used as modifier`):c=Array.isArray(g)?g:[g]:Od(d,`Unknown highlighting tag ${d}`)}for(let d of c)e.push(d)}if(!e.length)return 0;let i=t.replace(/ /g,"_"),r=i+" "+e.map(f=>f.id),a=_v[r];if(a)return a.id;let u=_v[r]=Ui.define({id:Av.length,name:i,props:[eS({[i]:e})]});return Av.push(u),u.id}ke.RTL,ke.LTR;var Tv={};class _f{constructor(t,e,i,r,a,u,f,c,d,g=0,y){this.p=t,this.stack=e,this.state=i,this.reducePos=r,this.pos=a,this.score=u,this.buffer=f,this.bufferBase=c,this.curContext=d,this.lookAhead=g,this.parent=y}toString(){return`[${this.stack.filter((t,e)=>e%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(t,e,i=0){let r=t.parser.context;return new _f(t,[],e,i,i,0,[],0,r?new Ov(r,r.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(t,e){this.stack.push(this.state,e,this.bufferBase+this.buffer.length),this.state=t}reduce(t){var e;let i=t>>19,r=t&65535,{parser:a}=this.p,u=this.reducePos<this.pos-25;u&&this.setLookAhead(this.pos);let f=a.dynamicPrecedence(r);if(f&&(this.score+=f),i==0){this.pushState(a.getGoto(this.state,r,!0),this.reducePos),r<a.minRepeatTerm&&this.storeNode(r,this.reducePos,this.reducePos,u?8:4,!0),this.reduceContext(r,this.reducePos);return}let c=this.stack.length-(i-1)*3-(t&262144?6:0),d=c?this.stack[c-2]:this.p.ranges[0].from,g=this.reducePos-d;g>=2e3&&!(!((e=this.p.parser.nodeSet.types[r])===null||e===void 0)&&e.isAnonymous)&&(d==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=g):this.p.lastBigReductionSize<g&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=d,this.p.lastBigReductionSize=g));let y=c?this.stack[c-1]:0,b=this.bufferBase+this.buffer.length-y;if(r<a.minRepeatTerm||t&131072){let x=a.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(r,d,x,b+4,!0)}if(t&262144)this.state=this.stack[c];else{let x=this.stack[c-3];this.state=a.getGoto(x,r,!0)}for(;this.stack.length>c;)this.stack.pop();this.reduceContext(r,d)}storeNode(t,e,i,r=4,a=!1){if(t==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let u=this,f=this.buffer.length;if(f==0&&u.parent&&(f=u.bufferBase-u.parent.bufferBase,u=u.parent),f>0&&u.buffer[f-4]==0&&u.buffer[f-1]>-1){if(e==i)return;if(u.buffer[f-2]>=e){u.buffer[f-2]=i;return}}}if(!a||this.pos==i)this.buffer.push(t,e,i,r);else{let u=this.buffer.length;if(u>0&&this.buffer[u-4]!=0){let f=!1;for(let c=u;c>0&&this.buffer[c-2]>i;c-=4)if(this.buffer[c-1]>=0){f=!0;break}if(f)for(;u>0&&this.buffer[u-2]>i;)this.buffer[u]=this.buffer[u-4],this.buffer[u+1]=this.buffer[u-3],this.buffer[u+2]=this.buffer[u-2],this.buffer[u+3]=this.buffer[u-1],u-=4,r>4&&(r-=4)}this.buffer[u]=t,this.buffer[u+1]=e,this.buffer[u+2]=i,this.buffer[u+3]=r}}shift(t,e,i,r){if(t&131072)this.pushState(t&65535,this.pos);else if((t&262144)==0){let a=t,{parser:u}=this.p;(r>this.pos||e<=u.maxNode)&&(this.pos=r,u.stateFlag(a,1)||(this.reducePos=r)),this.pushState(a,i),this.shiftContext(e,i),e<=u.maxNode&&this.buffer.push(e,i,r,4)}else this.pos=r,this.shiftContext(e,i),e<=this.p.parser.maxNode&&this.buffer.push(e,i,r,4)}apply(t,e,i,r){t&65536?this.reduce(t):this.shift(t,e,i,r)}useNode(t,e){let i=this.p.reused.length-1;(i<0||this.p.reused[i]!=t)&&(this.p.reused.push(t),i++);let r=this.pos;this.reducePos=this.pos=r+t.length,this.pushState(e,r),this.buffer.push(i,r,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,t,this,this.p.stream.reset(this.pos-t.length)))}split(){let t=this,e=t.buffer.length;for(;e>0&&t.buffer[e-2]>t.reducePos;)e-=4;let i=t.buffer.slice(e),r=t.bufferBase+e;for(;t&&r==t.bufferBase;)t=t.parent;return new _f(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,i,r,this.curContext,this.lookAhead,t)}recoverByDelete(t,e){let i=t<=this.p.parser.maxNode;i&&this.storeNode(t,this.pos,e,4),this.storeNode(0,this.pos,e,i?8:4),this.pos=this.reducePos=e,this.score-=190}canShift(t){for(let e=new aO(this);;){let i=this.p.parser.stateSlot(e.state,4)||this.p.parser.hasAction(e.state,t);if(i==0)return!1;if((i&65536)==0)return!0;e.reduce(i)}}recoverByInsert(t){if(this.stack.length>=300)return[];let e=this.p.parser.nextStates(this.state);if(e.length>8||this.stack.length>=120){let r=[];for(let a=0,u;a<e.length;a+=2)(u=e[a+1])!=this.state&&this.p.parser.hasAction(u,t)&&r.push(e[a],u);if(this.stack.length<120)for(let a=0;r.length<8&&a<e.length;a+=2){let u=e[a+1];r.some((f,c)=>c&1&&f==u)||r.push(e[a],u)}e=r}let i=[];for(let r=0;r<e.length&&i.length<4;r+=2){let a=e[r+1];if(a==this.state)continue;let u=this.split();u.pushState(a,this.pos),u.storeNode(0,u.pos,u.pos,4,!0),u.shiftContext(e[r],this.pos),u.reducePos=this.pos,u.score-=200,i.push(u)}return i}forceReduce(){let{parser:t}=this.p,e=t.stateSlot(this.state,5);if((e&65536)==0)return!1;if(!t.validAction(this.state,e)){let i=e>>19,r=e&65535,a=this.stack.length-i*3;if(a<0||t.getGoto(this.stack[a],r,!1)<0){let u=this.findForcedReduction();if(u==null)return!1;e=u}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(e),!0}findForcedReduction(){let{parser:t}=this.p,e=[],i=(r,a)=>{if(!e.includes(r))return e.push(r),t.allActions(r,u=>{if(!(u&393216))if(u&65536){let f=(u>>19)-a;if(f>1){let c=u&65535,d=this.stack.length-f*3;if(d>=0&&t.getGoto(this.stack[d],c,!1)>=0)return f<<19|65536|c}}else{let f=i(u,a+1);if(f!=null)return f}})};return i(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:t}=this.p;return t.data[t.stateSlot(this.state,1)]==65535&&!t.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(t){if(this.state!=t.state||this.stack.length!=t.stack.length)return!1;for(let e=0;e<this.stack.length;e+=3)if(this.stack[e]!=t.stack[e])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(t){return this.p.parser.dialect.flags[t]}shiftContext(t,e){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,t,this,this.p.stream.reset(e)))}reduceContext(t,e){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,t,this,this.p.stream.reset(e)))}emitContext(){let t=this.buffer.length-1;(t<0||this.buffer[t]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let t=this.buffer.length-1;(t<0||this.buffer[t]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(t){if(t!=this.curContext.context){let e=new Ov(this.curContext.tracker,t);e.hash!=this.curContext.hash&&this.emitContext(),this.curContext=e}}setLookAhead(t){t>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=t)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class Ov{constructor(t,e){this.tracker=t,this.context=e,this.hash=t.strict?t.hash(e):0}}class aO{constructor(t){this.start=t,this.state=t.state,this.stack=t.stack,this.base=this.stack.length}reduce(t){let e=t&65535,i=t>>19;i==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(i-1)*3;let r=this.start.p.parser.getGoto(this.stack[this.base-3],e,!0);this.state=r}}class Tf{constructor(t,e,i){this.stack=t,this.pos=e,this.index=i,this.buffer=t.buffer,this.index==0&&this.maybeNext()}static create(t,e=t.bufferBase+t.buffer.length){return new Tf(t,e,e-t.bufferBase)}maybeNext(){let t=this.stack.parent;t!=null&&(this.index=this.stack.bufferBase-t.bufferBase,this.stack=t,this.buffer=t.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new Tf(this.stack,this.pos,this.index)}}function Xu(l,t=Uint16Array){if(typeof l!="string")return l;let e=null;for(let i=0,r=0;i<l.length;){let a=0;for(;;){let u=l.charCodeAt(i++),f=!1;if(u==126){a=65535;break}u>=92&&u--,u>=34&&u--;let c=u-32;if(c>=46&&(c-=46,f=!0),a+=c,f)break;a*=46}e?e[r++]=a:e=new t(a)}return e}class of{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const Mv=new of;class oO{constructor(t,e){this.input=t,this.ranges=e,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=Mv,this.rangeIndex=0,this.pos=this.chunkPos=e[0].from,this.range=e[0],this.end=e[e.length-1].to,this.readNext()}resolveOffset(t,e){let i=this.range,r=this.rangeIndex,a=this.pos+t;for(;a<i.from;){if(!r)return null;let u=this.ranges[--r];a-=i.from-u.to,i=u}for(;e<0?a>i.to:a>=i.to;){if(r==this.ranges.length-1)return null;let u=this.ranges[++r];a+=u.from-i.to,i=u}return a}clipPos(t){if(t>=this.range.from&&t<this.range.to)return t;for(let e of this.ranges)if(e.to>t)return Math.max(t,e.from);return this.end}peek(t){let e=this.chunkOff+t,i,r;if(e>=0&&e<this.chunk.length)i=this.pos+t,r=this.chunk.charCodeAt(e);else{let a=this.resolveOffset(t,1);if(a==null)return-1;if(i=a,i>=this.chunk2Pos&&i<this.chunk2Pos+this.chunk2.length)r=this.chunk2.charCodeAt(i-this.chunk2Pos);else{let u=this.rangeIndex,f=this.range;for(;f.to<=i;)f=this.ranges[++u];this.chunk2=this.input.chunk(this.chunk2Pos=i),i+this.chunk2.length>f.to&&(this.chunk2=this.chunk2.slice(0,f.to-i)),r=this.chunk2.charCodeAt(0)}}return i>=this.token.lookAhead&&(this.token.lookAhead=i+1),r}acceptToken(t,e=0){let i=e?this.resolveOffset(e,-1):this.pos;if(i==null||i<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=t,this.token.end=i}acceptTokenTo(t,e){this.token.value=t,this.token.end=e}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:t,chunkPos:e}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=t,this.chunk2Pos=e,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let t=this.input.chunk(this.pos),e=this.pos+t.length;this.chunk=e>this.range.to?t.slice(0,this.range.to-this.pos):t,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(t=1){for(this.chunkOff+=t;this.pos+t>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();t-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=t,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(t,e){if(e?(this.token=e,e.start=t,e.lookAhead=t+1,e.value=e.extended=-1):this.token=Mv,this.pos!=t){if(this.pos=t,t==this.end)return this.setDone(),this;for(;t<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;t>=this.range.to;)this.range=this.ranges[++this.rangeIndex];t>=this.chunkPos&&t<this.chunkPos+this.chunk.length?this.chunkOff=t-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(t,e){if(t>=this.chunkPos&&e<=this.chunkPos+this.chunk.length)return this.chunk.slice(t-this.chunkPos,e-this.chunkPos);if(t>=this.chunk2Pos&&e<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(t-this.chunk2Pos,e-this.chunk2Pos);if(t>=this.range.from&&e<=this.range.to)return this.input.read(t,e);let i="";for(let r of this.ranges){if(r.from>=e)break;r.to>t&&(i+=this.input.read(Math.max(r.from,t),Math.min(r.to,e)))}return i}}class ks{constructor(t,e){this.data=t,this.id=e}token(t,e){let{parser:i}=e.p;fO(this.data,t,e,this.id,i.data,i.tokenPrecTable)}}ks.prototype.contextual=ks.prototype.fallback=ks.prototype.extend=!1;ks.prototype.fallback=ks.prototype.extend=!1;class uO{constructor(t,e={}){this.token=t,this.contextual=!!e.contextual,this.fallback=!!e.fallback,this.extend=!!e.extend}}function fO(l,t,e,i,r,a){let u=0,f=1<<i,{dialect:c}=e.p.parser;t:for(;(f&l[u])!=0;){let d=l[u+1];for(let x=u+3;x<d;x+=2)if((l[x+1]&f)>0){let w=l[x];if(c.allows(w)&&(t.token.value==-1||t.token.value==w||hO(w,t.token.value,r,a))){t.acceptToken(w);break}}let g=t.next,y=0,b=l[u+2];if(t.next<0&&b>y&&l[d+b*3-3]==65535){u=l[d+b*3-1];continue t}for(;y<b;){let x=y+b>>1,w=d+x+(x<<1),_=l[w],O=l[w+1]||65536;if(g<_)b=x;else if(g>=O)y=x+1;else{u=l[w+2],t.advance();continue t}}break}}function Ev(l,t,e){for(let i=t,r;(r=l[i])!=65535;i++)if(r==e)return i-t;return-1}function hO(l,t,e,i){let r=Ev(e,i,t);return r<0||Ev(e,i,l)<r}const Zi=typeof process<"u"&&Tv&&/\bparse\b/.test(Tv.LOG);let Md=null;function Dv(l,t,e){let i=l.cursor(ei.IncludeAnonymous);for(i.moveTo(t);;)if(!(e<0?i.childBefore(t):i.childAfter(t)))for(;;){if((e<0?i.to<t:i.from>t)&&!i.type.isError)return e<0?Math.max(0,Math.min(i.to-1,t-25)):Math.min(l.length,Math.max(i.from+1,t+25));if(e<0?i.prevSibling():i.nextSibling())break;if(!i.parent())return e<0?0:l.length}}class cO{constructor(t,e){this.fragments=t,this.nodeSet=e,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let t=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(t){for(this.safeFrom=t.openStart?Dv(t.tree,t.from+t.offset,1)-t.offset:t.from,this.safeTo=t.openEnd?Dv(t.tree,t.to+t.offset,-1)-t.offset:t.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(t.tree),this.start.push(-t.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(t){if(t<this.nextStart)return null;for(;this.fragment&&this.safeTo<=t;)this.nextFragment();if(!this.fragment)return null;for(;;){let e=this.trees.length-1;if(e<0)return this.nextFragment(),null;let i=this.trees[e],r=this.index[e];if(r==i.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let a=i.children[r],u=this.start[e]+i.positions[r];if(u>t)return this.nextStart=u,null;if(a instanceof Ge){if(u==t){if(u<this.safeFrom)return null;let f=u+a.length;if(f<=this.safeTo){let c=a.prop(Gt.lookAhead);if(!c||f+c<this.fragment.to)return a}}this.index[e]++,u+a.length>=Math.max(this.safeFrom,t)&&(this.trees.push(a),this.start.push(u),this.index.push(0))}else this.index[e]++,this.nextStart=u+a.length}}}class dO{constructor(t,e){this.stream=e,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=t.tokenizers.map(i=>new of)}getActions(t){let e=0,i=null,{parser:r}=t.p,{tokenizers:a}=r,u=r.stateSlot(t.state,3),f=t.curContext?t.curContext.hash:0,c=0;for(let d=0;d<a.length;d++){if((1<<d&u)==0)continue;let g=a[d],y=this.tokens[d];if(!(i&&!g.fallback)&&((g.contextual||y.start!=t.pos||y.mask!=u||y.context!=f)&&(this.updateCachedToken(y,g,t),y.mask=u,y.context=f),y.lookAhead>y.end+25&&(c=Math.max(y.lookAhead,c)),y.value!=0)){let b=e;if(y.extended>-1&&(e=this.addActions(t,y.extended,y.end,e)),e=this.addActions(t,y.value,y.end,e),!g.extend&&(i=y,e>b))break}}for(;this.actions.length>e;)this.actions.pop();return c&&t.setLookAhead(c),!i&&t.pos==this.stream.end&&(i=new of,i.value=t.p.parser.eofTerm,i.start=i.end=t.pos,e=this.addActions(t,i.value,i.end,e)),this.mainToken=i,this.actions}getMainToken(t){if(this.mainToken)return this.mainToken;let e=new of,{pos:i,p:r}=t;return e.start=i,e.end=Math.min(i+1,r.stream.end),e.value=i==r.stream.end?r.parser.eofTerm:0,e}updateCachedToken(t,e,i){let r=this.stream.clipPos(i.pos);if(e.token(this.stream.reset(r,t),i),t.value>-1){let{parser:a}=i.p;for(let u=0;u<a.specialized.length;u++)if(a.specialized[u]==t.value){let f=a.specializers[u](this.stream.read(t.start,t.end),i);if(f>=0&&i.p.parser.dialect.allows(f>>1)){(f&1)==0?t.value=f>>1:t.extended=f>>1;break}}}else t.value=0,t.end=this.stream.clipPos(r+1)}putAction(t,e,i,r){for(let a=0;a<r;a+=3)if(this.actions[a]==t)return r;return this.actions[r++]=t,this.actions[r++]=e,this.actions[r++]=i,r}addActions(t,e,i,r){let{state:a}=t,{parser:u}=t.p,{data:f}=u;for(let c=0;c<2;c++)for(let d=u.stateSlot(a,c?2:1);;d+=3){if(f[d]==65535)if(f[d+1]==1)d=ul(f,d+2);else{r==0&&f[d+1]==2&&(r=this.putAction(ul(f,d+2),e,i,r));break}f[d]==e&&(r=this.putAction(ul(f,d+1),e,i,r))}return r}}class mO{constructor(t,e,i,r){this.parser=t,this.input=e,this.ranges=r,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new oO(e,r),this.tokens=new dO(t,this.stream),this.topTerm=t.top[1];let{from:a}=r[0];this.stacks=[_f.start(this,t.top[0],a)],this.fragments=i.length&&this.stream.end-a>t.bufferLength*4?new cO(i,t.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let t=this.stacks,e=this.minStackPos,i=this.stacks=[],r,a;if(this.bigReductionCount>300&&t.length==1){let[u]=t;for(;u.forceReduce()&&u.stack.length&&u.stack[u.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let u=0;u<t.length;u++){let f=t[u];for(;;){if(this.tokens.mainToken=null,f.pos>e)i.push(f);else{if(this.advanceStack(f,i,t))continue;{r||(r=[],a=[]),r.push(f);let c=this.tokens.getMainToken(f);a.push(c.value,c.end)}}break}}if(!i.length){let u=r&&pO(r);if(u)return Zi&&console.log("Finish with "+this.stackID(u)),this.stackToTree(u);if(this.parser.strict)throw Zi&&r&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+e);this.recovering||(this.recovering=5)}if(this.recovering&&r){let u=this.stoppedAt!=null&&r[0].pos>this.stoppedAt?r[0]:this.runRecovery(r,a,i);if(u)return Zi&&console.log("Force-finish "+this.stackID(u)),this.stackToTree(u.forceAll())}if(this.recovering){let u=this.recovering==1?1:this.recovering*3;if(i.length>u)for(i.sort((f,c)=>c.score-f.score);i.length>u;)i.pop();i.some(f=>f.reducePos>e)&&this.recovering--}else if(i.length>1){t:for(let u=0;u<i.length-1;u++){let f=i[u];for(let c=u+1;c<i.length;c++){let d=i[c];if(f.sameState(d)||f.buffer.length>500&&d.buffer.length>500)if((f.score-d.score||f.buffer.length-d.buffer.length)>0)i.splice(c--,1);else{i.splice(u--,1);continue t}}}i.length>12&&i.splice(12,i.length-12)}this.minStackPos=i[0].pos;for(let u=1;u<i.length;u++)i[u].pos<this.minStackPos&&(this.minStackPos=i[u].pos);return null}stopAt(t){if(this.stoppedAt!=null&&this.stoppedAt<t)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=t}advanceStack(t,e,i){let r=t.pos,{parser:a}=this,u=Zi?this.stackID(t)+" -> ":"";if(this.stoppedAt!=null&&r>this.stoppedAt)return t.forceReduce()?t:null;if(this.fragments){let d=t.curContext&&t.curContext.tracker.strict,g=d?t.curContext.hash:0;for(let y=this.fragments.nodeAt(r);y;){let b=this.parser.nodeSet.types[y.type.id]==y.type?a.getGoto(t.state,y.type.id):-1;if(b>-1&&y.length&&(!d||(y.prop(Gt.contextHash)||0)==g))return t.useNode(y,b),Zi&&console.log(u+this.stackID(t)+` (via reuse of ${a.getName(y.type.id)})`),!0;if(!(y instanceof Ge)||y.children.length==0||y.positions[0]>0)break;let x=y.children[0];if(x instanceof Ge&&y.positions[0]==0)y=x;else break}}let f=a.stateSlot(t.state,4);if(f>0)return t.reduce(f),Zi&&console.log(u+this.stackID(t)+` (via always-reduce ${a.getName(f&65535)})`),!0;if(t.stack.length>=8400)for(;t.stack.length>6e3&&t.forceReduce(););let c=this.tokens.getActions(t);for(let d=0;d<c.length;){let g=c[d++],y=c[d++],b=c[d++],x=d==c.length||!i,w=x?t:t.split(),_=this.tokens.mainToken;if(w.apply(g,y,_?_.start:w.pos,b),Zi&&console.log(u+this.stackID(w)+` (via ${(g&65536)==0?"shift":`reduce of ${a.getName(g&65535)}`} for ${a.getName(y)} @ ${r}${w==t?"":", split"})`),x)return!0;w.pos>r?e.push(w):i.push(w)}return!1}advanceFully(t,e){let i=t.pos;for(;;){if(!this.advanceStack(t,null,null))return!1;if(t.pos>i)return Rv(t,e),!0}}runRecovery(t,e,i){let r=null,a=!1;for(let u=0;u<t.length;u++){let f=t[u],c=e[u<<1],d=e[(u<<1)+1],g=Zi?this.stackID(f)+" -> ":"";if(f.deadEnd&&(a||(a=!0,f.restart(),Zi&&console.log(g+this.stackID(f)+" (restarted)"),this.advanceFully(f,i))))continue;let y=f.split(),b=g;for(let x=0;y.forceReduce()&&x<10&&(Zi&&console.log(b+this.stackID(y)+" (via force-reduce)"),!this.advanceFully(y,i));x++)Zi&&(b=this.stackID(y)+" -> ");for(let x of f.recoverByInsert(c))Zi&&console.log(g+this.stackID(x)+" (via recover-insert)"),this.advanceFully(x,i);this.stream.end>f.pos?(d==f.pos&&(d++,c=0),f.recoverByDelete(c,d),Zi&&console.log(g+this.stackID(f)+` (via recover-delete ${this.parser.getName(c)})`),Rv(f,i)):(!r||r.score<f.score)&&(r=f)}return r}stackToTree(t){return t.close(),Ge.build({buffer:Tf.create(t),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:t.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(t){let e=(Md||(Md=new WeakMap)).get(t);return e||Md.set(t,e=String.fromCodePoint(this.nextStackID++)),e+t}}function Rv(l,t){for(let e=0;e<t.length;e++){let i=t[e];if(i.pos==l.pos&&i.sameState(l)){t[e].score<l.score&&(t[e]=l);return}}t.push(l)}class gO{constructor(t,e,i){this.source=t,this.flags=e,this.disabled=i}allows(t){return!this.disabled||this.disabled[t]==0}}class Of extends Mb{constructor(t){if(super(),this.wrappers=[],t.version!=14)throw new RangeError(`Parser version (${t.version}) doesn't match runtime version (14)`);let e=t.nodeNames.split(" ");this.minRepeatTerm=e.length;for(let f=0;f<t.repeatNodeCount;f++)e.push("");let i=Object.keys(t.topRules).map(f=>t.topRules[f][1]),r=[];for(let f=0;f<e.length;f++)r.push([]);function a(f,c,d){r[f].push([c,c.deserialize(String(d))])}if(t.nodeProps)for(let f of t.nodeProps){let c=f[0];typeof c=="string"&&(c=Gt[c]);for(let d=1;d<f.length;){let g=f[d++];if(g>=0)a(g,c,f[d++]);else{let y=f[d+-g];for(let b=-g;b>0;b--)a(f[d++],c,y);d++}}}this.nodeSet=new Qm(e.map((f,c)=>Ui.define({name:c>=this.minRepeatTerm?void 0:f,id:c,props:r[c],top:i.indexOf(c)>-1,error:c==0,skipped:t.skippedNodes&&t.skippedNodes.indexOf(c)>-1}))),t.propSources&&(this.nodeSet=this.nodeSet.extend(...t.propSources)),this.strict=!1,this.bufferLength=Cb;let u=Xu(t.tokenData);this.context=t.context,this.specializerSpecs=t.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let f=0;f<this.specializerSpecs.length;f++)this.specialized[f]=this.specializerSpecs[f].term;this.specializers=this.specializerSpecs.map(Bv),this.states=Xu(t.states,Uint32Array),this.data=Xu(t.stateData),this.goto=Xu(t.goto),this.maxTerm=t.maxTerm,this.tokenizers=t.tokenizers.map(f=>typeof f=="number"?new ks(u,f):f),this.topRules=t.topRules,this.dialects=t.dialects||{},this.dynamicPrecedences=t.dynamicPrecedences||null,this.tokenPrecTable=t.tokenPrec,this.termNames=t.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(t,e,i){let r=new mO(this,t,e,i);for(let a of this.wrappers)r=a(r,t,e,i);return r}getGoto(t,e,i=!1){let r=this.goto;if(e>=r[0])return-1;for(let a=r[e+1];;){let u=r[a++],f=u&1,c=r[a++];if(f&&i)return c;for(let d=a+(u>>1);a<d;a++)if(r[a]==t)return c;if(f)return-1}}hasAction(t,e){let i=this.data;for(let r=0;r<2;r++)for(let a=this.stateSlot(t,r?2:1),u;;a+=3){if((u=i[a])==65535)if(i[a+1]==1)u=i[a=ul(i,a+2)];else{if(i[a+1]==2)return ul(i,a+2);break}if(u==e||u==0)return ul(i,a+1)}return 0}stateSlot(t,e){return this.states[t*6+e]}stateFlag(t,e){return(this.stateSlot(t,0)&e)>0}validAction(t,e){return!!this.allActions(t,i=>i==e?!0:null)}allActions(t,e){let i=this.stateSlot(t,4),r=i?e(i):void 0;for(let a=this.stateSlot(t,1);r==null;a+=3){if(this.data[a]==65535)if(this.data[a+1]==1)a=ul(this.data,a+2);else break;r=e(ul(this.data,a+1))}return r}nextStates(t){let e=[];for(let i=this.stateSlot(t,1);;i+=3){if(this.data[i]==65535)if(this.data[i+1]==1)i=ul(this.data,i+2);else break;if((this.data[i+2]&1)==0){let r=this.data[i+1];e.some((a,u)=>u&1&&a==r)||e.push(this.data[i],r)}}return e}configure(t){let e=Object.assign(Object.create(Of.prototype),this);if(t.props&&(e.nodeSet=this.nodeSet.extend(...t.props)),t.top){let i=this.topRules[t.top];if(!i)throw new RangeError(`Invalid top rule name ${t.top}`);e.top=i}return t.tokenizers&&(e.tokenizers=this.tokenizers.map(i=>{let r=t.tokenizers.find(a=>a.from==i);return r?r.to:i})),t.specializers&&(e.specializers=this.specializers.slice(),e.specializerSpecs=this.specializerSpecs.map((i,r)=>{let a=t.specializers.find(f=>f.from==i.external);if(!a)return i;let u=Object.assign(Object.assign({},i),{external:a.to});return e.specializers[r]=Bv(u),u})),t.contextTracker&&(e.context=t.contextTracker),t.dialect&&(e.dialect=this.parseDialect(t.dialect)),t.strict!=null&&(e.strict=t.strict),t.wrap&&(e.wrappers=e.wrappers.concat(t.wrap)),t.bufferLength!=null&&(e.bufferLength=t.bufferLength),e}hasWrappers(){return this.wrappers.length>0}getName(t){return this.termNames?this.termNames[t]:String(t<=this.maxNode&&this.nodeSet.types[t].name||t)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(t){let e=this.dynamicPrecedences;return e==null?0:e[t]||0}parseDialect(t){let e=Object.keys(this.dialects),i=e.map(()=>!1);if(t)for(let a of t.split(" ")){let u=e.indexOf(a);u>=0&&(i[u]=!0)}let r=null;for(let a=0;a<e.length;a++)if(!i[a])for(let u=this.dialects[e[a]],f;(f=this.data[u++])!=65535;)(r||(r=new Uint8Array(this.maxTerm+1)))[f]=1;return new gO(t,i,r)}static deserialize(t){return new Of(t)}}function ul(l,t){return l[t]|l[t+1]<<16}function pO(l){let t=null;for(let e of l){let i=e.p.stoppedAt;(e.pos==e.p.stream.end||i!=null&&e.pos>i)&&e.p.parser.stateFlag(e.state,2)&&(!t||t.score<e.score)&&(t=e)}return t}function Bv(l){if(l.external){let t=l.extend?1:0;return(e,i)=>l.external(e,i)<<1|t}return l.get}class xS{constructor(t,e,i,r){this.state=t,this.pos=e,this.explicit=i,this.view=r,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(t){let e=ii(this.state).resolveInner(this.pos,-1);for(;e&&t.indexOf(e.name)<0;)e=e.parent;return e?{from:e.from,to:this.pos,text:this.state.sliceDoc(e.from,this.pos),type:e.type}:null}matchBefore(t){let e=this.state.doc.lineAt(this.pos),i=Math.max(e.from,this.pos-250),r=e.text.slice(i-e.from,this.pos-e.from),a=r.search(wS(t,!1));return a<0?null:{from:i+a,to:this.pos,text:r.slice(a)}}get aborted(){return this.abortListeners==null}addEventListener(t,e,i){t=="abort"&&this.abortListeners&&(this.abortListeners.push(e),i&&i.onDocChange&&(this.abortOnDocChange=!0))}}function Nv(l){let t=Object.keys(l).join(""),e=/\w/.test(t);return e&&(t=t.replace(/\w/g,"")),`[${e?"\\w":""}${t.replace(/[^\w\s]/g,"\\$&")}]`}function yO(l){let t=Object.create(null),e=Object.create(null);for(let{label:r}of l){t[r[0]]=!0;for(let a=1;a<r.length;a++)e[r[a]]=!0}let i=Nv(t)+Nv(e)+"*$";return[new RegExp("^"+i),new RegExp(i)]}function SS(l){let t=l.map(r=>typeof r=="string"?{label:r}:r),[e,i]=t.every(r=>/^\w+$/.test(r.label))?[/\w*$/,/\w+$/]:yO(t);return r=>{let a=r.matchBefore(i);return a||r.explicit?{from:a?a.from:r.pos,options:t,validFor:e}:null}}function vO(l,t){return e=>{for(let i=ii(e.state).resolveInner(e.pos,-1);i;i=i.parent){if(l.indexOf(i.name)>-1)return null;if(i.type.isTop)break}return t(e)}}class zv{constructor(t,e,i,r){this.completion=t,this.source=e,this.match=i,this.score=r}}function Zl(l){return l.selection.main.from}function wS(l,t){var e;let{source:i}=l,r=t&&i[0]!="^",a=i[i.length-1]!="$";return!r&&!a?l:new RegExp(`${r?"^":""}(?:${i})${a?"$":""}`,(e=l.flags)!==null&&e!==void 0?e:l.ignoreCase?"i":"")}const kS=Pn.define();function bO(l,t,e,i){let{main:r}=l.selection,a=e-r.from,u=i-r.from;return Object.assign(Object.assign({},l.changeByRange(f=>{if(f!=r&&e!=i&&l.sliceDoc(f.from+a,f.from+u)!=l.sliceDoc(e,i))return{range:f};let c=l.toText(t);return{changes:{from:f.from+a,to:i==r.from?f.to:f.from+u,insert:c},range:ot.cursor(f.from+a+c.length)}})),{scrollIntoView:!0,userEvent:"input.complete"})}const Lv=new WeakMap;function xO(l){if(!Array.isArray(l))return l;let t=Lv.get(l);return t||Lv.set(l,t=SS(l)),t}const Mf=Ut.define(),lo=Ut.define();class SO{constructor(t){this.pattern=t,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let e=0;e<t.length;){let i=ai(t,e),r=fn(i);this.chars.push(i);let a=t.slice(e,e+r),u=a.toUpperCase();this.folded.push(ai(u==a?a.toLowerCase():u,0)),e+=r}this.astral=t.length!=this.chars.length}ret(t,e){return this.score=t,this.matched=e,this}match(t){if(this.pattern.length==0)return this.ret(-100,[]);if(t.length<this.pattern.length)return null;let{chars:e,folded:i,any:r,precise:a,byWord:u}=this;if(e.length==1){let B=ai(t,0),j=fn(B),et=j==t.length?0:-100;if(B!=e[0])if(B==i[0])et+=-200;else return null;return this.ret(et,[0,j])}let f=t.indexOf(this.pattern);if(f==0)return this.ret(t.length==this.pattern.length?0:-100,[0,this.pattern.length]);let c=e.length,d=0;if(f<0){for(let B=0,j=Math.min(t.length,200);B<j&&d<c;){let et=ai(t,B);(et==e[d]||et==i[d])&&(r[d++]=B),B+=fn(et)}if(d<c)return null}let g=0,y=0,b=!1,x=0,w=-1,_=-1,O=/[a-z]/.test(t),M=!0;for(let B=0,j=Math.min(t.length,200),et=0;B<j&&y<c;){let L=ai(t,B);f<0&&(g<c&&L==e[g]&&(a[g++]=B),x<c&&(L==e[x]||L==i[x]?(x==0&&(w=B),_=B+1,x++):x=0));let Q,Z=L<255?L>=48&&L<=57||L>=97&&L<=122?2:L>=65&&L<=90?1:0:(Q=Xm(L))!=Q.toLowerCase()?1:Q!=Q.toUpperCase()?2:0;(!B||Z==1&&O||et==0&&Z!=0)&&(e[y]==L||i[y]==L&&(b=!0)?u[y++]=B:u.length&&(M=!1)),et=Z,B+=fn(L)}return y==c&&u[0]==0&&M?this.result(-100+(b?-200:0),u,t):x==c&&w==0?this.ret(-200-t.length+(_==t.length?0:-100),[0,_]):f>-1?this.ret(-700-t.length,[f,f+this.pattern.length]):x==c?this.ret(-900-t.length,[w,_]):y==c?this.result(-100+(b?-200:0)+-700+(M?0:-1100),u,t):e.length==2?null:this.result((r[0]?-700:0)+-200+-1100,r,t)}result(t,e,i){let r=[],a=0;for(let u of e){let f=u+(this.astral?fn(ai(i,u)):1);a&&r[a-1]==u?r[a-1]=f:(r[a++]=u,r[a++]=f)}return this.ret(t-i.length,r)}}class wO{constructor(t){this.pattern=t,this.matched=[],this.score=0,this.folded=t.toLowerCase()}match(t){if(t.length<this.pattern.length)return null;let e=t.slice(0,this.pattern.length),i=e==this.pattern?0:e.toLowerCase()==this.folded?-200:null;return i==null?null:(this.matched=[0,e.length],this.score=i+(t.length==this.pattern.length?0:-100),this)}}const ui=_t.define({combine(l){return Gn(l,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:kO,filterStrict:!1,compareCompletions:(t,e)=>t.label.localeCompare(e.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(t,e)=>t&&e,closeOnBlur:(t,e)=>t&&e,icons:(t,e)=>t&&e,tooltipClass:(t,e)=>i=>Hv(t(i),e(i)),optionClass:(t,e)=>i=>Hv(t(i),e(i)),addToOptions:(t,e)=>t.concat(e),filterStrict:(t,e)=>t||e})}});function Hv(l,t){return l?t?l+" "+t:l:t}function kO(l,t,e,i,r,a){let u=l.textDirection==ke.RTL,f=u,c=!1,d="top",g,y,b=t.left-r.left,x=r.right-t.right,w=i.right-i.left,_=i.bottom-i.top;if(f&&b<Math.min(w,x)?f=!1:!f&&x<Math.min(w,b)&&(f=!0),w<=(f?b:x))g=Math.max(r.top,Math.min(e.top,r.bottom-_))-t.top,y=Math.min(400,f?b:x);else{c=!0,y=Math.min(400,(u?t.right:r.right-t.left)-30);let B=r.bottom-t.bottom;B>=_||B>t.top?g=e.bottom-t.top:(d="bottom",g=t.bottom-e.top)}let O=(t.bottom-t.top)/a.offsetHeight,M=(t.right-t.left)/a.offsetWidth;return{style:`${d}: ${g/O}px; max-width: ${y/M}px`,class:"cm-completionInfo-"+(c?u?"left-narrow":"right-narrow":f?"left":"right")}}function AO(l){let t=l.addToOptions.slice();return l.icons&&t.push({render(e){let i=document.createElement("div");return i.classList.add("cm-completionIcon"),e.type&&i.classList.add(...e.type.split(/\s+/g).map(r=>"cm-completionIcon-"+r)),i.setAttribute("aria-hidden","true"),i},position:20}),t.push({render(e,i,r,a){let u=document.createElement("span");u.className="cm-completionLabel";let f=e.displayLabel||e.label,c=0;for(let d=0;d<a.length;){let g=a[d++],y=a[d++];g>c&&u.appendChild(document.createTextNode(f.slice(c,g)));let b=u.appendChild(document.createElement("span"));b.appendChild(document.createTextNode(f.slice(g,y))),b.className="cm-completionMatchedText",c=y}return c<f.length&&u.appendChild(document.createTextNode(f.slice(c))),u},position:50},{render(e){if(!e.detail)return null;let i=document.createElement("span");return i.className="cm-completionDetail",i.textContent=e.detail,i},position:80}),t.sort((e,i)=>e.position-i.position).map(e=>e.render)}function Ed(l,t,e){if(l<=e)return{from:0,to:l};if(t<0&&(t=0),t<=l>>1){let r=Math.floor(t/e);return{from:r*e,to:(r+1)*e}}let i=Math.floor((l-t)/e);return{from:l-(i+1)*e,to:l-i*e}}class CO{constructor(t,e,i){this.view=t,this.stateField=e,this.applyCompletion=i,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:c=>this.placeInfo(c),key:this},this.space=null,this.currentClass="";let r=t.state.field(e),{options:a,selected:u}=r.open,f=t.state.facet(ui);this.optionContent=AO(f),this.optionClass=f.optionClass,this.tooltipClass=f.tooltipClass,this.range=Ed(a.length,u,f.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(t.state),this.dom.addEventListener("mousedown",c=>{let{options:d}=t.state.field(e).open;for(let g=c.target,y;g&&g!=this.dom;g=g.parentNode)if(g.nodeName=="LI"&&(y=/-(\d+)$/.exec(g.id))&&+y[1]<d.length){this.applyCompletion(t,d[+y[1]]),c.preventDefault();return}}),this.dom.addEventListener("focusout",c=>{let d=t.state.field(this.stateField,!1);d&&d.tooltip&&t.state.facet(ui).closeOnBlur&&c.relatedTarget!=t.contentDOM&&t.dispatch({effects:lo.of(null)})}),this.showOptions(a,r.id)}mount(){this.updateSel()}showOptions(t,e){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(t,e,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(t){var e;let i=t.state.field(this.stateField),r=t.startState.field(this.stateField);if(this.updateTooltipClass(t.state),i!=r){let{options:a,selected:u,disabled:f}=i.open;(!r.open||r.open.options!=a)&&(this.range=Ed(a.length,u,t.state.facet(ui).maxRenderedOptions),this.showOptions(a,i.id)),this.updateSel(),f!=((e=r.open)===null||e===void 0?void 0:e.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!f)}}updateTooltipClass(t){let e=this.tooltipClass(t);if(e!=this.currentClass){for(let i of this.currentClass.split(" "))i&&this.dom.classList.remove(i);for(let i of e.split(" "))i&&this.dom.classList.add(i);this.currentClass=e}}positioned(t){this.space=t,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let t=this.view.state.field(this.stateField),e=t.open;if((e.selected>-1&&e.selected<this.range.from||e.selected>=this.range.to)&&(this.range=Ed(e.options.length,e.selected,this.view.state.facet(ui).maxRenderedOptions),this.showOptions(e.options,t.id)),this.updateSelectedOption(e.selected)){this.destroyInfo();let{completion:i}=e.options[e.selected],{info:r}=i;if(!r)return;let a=typeof r=="string"?document.createTextNode(r):r(i);if(!a)return;"then"in a?a.then(u=>{u&&this.view.state.field(this.stateField,!1)==t&&this.addInfoPane(u,i)}).catch(u=>Li(this.view.state,u,"completion info")):this.addInfoPane(a,i)}}addInfoPane(t,e){this.destroyInfo();let i=this.info=document.createElement("div");if(i.className="cm-tooltip cm-completionInfo",t.nodeType!=null)i.appendChild(t),this.infoDestroy=null;else{let{dom:r,destroy:a}=t;i.appendChild(r),this.infoDestroy=a||null}this.dom.appendChild(i),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(t){let e=null;for(let i=this.list.firstChild,r=this.range.from;i;i=i.nextSibling,r++)i.nodeName!="LI"||!i.id?r--:r==t?i.hasAttribute("aria-selected")||(i.setAttribute("aria-selected","true"),e=i):i.hasAttribute("aria-selected")&&i.removeAttribute("aria-selected");return e&&TO(this.list,e),e}measureInfo(){let t=this.dom.querySelector("[aria-selected]");if(!t||!this.info)return null;let e=this.dom.getBoundingClientRect(),i=this.info.getBoundingClientRect(),r=t.getBoundingClientRect(),a=this.space;if(!a){let u=this.dom.ownerDocument.defaultView||window;a={left:0,top:0,right:u.innerWidth,bottom:u.innerHeight}}return r.top>Math.min(a.bottom,e.bottom)-10||r.bottom<Math.max(a.top,e.top)+10?null:this.view.state.facet(ui).positionInfo(this.view,e,r,i,a,this.dom)}placeInfo(t){this.info&&(t?(t.style&&(this.info.style.cssText=t.style),this.info.className="cm-tooltip cm-completionInfo "+(t.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(t,e,i){const r=document.createElement("ul");r.id=e,r.setAttribute("role","listbox"),r.setAttribute("aria-expanded","true"),r.setAttribute("aria-label",this.view.state.phrase("Completions"));let a=null;for(let u=i.from;u<i.to;u++){let{completion:f,match:c}=t[u],{section:d}=f;if(d){let b=typeof d=="string"?d:d.name;if(b!=a&&(u>i.from||i.from==0))if(a=b,typeof d!="string"&&d.header)r.appendChild(d.header(d));else{let x=r.appendChild(document.createElement("completion-section"));x.textContent=b}}const g=r.appendChild(document.createElement("li"));g.id=e+"-"+u,g.setAttribute("role","option");let y=this.optionClass(f);y&&(g.className=y);for(let b of this.optionContent){let x=b(f,this.view.state,this.view,c);x&&g.appendChild(x)}}return i.from&&r.classList.add("cm-completionListIncompleteTop"),i.to<t.length&&r.classList.add("cm-completionListIncompleteBottom"),r}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function _O(l,t){return e=>new CO(e,l,t)}function TO(l,t){let e=l.getBoundingClientRect(),i=t.getBoundingClientRect(),r=e.height/l.offsetHeight;i.top<e.top?l.scrollTop-=(e.top-i.top)/r:i.bottom>e.bottom&&(l.scrollTop+=(i.bottom-e.bottom)/r)}function Uv(l){return(l.boost||0)*100+(l.apply?10:0)+(l.info?5:0)+(l.type?1:0)}function OO(l,t){let e=[],i=null,r=d=>{e.push(d);let{section:g}=d.completion;if(g){i||(i=[]);let y=typeof g=="string"?g:g.name;i.some(b=>b.name==y)||i.push(typeof g=="string"?{name:y}:g)}},a=t.facet(ui);for(let d of l)if(d.hasResult()){let g=d.result.getMatch;if(d.result.filter===!1)for(let y of d.result.options)r(new zv(y,d.source,g?g(y):[],1e9-e.length));else{let y=t.sliceDoc(d.from,d.to),b,x=a.filterStrict?new wO(y):new SO(y);for(let w of d.result.options)if(b=x.match(w.label)){let _=w.displayLabel?g?g(w,b.matched):[]:b.matched;r(new zv(w,d.source,_,b.score+(w.boost||0)))}}}if(i){let d=Object.create(null),g=0,y=(b,x)=>{var w,_;return((w=b.rank)!==null&&w!==void 0?w:1e9)-((_=x.rank)!==null&&_!==void 0?_:1e9)||(b.name<x.name?-1:1)};for(let b of i.sort(y))g-=1e5,d[b.name]=g;for(let b of e){let{section:x}=b.completion;x&&(b.score+=d[typeof x=="string"?x:x.name])}}let u=[],f=null,c=a.compareCompletions;for(let d of e.sort((g,y)=>y.score-g.score||c(g.completion,y.completion))){let g=d.completion;!f||f.label!=g.label||f.detail!=g.detail||f.type!=null&&g.type!=null&&f.type!=g.type||f.apply!=g.apply||f.boost!=g.boost?u.push(d):Uv(d.completion)>Uv(f)&&(u[u.length-1]=d),f=d.completion}return u}class vs{constructor(t,e,i,r,a,u){this.options=t,this.attrs=e,this.tooltip=i,this.timestamp=r,this.selected=a,this.disabled=u}setSelected(t,e){return t==this.selected||t>=this.options.length?this:new vs(this.options,Vv(e,t),this.tooltip,this.timestamp,t,this.disabled)}static build(t,e,i,r,a){let u=OO(t,e);if(!u.length)return r&&t.some(c=>c.state==1)?new vs(r.options,r.attrs,r.tooltip,r.timestamp,r.selected,!0):null;let f=e.facet(ui).selectOnOpen?0:-1;if(r&&r.selected!=f&&r.selected!=-1){let c=r.options[r.selected].completion;for(let d=0;d<u.length;d++)if(u[d].completion==c){f=d;break}}return new vs(u,Vv(i,f),{pos:t.reduce((c,d)=>d.hasResult()?Math.min(c,d.from):c,1e8),create:NO,above:a.aboveCursor},r?r.timestamp:Date.now(),f,!1)}map(t){return new vs(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:t.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}}class Ef{constructor(t,e,i){this.active=t,this.id=e,this.open=i}static start(){return new Ef(RO,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(t){let{state:e}=t,i=e.facet(ui),a=(i.override||e.languageDataAt("autocomplete",Zl(e)).map(xO)).map(f=>(this.active.find(d=>d.source==f)||new Fi(f,this.active.some(d=>d.state!=0)?1:0)).update(t,i));a.length==this.active.length&&a.every((f,c)=>f==this.active[c])&&(a=this.active);let u=this.open;u&&t.docChanged&&(u=u.map(t.changes)),t.selection||a.some(f=>f.hasResult()&&t.changes.touchesRange(f.from,f.to))||!MO(a,this.active)?u=vs.build(a,e,this.id,u,i):u&&u.disabled&&!a.some(f=>f.state==1)&&(u=null),!u&&a.every(f=>f.state!=1)&&a.some(f=>f.hasResult())&&(a=a.map(f=>f.hasResult()?new Fi(f.source,0):f));for(let f of t.effects)f.is(_S)&&(u=u&&u.setSelected(f.value,this.id));return a==this.active&&u==this.open?this:new Ef(a,this.id,u)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?EO:DO}}function MO(l,t){if(l==t)return!0;for(let e=0,i=0;;){for(;e<l.length&&!l[e].hasResult;)e++;for(;i<t.length&&!t[i].hasResult;)i++;let r=e==l.length,a=i==t.length;if(r||a)return r==a;if(l[e++].result!=t[i++].result)return!1}}const EO={"aria-autocomplete":"list"},DO={};function Vv(l,t){let e={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":l};return t>-1&&(e["aria-activedescendant"]=l+"-"+t),e}const RO=[];function AS(l,t){if(l.isUserEvent("input.complete")){let i=l.annotation(kS);if(i&&t.activateOnCompletion(i))return 12}let e=l.isUserEvent("input.type");return e&&t.activateOnTyping?5:e?1:l.isUserEvent("delete.backward")?2:l.selection?8:l.docChanged?16:0}class Fi{constructor(t,e,i=-1){this.source=t,this.state=e,this.explicitPos=i}hasResult(){return!1}update(t,e){let i=AS(t,e),r=this;(i&8||i&16&&this.touches(t))&&(r=new Fi(r.source,0)),i&4&&r.state==0&&(r=new Fi(this.source,1)),r=r.updateFor(t,i);for(let a of t.effects)if(a.is(Mf))r=new Fi(r.source,1,a.value?Zl(t.state):-1);else if(a.is(lo))r=new Fi(r.source,0);else if(a.is(CS))for(let u of a.value)u.source==r.source&&(r=u);return r}updateFor(t,e){return this.map(t.changes)}map(t){return t.empty||this.explicitPos<0?this:new Fi(this.source,this.state,t.mapPos(this.explicitPos))}touches(t){return t.changes.touchesRange(Zl(t.state))}}class As extends Fi{constructor(t,e,i,r,a){super(t,2,e),this.result=i,this.from=r,this.to=a}hasResult(){return!0}updateFor(t,e){var i;if(!(e&3))return this.map(t.changes);let r=this.result;r.map&&!t.changes.empty&&(r=r.map(r,t.changes));let a=t.changes.mapPos(this.from),u=t.changes.mapPos(this.to,1),f=Zl(t.state);if((this.explicitPos<0?f<=a:f<this.from)||f>u||!r||e&2&&Zl(t.startState)==this.from)return new Fi(this.source,e&4?1:0);let c=this.explicitPos<0?-1:t.changes.mapPos(this.explicitPos);return BO(r.validFor,t.state,a,u)?new As(this.source,c,r,a,u):r.update&&(r=r.update(r,a,u,new xS(t.state,f,c>=0)))?new As(this.source,c,r,r.from,(i=r.to)!==null&&i!==void 0?i:Zl(t.state)):new Fi(this.source,1,c)}map(t){return t.empty?this:(this.result.map?this.result.map(this.result,t):this.result)?new As(this.source,this.explicitPos<0?-1:t.mapPos(this.explicitPos),this.result,t.mapPos(this.from),t.mapPos(this.to,1)):new Fi(this.source,0)}touches(t){return t.changes.touchesRange(this.from,this.to)}}function BO(l,t,e,i){if(!l)return!1;let r=t.sliceDoc(e,i);return typeof l=="function"?l(r,e,i,t):wS(l,!0).test(r)}const CS=Ut.define({map(l,t){return l.map(e=>e.map(t))}}),_S=Ut.define(),zi=hi.define({create(){return Ef.start()},update(l,t){return l.update(t)},provide:l=>[sg.from(l,t=>t.tooltip),At.contentAttributes.from(l,t=>t.attrs)]});function ug(l,t){const e=t.completion.apply||t.completion.label;let i=l.state.field(zi).active.find(r=>r.source==t.source);return i instanceof As?(typeof e=="string"?l.dispatch(Object.assign(Object.assign({},bO(l.state,e,i.from,i.to)),{annotations:kS.of(t.completion)})):e(l,t.completion,i.from,i.to),!0):!1}const NO=_O(zi,ug);function Zu(l,t="option"){return e=>{let i=e.state.field(zi,!1);if(!i||!i.open||i.open.disabled||Date.now()-i.open.timestamp<e.state.facet(ui).interactionDelay)return!1;let r=1,a;t=="page"&&(a=Wx(e,i.open.tooltip))&&(r=Math.max(2,Math.floor(a.dom.offsetHeight/a.dom.querySelector("li").offsetHeight)-1));let{length:u}=i.open.options,f=i.open.selected>-1?i.open.selected+r*(l?1:-1):l?0:u-1;return f<0?f=t=="page"?0:u-1:f>=u&&(f=t=="page"?u-1:0),e.dispatch({effects:_S.of(f)}),!0}}const zO=l=>{let t=l.state.field(zi,!1);return l.state.readOnly||!t||!t.open||t.open.selected<0||t.open.disabled||Date.now()-t.open.timestamp<l.state.facet(ui).interactionDelay?!1:ug(l,t.open.options[t.open.selected])},qv=l=>l.state.field(zi,!1)?(l.dispatch({effects:Mf.of(!0)}),!0):!1,LO=l=>{let t=l.state.field(zi,!1);return!t||!t.active.some(e=>e.state!=0)?!1:(l.dispatch({effects:lo.of(null)}),!0)};class HO{constructor(t,e){this.active=t,this.context=e,this.time=Date.now(),this.updates=[],this.done=void 0}}const UO=50,VO=1e3,qO=Ue.fromClass(class{constructor(l){this.view=l,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let t of l.state.field(zi).active)t.state==1&&this.startQuery(t)}update(l){let t=l.state.field(zi),e=l.state.facet(ui);if(!l.selectionSet&&!l.docChanged&&l.startState.field(zi)==t)return;let i=l.transactions.some(a=>{let u=AS(a,e);return u&8||(a.selection||a.docChanged)&&!(u&3)});for(let a=0;a<this.running.length;a++){let u=this.running[a];if(i||u.context.abortOnDocChange&&l.docChanged||u.updates.length+l.transactions.length>UO&&Date.now()-u.time>VO){for(let f of u.context.abortListeners)try{f()}catch(c){Li(this.view.state,c)}u.context.abortListeners=null,this.running.splice(a--,1)}else u.updates.push(...l.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),l.transactions.some(a=>a.effects.some(u=>u.is(Mf)))&&(this.pendingStart=!0);let r=this.pendingStart?50:e.activateOnTypingDelay;if(this.debounceUpdate=t.active.some(a=>a.state==1&&!this.running.some(u=>u.active.source==a.source))?setTimeout(()=>this.startUpdate(),r):-1,this.composing!=0)for(let a of l.transactions)a.isUserEvent("input.type")?this.composing=2:this.composing==2&&a.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:l}=this.view,t=l.field(zi);for(let e of t.active)e.state==1&&!this.running.some(i=>i.active.source==e.source)&&this.startQuery(e)}startQuery(l){let{state:t}=this.view,e=Zl(t),i=new xS(t,e,l.explicitPos==e,this.view),r=new HO(l,i);this.running.push(r),Promise.resolve(l.source(i)).then(a=>{r.context.aborted||(r.done=a||null,this.scheduleAccept())},a=>{this.view.dispatch({effects:lo.of(null)}),Li(this.view.state,a)})}scheduleAccept(){this.running.every(l=>l.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(ui).updateSyncTime))}accept(){var l;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let t=[],e=this.view.state.facet(ui);for(let i=0;i<this.running.length;i++){let r=this.running[i];if(r.done===void 0)continue;if(this.running.splice(i--,1),r.done){let u=new As(r.active.source,r.active.explicitPos,r.done,r.done.from,(l=r.done.to)!==null&&l!==void 0?l:Zl(r.updates.length?r.updates[0].startState:this.view.state));for(let f of r.updates)u=u.update(f,e);if(u.hasResult()){t.push(u);continue}}let a=this.view.state.field(zi).active.find(u=>u.source==r.active.source);if(a&&a.state==1)if(r.done==null){let u=new Fi(r.active.source,0);for(let f of r.updates)u=u.update(f,e);u.state!=1&&t.push(u)}else this.startQuery(a)}t.length&&this.view.dispatch({effects:CS.of(t)})}},{eventHandlers:{blur(l){let t=this.view.state.field(zi,!1);if(t&&t.tooltip&&this.view.state.facet(ui).closeOnBlur){let e=t.open&&Wx(this.view,t.open.tooltip);(!e||!e.dom.contains(l.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:lo.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:Mf.of(!1)}),20),this.composing=0}}}),jO=typeof navigator=="object"&&/Win/.test(navigator.platform),QO=Dr.highest(At.domEventHandlers({keydown(l,t){let e=t.state.field(zi,!1);if(!e||!e.open||e.open.disabled||e.open.selected<0||l.key.length>1||l.ctrlKey&&!(jO&&l.altKey)||l.metaKey)return!1;let i=e.open.options[e.open.selected],r=e.active.find(u=>u.source==i.source),a=i.completion.commitCharacters||r.result.commitCharacters;return a&&a.indexOf(l.key)>-1&&ug(t,i),!1}})),YO=At.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}}),ro={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},Ar=Ut.define({map(l,t){let e=t.mapPos(l,-1,wi.TrackAfter);return e??void 0}}),fg=new class extends _r{};fg.startSide=1;fg.endSide=-1;const TS=hi.define({create(){return ee.empty},update(l,t){if(l=l.map(t.changes),t.selection){let e=t.state.doc.lineAt(t.selection.main.head);l=l.update({filter:i=>i>=e.from&&i<=e.to})}for(let e of t.effects)e.is(Ar)&&(l=l.update({add:[fg.range(e.value,e.value+1)]}));return l}});function PO(){return[XO,TS]}const Dd="()[]{}<>";function OS(l){for(let t=0;t<Dd.length;t+=2)if(Dd.charCodeAt(t)==l)return Dd.charAt(t+1);return Xm(l<128?l:l+1)}function MS(l,t){return l.languageDataAt("closeBrackets",t)[0]||ro}const GO=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),XO=At.inputHandler.of((l,t,e,i)=>{if((GO?l.composing:l.compositionStarted)||l.state.readOnly)return!1;let r=l.state.selection.main;if(i.length>2||i.length==2&&fn(ai(i,0))==1||t!=r.from||e!=r.to)return!1;let a=IO(l.state,i);return a?(l.dispatch(a),!0):!1}),ZO=({state:l,dispatch:t})=>{if(l.readOnly)return!1;let i=MS(l,l.selection.main.head).brackets||ro.brackets,r=null,a=l.changeByRange(u=>{if(u.empty){let f=FO(l.doc,u.head);for(let c of i)if(c==f&&Zf(l.doc,u.head)==OS(ai(c,0)))return{changes:{from:u.head-c.length,to:u.head+c.length},range:ot.cursor(u.head-c.length)}}return{range:r=u}});return r||t(l.update(a,{scrollIntoView:!0,userEvent:"delete.backward"})),!r},KO=[{key:"Backspace",run:ZO}];function IO(l,t){let e=MS(l,l.selection.main.head),i=e.brackets||ro.brackets;for(let r of i){let a=OS(ai(r,0));if(t==r)return a==r?$O(l,r,i.indexOf(r+r+r)>-1,e):WO(l,r,a,e.before||ro.before);if(t==a&&ES(l,l.selection.main.from))return JO(l,r,a)}return null}function ES(l,t){let e=!1;return l.field(TS).between(0,l.doc.length,i=>{i==t&&(e=!0)}),e}function Zf(l,t){let e=l.sliceString(t,t+2);return e.slice(0,fn(ai(e,0)))}function FO(l,t){let e=l.sliceString(t-2,t);return fn(ai(e,0))==e.length?e:e.slice(1)}function WO(l,t,e,i){let r=null,a=l.changeByRange(u=>{if(!u.empty)return{changes:[{insert:t,from:u.from},{insert:e,from:u.to}],effects:Ar.of(u.to+t.length),range:ot.range(u.anchor+t.length,u.head+t.length)};let f=Zf(l.doc,u.head);return!f||/\s/.test(f)||i.indexOf(f)>-1?{changes:{insert:t+e,from:u.head},effects:Ar.of(u.head+t.length),range:ot.cursor(u.head+t.length)}:{range:r=u}});return r?null:l.update(a,{scrollIntoView:!0,userEvent:"input.type"})}function JO(l,t,e){let i=null,r=l.changeByRange(a=>a.empty&&Zf(l.doc,a.head)==e?{changes:{from:a.head,to:a.head+e.length,insert:e},range:ot.cursor(a.head+e.length)}:i={range:a});return i?null:l.update(r,{scrollIntoView:!0,userEvent:"input.type"})}function $O(l,t,e,i){let r=i.stringPrefixes||ro.stringPrefixes,a=null,u=l.changeByRange(f=>{if(!f.empty)return{changes:[{insert:t,from:f.from},{insert:t,from:f.to}],effects:Ar.of(f.to+t.length),range:ot.range(f.anchor+t.length,f.head+t.length)};let c=f.head,d=Zf(l.doc,c),g;if(d==t){if(jv(l,c))return{changes:{insert:t+t,from:c},effects:Ar.of(c+t.length),range:ot.cursor(c+t.length)};if(ES(l,c)){let b=e&&l.sliceDoc(c,c+t.length*3)==t+t+t?t+t+t:t;return{changes:{from:c,to:c+b.length,insert:b},range:ot.cursor(c+b.length)}}}else{if(e&&l.sliceDoc(c-2*t.length,c)==t+t&&(g=Qv(l,c-2*t.length,r))>-1&&jv(l,g))return{changes:{insert:t+t+t+t,from:c},effects:Ar.of(c+t.length),range:ot.cursor(c+t.length)};if(l.charCategorizer(c)(d)!=Te.Word&&Qv(l,c,r)>-1&&!tM(l,c,t,r))return{changes:{insert:t+t,from:c},effects:Ar.of(c+t.length),range:ot.cursor(c+t.length)}}return{range:a=f}});return a?null:l.update(u,{scrollIntoView:!0,userEvent:"input.type"})}function jv(l,t){let e=ii(l).resolveInner(t+1);return e.parent&&e.from==t}function tM(l,t,e,i){let r=ii(l).resolveInner(t,-1),a=i.reduce((u,f)=>Math.max(u,f.length),0);for(let u=0;u<5;u++){let f=l.sliceDoc(r.from,Math.min(r.to,r.from+e.length+a)),c=f.indexOf(e);if(!c||c>-1&&i.indexOf(f.slice(0,c))>-1){let g=r.firstChild;for(;g&&g.from==r.from&&g.to-g.from>e.length+c;){if(l.sliceDoc(g.to-e.length,g.to)==e)return!1;g=g.firstChild}return!0}let d=r.to==t&&r.parent;if(!d)break;r=d}return!1}function Qv(l,t,e){let i=l.charCategorizer(t);if(i(l.sliceDoc(t-1,t))!=Te.Word)return t;for(let r of e){let a=t-r.length;if(l.sliceDoc(a,t)==r&&i(l.sliceDoc(a-1,a))!=Te.Word)return a}return-1}function eM(l={}){return[QO,zi,ui.of(l),qO,iM,YO]}const DS=[{key:"Ctrl-Space",run:qv},{mac:"Alt-`",run:qv},{key:"Escape",run:LO},{key:"ArrowDown",run:Zu(!0)},{key:"ArrowUp",run:Zu(!1)},{key:"PageDown",run:Zu(!0,"page")},{key:"PageUp",run:Zu(!1,"page")},{key:"Enter",run:zO}],iM=Dr.highest(Qf.computeN([ui],l=>l.facet(ui).defaultKeymap?[DS]:[])),nM=36,Yv=1,lM=2,ds=3,Rd=4,rM=5,sM=6,aM=7,oM=8,uM=9,fM=10,hM=11,cM=12,dM=13,mM=14,gM=15,pM=16,yM=17,Pv=18,vM=19,RS=20,BS=21,Gv=22,bM=23,xM=24;function Mm(l){return l>=65&&l<=90||l>=97&&l<=122||l>=48&&l<=57}function SM(l){return l>=48&&l<=57||l>=97&&l<=102||l>=65&&l<=70}function xr(l,t,e){for(let i=!1;;){if(l.next<0)return;if(l.next==t&&!i){l.advance();return}i=e&&!i&&l.next==92,l.advance()}}function wM(l,t){t:for(;;){if(l.next<0)return;if(l.next==36){l.advance();for(let e=0;e<t.length;e++){if(l.next!=t.charCodeAt(e))continue t;l.advance()}if(l.next==36){l.advance();return}}else l.advance()}}function kM(l,t){let e="[{<(".indexOf(String.fromCharCode(t)),i=e<0?t:"]}>)".charCodeAt(e);for(;;){if(l.next<0)return;if(l.next==i&&l.peek(1)==39){l.advance(2);return}l.advance()}}function Em(l,t){for(;!(l.next!=95&&!Mm(l.next));)t!=null&&(t+=String.fromCharCode(l.next)),l.advance();return t}function AM(l){if(l.next==39||l.next==34||l.next==96){let t=l.next;l.advance(),xr(l,t,!1)}else Em(l)}function Xv(l,t){for(;l.next==48||l.next==49;)l.advance();t&&l.next==t&&l.advance()}function Zv(l,t){for(;;){if(l.next==46){if(t)break;t=!0}else if(l.next<48||l.next>57)break;l.advance()}if(l.next==69||l.next==101)for(l.advance(),(l.next==43||l.next==45)&&l.advance();l.next>=48&&l.next<=57;)l.advance()}function Kv(l){for(;!(l.next<0||l.next==10);)l.advance()}function br(l,t){for(let e=0;e<t.length;e++)if(t.charCodeAt(e)==l)return!0;return!1}const Bd=` 	\r
`;function NS(l,t,e){let i=Object.create(null);i.true=i.false=rM,i.null=i.unknown=sM;for(let r of l.split(" "))r&&(i[r]=RS);for(let r of t.split(" "))r&&(i[r]=BS);for(let r of(e||"").split(" "))r&&(i[r]=xM);return i}const CM="array binary bit boolean char character clob date decimal double float int integer interval large national nchar nclob numeric object precision real smallint time timestamp varchar varying ",_M="absolute action add after all allocate alter and any are as asc assertion at authorization before begin between both breadth by call cascade cascaded case cast catalog check close collate collation column commit condition connect connection constraint constraints constructor continue corresponding count create cross cube current current_date current_default_transform_group current_transform_group_for_type current_path current_role current_time current_timestamp current_user cursor cycle data day deallocate declare default deferrable deferred delete depth deref desc describe descriptor deterministic diagnostics disconnect distinct do domain drop dynamic each else elseif end end-exec equals escape except exception exec execute exists exit external fetch first for foreign found from free full function general get global go goto grant group grouping handle having hold hour identity if immediate in indicator initially inner inout input insert intersect into is isolation join key language last lateral leading leave left level like limit local localtime localtimestamp locator loop map match method minute modifies module month names natural nesting new next no none not of old on only open option or order ordinality out outer output overlaps pad parameter partial path prepare preserve primary prior privileges procedure public read reads recursive redo ref references referencing relative release repeat resignal restrict result return returns revoke right role rollback rollup routine row rows savepoint schema scroll search second section select session session_user set sets signal similar size some space specific specifictype sql sqlexception sqlstate sqlwarning start state static system_user table temporary then timezone_hour timezone_minute to trailing transaction translation treat trigger under undo union unique unnest until update usage user using value values view when whenever where while with without work write year zone ",Dm={backslashEscapes:!1,hashComments:!1,spaceAfterDashes:!1,slashComments:!1,doubleQuotedStrings:!1,doubleDollarQuotedStrings:!1,unquotedBitLiterals:!1,treatBitsAsBytes:!1,charSetCasts:!1,plsqlQuotingMechanism:!1,operatorChars:"*+-%<>!=&|~^/",specialVar:"?",identifierQuotes:'"',caseInsensitiveIdentifiers:!1,words:NS(_M,CM)};function TM(l,t,e,i){let r={};for(let a in Dm)r[a]=(l.hasOwnProperty(a)?l:Dm)[a];return t&&(r.words=NS(t,e||"",i)),r}function zS(l){return new uO(t=>{var e;let{next:i}=t;if(t.advance(),br(i,Bd)){for(;br(t.next,Bd);)t.advance();t.acceptToken(nM)}else if(i==36&&l.doubleDollarQuotedStrings){let r=Em(t,"");t.next==36&&(t.advance(),wM(t,r),t.acceptToken(ds))}else if(i==39||i==34&&l.doubleQuotedStrings)xr(t,i,l.backslashEscapes),t.acceptToken(ds);else if(i==35&&l.hashComments||i==47&&t.next==47&&l.slashComments)Kv(t),t.acceptToken(Yv);else if(i==45&&t.next==45&&(!l.spaceAfterDashes||t.peek(1)==32))Kv(t),t.acceptToken(Yv);else if(i==47&&t.next==42){t.advance();for(let r=1;;){let a=t.next;if(t.next<0)break;if(t.advance(),a==42&&t.next==47){if(r--,t.advance(),!r)break}else a==47&&t.next==42&&(r++,t.advance())}t.acceptToken(lM)}else if((i==101||i==69)&&t.next==39)t.advance(),xr(t,39,!0),t.acceptToken(ds);else if((i==110||i==78)&&t.next==39&&l.charSetCasts)t.advance(),xr(t,39,l.backslashEscapes),t.acceptToken(ds);else if(i==95&&l.charSetCasts)for(let r=0;;r++){if(t.next==39&&r>1){t.advance(),xr(t,39,l.backslashEscapes),t.acceptToken(ds);break}if(!Mm(t.next))break;t.advance()}else if(l.plsqlQuotingMechanism&&(i==113||i==81)&&t.next==39&&t.peek(1)>0&&!br(t.peek(1),Bd)){let r=t.peek(1);t.advance(2),kM(t,r),t.acceptToken(ds)}else if(i==40)t.acceptToken(aM);else if(i==41)t.acceptToken(oM);else if(i==123)t.acceptToken(uM);else if(i==125)t.acceptToken(fM);else if(i==91)t.acceptToken(hM);else if(i==93)t.acceptToken(cM);else if(i==59)t.acceptToken(dM);else if(l.unquotedBitLiterals&&i==48&&t.next==98)t.advance(),Xv(t),t.acceptToken(Gv);else if((i==98||i==66)&&(t.next==39||t.next==34)){const r=t.next;t.advance(),l.treatBitsAsBytes?(xr(t,r,l.backslashEscapes),t.acceptToken(bM)):(Xv(t,r),t.acceptToken(Gv))}else if(i==48&&(t.next==120||t.next==88)||(i==120||i==88)&&t.next==39){let r=t.next==39;for(t.advance();SM(t.next);)t.advance();r&&t.next==39&&t.advance(),t.acceptToken(Rd)}else if(i==46&&t.next>=48&&t.next<=57)Zv(t,!0),t.acceptToken(Rd);else if(i==46)t.acceptToken(mM);else if(i>=48&&i<=57)Zv(t,!1),t.acceptToken(Rd);else if(br(i,l.operatorChars)){for(;br(t.next,l.operatorChars);)t.advance();t.acceptToken(gM)}else if(br(i,l.specialVar))t.next==i&&t.advance(),AM(t),t.acceptToken(yM);else if(br(i,l.identifierQuotes))xr(t,i,!1),t.acceptToken(vM);else if(i==58||i==44)t.acceptToken(pM);else if(Mm(i)){let r=Em(t,String.fromCharCode(i));t.acceptToken(t.next==46||t.peek(-r.length-1)==46?Pv:(e=l.words[r.toLowerCase()])!==null&&e!==void 0?e:Pv)}})}const LS=zS(Dm),OM=Of.deserialize({version:14,states:"%vQ]QQOOO#wQRO'#DSO$OQQO'#CwO%eQQO'#CxO%lQQO'#CyO%sQQO'#CzOOQQ'#DS'#DSOOQQ'#C}'#C}O'UQRO'#C{OOQQ'#Cv'#CvOOQQ'#C|'#C|Q]QQOOQOQQOOO'`QQO'#DOO(xQRO,59cO)PQQO,59cO)UQQO'#DSOOQQ,59d,59dO)cQQO,59dOOQQ,59e,59eO)jQQO,59eOOQQ,59f,59fO)qQQO,59fOOQQ-E6{-E6{OOQQ,59b,59bOOQQ-E6z-E6zOOQQ,59j,59jOOQQ-E6|-E6|O+VQRO1G.}O+^QQO,59cOOQQ1G/O1G/OOOQQ1G/P1G/POOQQ1G/Q1G/QP+kQQO'#C}O+rQQO1G.}O)PQQO,59cO,PQQO'#Cw",stateData:",[~OtOSPOSQOS~ORUOSUOTUOUUOVROXSOZTO]XO^QO_UO`UOaPObPOcPOdUOeUOfUOgUOhUO~O^]ORvXSvXTvXUvXVvXXvXZvX]vX_vX`vXavXbvXcvXdvXevXfvXgvXhvX~OsvX~P!jOa_Ob_Oc_O~ORUOSUOTUOUUOVROXSOZTO^tO_UO`UOa`Ob`Oc`OdUOeUOfUOgUOhUO~OWaO~P$ZOYcO~P$ZO[eO~P$ZORUOSUOTUOUUOVROXSOZTO^QO_UO`UOaPObPOcPOdUOeUOfUOgUOhUO~O]hOsoX~P%zOajObjOcjO~O^]ORkaSkaTkaUkaVkaXkaZka]ka_ka`kaakabkackadkaekafkagkahka~Oska~P'kO^]O~OWvXYvX[vX~P!jOWnO~P$ZOYoO~P$ZO[pO~P$ZO^]ORkiSkiTkiUkiVkiXkiZki]ki_ki`kiakibkickidkiekifkigkihki~Oski~P)xOWkaYka[ka~P'kO]hO~P$ZOWkiYki[ki~P)xOasObsOcsO~O",goto:"#hwPPPPPPPPPPPPPPPPPPPPPPPPPPx||||!Y!^!d!xPPP#[TYOZeUORSTWZbdfqT[OZQZORiZSWOZQbRQdSQfTZgWbdfqQ^PWk^lmrQl_Qm`RrseVORSTWZbdfq",nodeNames:" LineComment BlockComment String Number Bool Null ( ) { } [ ] ; . Operator Punctuation SpecialVar Identifier QuotedIdentifier Keyword Type Bits Bytes Builtin Script Statement CompositeIdentifier Parens Braces Brackets Statement",maxTerm:38,nodeProps:[["isolate",-4,1,2,3,19,""]],skippedNodes:[0,1,2],repeatNodeCount:3,tokenData:"RORO",tokenizers:[0,LS],topRules:{Script:[0,25]},tokenPrec:0});function Rm(l){let t=l.cursor().moveTo(l.from,-1);for(;/Comment/.test(t.name);)t.moveTo(t.from,-1);return t.node}function so(l,t){let e=l.sliceString(t.from,t.to),i=/^([`'"])(.*)\1$/.exec(e);return i?i[2]:e}function Df(l){return l&&(l.name=="Identifier"||l.name=="QuotedIdentifier")}function MM(l,t){if(t.name=="CompositeIdentifier"){let e=[];for(let i=t.firstChild;i;i=i.nextSibling)Df(i)&&e.push(so(l,i));return e}return[so(l,t)]}function Iv(l,t){for(let e=[];;){if(!t||t.name!=".")return e;let i=Rm(t);if(!Df(i))return e;e.unshift(so(l,i)),t=Rm(i)}}function EM(l,t){let e=ii(l).resolveInner(t,-1),i=RM(l.doc,e);return e.name=="Identifier"||e.name=="QuotedIdentifier"||e.name=="Keyword"?{from:e.from,quoted:e.name=="QuotedIdentifier"?l.doc.sliceString(e.from,e.from+1):null,parents:Iv(l.doc,Rm(e)),aliases:i}:e.name=="."?{from:t,quoted:null,parents:Iv(l.doc,e),aliases:i}:{from:t,quoted:null,parents:[],empty:!0,aliases:i}}const DM=new Set("where group having order union intersect except all distinct limit offset fetch for".split(" "));function RM(l,t){let e;for(let r=t;!e;r=r.parent){if(!r)return null;r.name=="Statement"&&(e=r)}let i=null;for(let r=e.firstChild,a=!1,u=null;r;r=r.nextSibling){let f=r.name=="Keyword"?l.sliceString(r.from,r.to).toLowerCase():null,c=null;if(!a)a=f=="from";else if(f=="as"&&u&&Df(r.nextSibling))c=so(l,r.nextSibling);else{if(f&&DM.has(f))break;u&&Df(r)&&(c=so(l,r))}c&&(i||(i=Object.create(null)),i[c]=MM(l,u)),u=/Identifier$/.test(r.name)?r:null}return i}function BM(l,t){return l?t.map(e=>Object.assign(Object.assign({},e),{label:e.label[0]==l?e.label:l+e.label+l,apply:void 0})):t}const NM=/^\w*$/,zM=/^[`'"]?\w*[`'"]?$/;function Fv(l){return l.self&&typeof l.self.label=="string"}class hg{constructor(t,e){this.idQuote=t,this.idCaseInsensitive=e,this.list=[],this.children=void 0}child(t){let e=this.children||(this.children=Object.create(null)),i=e[t];return i||(t&&!this.list.some(r=>r.label==t)&&this.list.push(Wv(t,"type",this.idQuote,this.idCaseInsensitive)),e[t]=new hg(this.idQuote,this.idCaseInsensitive))}maybeChild(t){return this.children?this.children[t]:null}addCompletion(t){let e=this.list.findIndex(i=>i.label==t.label);e>-1?this.list[e]=t:this.list.push(t)}addCompletions(t){for(let e of t)this.addCompletion(typeof e=="string"?Wv(e,"property",this.idQuote,this.idCaseInsensitive):e)}addNamespace(t){Array.isArray(t)?this.addCompletions(t):Fv(t)?this.addNamespace(t.children):this.addNamespaceObject(t)}addNamespaceObject(t){for(let e of Object.keys(t)){let i=t[e],r=null,a=e.replace(/\\?\./g,f=>f=="."?"\0":f).split("\0"),u=this;Fv(i)&&(r=i.self,i=i.children);for(let f=0;f<a.length;f++)r&&f==a.length-1&&u.addCompletion(r),u=u.child(a[f].replace(/\\\./g,"."));u.addNamespace(i)}}}function Wv(l,t,e,i){return new RegExp("^[a-z_][a-z_\\d]*$",i?"i":"").test(l)?{label:l,type:t}:{label:l,type:t,apply:e+l+e}}function LM(l,t,e,i,r,a){var u;let f=((u=a==null?void 0:a.spec.identifierQuotes)===null||u===void 0?void 0:u[0])||'"',c=new hg(f,!!(a!=null&&a.spec.caseInsensitiveIdentifiers)),d=r?c.child(r):null;return c.addNamespace(l),t&&(d||c).addCompletions(t),e&&c.addCompletions(e),d&&c.addCompletions(d.list),i&&c.addCompletions((d||c).child(i).list),g=>{let{parents:y,from:b,quoted:x,empty:w,aliases:_}=EM(g.state,g.pos);if(w&&!g.explicit)return null;_&&y.length==1&&(y=_[y[0]]||y);let O=c;for(let j of y){for(;!O.children||!O.children[j];)if(O==c&&d)O=d;else if(O==d&&i)O=O.child(i);else return null;let et=O.maybeChild(j);if(!et)return null;O=et}let M=x&&g.state.sliceDoc(g.pos,g.pos+1)==x,B=O.list;return O==c&&_&&(B=B.concat(Object.keys(_).map(j=>({label:j,type:"constant"})))),{from:b,to:M?g.pos+1:void 0,options:BM(x,B),validFor:x?zM:NM}}}function HM(l){return l==BS?"type":l==RS?"keyword":"variable"}function UM(l,t,e){let i=Object.keys(l).map(r=>e(t?r.toUpperCase():r,HM(l[r])));return vO(["QuotedIdentifier","SpecialVar","String","LineComment","BlockComment","."],SS(i))}let VM=OM.configure({props:[rS.add({Statement:OT()}),aS.add({Statement(l,t){return{from:Math.min(l.from+100,t.doc.lineAt(l.from).to),to:l.to}},BlockComment(l){return{from:l.from+2,to:l.to-2}}}),eS({Keyword:I.keyword,Type:I.typeName,Builtin:I.standard(I.name),Bits:I.number,Bytes:I.string,Bool:I.bool,Null:I.null,Number:I.number,String:I.string,Identifier:I.name,QuotedIdentifier:I.special(I.string),SpecialVar:I.special(I.name),LineComment:I.lineComment,BlockComment:I.blockComment,Operator:I.operator,"Semi Punctuation":I.punctuation,"( )":I.paren,"{ }":I.brace,"[ ]":I.squareBracket})]});class cg{constructor(t,e,i){this.dialect=t,this.language=e,this.spec=i}get extension(){return this.language.extension}static define(t){let e=TM(t,t.keywords,t.types,t.builtin),i=Sf.define({name:"sql",parser:VM.configure({tokenizers:[{from:LS,to:zS(e)}]}),languageData:{commentTokens:{line:"--",block:{open:"/*",close:"*/"}},closeBrackets:{brackets:["(","[","{","'",'"',"`"]}}});return new cg(e,i,t)}}function qM(l,t){return{label:l,type:t,boost:-1}}function jM(l,t=!1,e){return UM(l.dialect.words,t,e||qM)}function QM(l){return l.schema?LM(l.schema,l.tables,l.schemas,l.defaultTable,l.defaultSchema,l.dialect||dg):()=>null}function YM(l){return l.schema?(l.dialect||dg).language.data.of({autocomplete:QM(l)}):[]}function PM(l={}){let t=l.dialect||dg;return new bT(t.language,[YM(l),t.language.data.of({autocomplete:jM(t,l.upperCaseKeywords,l.keywordCompletion)})])}const dg=cg.define({});function Bm(){return Bm=Object.assign?Object.assign.bind():function(l){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(l[i]=e[i])}return l},Bm.apply(null,arguments)}function GM(l,t){if(l==null)return{};var e={};for(var i in l)if({}.hasOwnProperty.call(l,i)){if(t.indexOf(i)!==-1)continue;e[i]=l[i]}return e}const XM=l=>{let{state:t}=l,e=t.doc.lineAt(t.selection.main.from),i=gg(l.state,e.from);return i.line?ZM(l):i.block?IM(l):!1};function mg(l,t){return({state:e,dispatch:i})=>{if(e.readOnly)return!1;let r=l(t,e);return r?(i(e.update(r)),!0):!1}}const ZM=mg(JM,0),KM=mg(HS,0),IM=mg((l,t)=>HS(l,t,WM(t)),0);function gg(l,t){let e=l.languageDataAt("commentTokens",t);return e.length?e[0]:{}}const La=50;function FM(l,{open:t,close:e},i,r){let a=l.sliceDoc(i-La,i),u=l.sliceDoc(r,r+La),f=/\s*$/.exec(a)[0].length,c=/^\s*/.exec(u)[0].length,d=a.length-f;if(a.slice(d-t.length,d)==t&&u.slice(c,c+e.length)==e)return{open:{pos:i-f,margin:f&&1},close:{pos:r+c,margin:c&&1}};let g,y;r-i<=2*La?g=y=l.sliceDoc(i,r):(g=l.sliceDoc(i,i+La),y=l.sliceDoc(r-La,r));let b=/^\s*/.exec(g)[0].length,x=/\s*$/.exec(y)[0].length,w=y.length-x-e.length;return g.slice(b,b+t.length)==t&&y.slice(w,w+e.length)==e?{open:{pos:i+b+t.length,margin:/\s/.test(g.charAt(b+t.length))?1:0},close:{pos:r-x-e.length,margin:/\s/.test(y.charAt(w-1))?1:0}}:null}function WM(l){let t=[];for(let e of l.selection.ranges){let i=l.doc.lineAt(e.from),r=e.to<=i.to?i:l.doc.lineAt(e.to);r.from>i.from&&r.from==e.to&&(r=e.to==i.to+1?i:l.doc.lineAt(e.to-1));let a=t.length-1;a>=0&&t[a].to>i.from?t[a].to=r.to:t.push({from:i.from+/^\s*/.exec(i.text)[0].length,to:r.to})}return t}function HS(l,t,e=t.selection.ranges){let i=e.map(a=>gg(t,a.from).block);if(!i.every(a=>a))return null;let r=e.map((a,u)=>FM(t,i[u],a.from,a.to));if(l!=2&&!r.every(a=>a))return{changes:t.changes(e.map((a,u)=>r[u]?[]:[{from:a.from,insert:i[u].open+" "},{from:a.to,insert:" "+i[u].close}]))};if(l!=1&&r.some(a=>a)){let a=[];for(let u=0,f;u<r.length;u++)if(f=r[u]){let c=i[u],{open:d,close:g}=f;a.push({from:d.pos-c.open.length,to:d.pos+d.margin},{from:g.pos-g.margin,to:g.pos+c.close.length})}return{changes:a}}return null}function JM(l,t,e=t.selection.ranges){let i=[],r=-1;for(let{from:a,to:u}of e){let f=i.length,c=1e9,d=gg(t,a).line;if(d){for(let g=a;g<=u;){let y=t.doc.lineAt(g);if(y.from>r&&(a==u||u>y.from)){r=y.from;let b=/^\s*/.exec(y.text)[0].length,x=b==y.length,w=y.text.slice(b,b+d.length)==d?b:-1;b<y.text.length&&b<c&&(c=b),i.push({line:y,comment:w,token:d,indent:b,empty:x,single:!1})}g=y.to+1}if(c<1e9)for(let g=f;g<i.length;g++)i[g].indent<i[g].line.text.length&&(i[g].indent=c);i.length==f+1&&(i[f].single=!0)}}if(l!=2&&i.some(a=>a.comment<0&&(!a.empty||a.single))){let a=[];for(let{line:f,token:c,indent:d,empty:g,single:y}of i)(y||!g)&&a.push({from:f.from+d,insert:c+" "});let u=t.changes(a);return{changes:u,selection:t.selection.map(u,1)}}else if(l!=1&&i.some(a=>a.comment>=0)){let a=[];for(let{line:u,comment:f,token:c}of i)if(f>=0){let d=u.from+f,g=d+c.length;u.text[g-u.from]==" "&&g++,a.push({from:d,to:g})}return{changes:a}}return null}const Nm=Pn.define(),$M=Pn.define(),tE=_t.define(),US=_t.define({combine(l){return Gn(l,{minDepth:100,newGroupDelay:500,joinToEvent:(t,e)=>e},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(t,e)=>(i,r)=>t(i,r)||e(i,r)})}}),VS=hi.define({create(){return jn.empty},update(l,t){let e=t.state.facet(US),i=t.annotation(Nm);if(i){let c=Hi.fromTransaction(t,i.selection),d=i.side,g=d==0?l.undone:l.done;return c?g=Rf(g,g.length,e.minDepth,c):g=QS(g,t.startState.selection),new jn(d==0?i.rest:g,d==0?g:i.rest)}let r=t.annotation($M);if((r=="full"||r=="before")&&(l=l.isolate()),t.annotation(Ie.addToHistory)===!1)return t.changes.empty?l:l.addMapping(t.changes.desc);let a=Hi.fromTransaction(t),u=t.annotation(Ie.time),f=t.annotation(Ie.userEvent);return a?l=l.addChanges(a,u,f,e,t):t.selection&&(l=l.addSelection(t.startState.selection,u,f,e.newGroupDelay)),(r=="full"||r=="after")&&(l=l.isolate()),l},toJSON(l){return{done:l.done.map(t=>t.toJSON()),undone:l.undone.map(t=>t.toJSON())}},fromJSON(l){return new jn(l.done.map(Hi.fromJSON),l.undone.map(Hi.fromJSON))}});function eE(l={}){return[VS,US.of(l),At.domEventHandlers({beforeinput(t,e){let i=t.inputType=="historyUndo"?qS:t.inputType=="historyRedo"?zm:null;return i?(t.preventDefault(),i(e)):!1}})]}function Kf(l,t){return function({state:e,dispatch:i}){if(!t&&e.readOnly)return!1;let r=e.field(VS,!1);if(!r)return!1;let a=r.pop(l,e,t);return a?(i(a),!0):!1}}const qS=Kf(0,!1),zm=Kf(1,!1),iE=Kf(0,!0),nE=Kf(1,!0);class Hi{constructor(t,e,i,r,a){this.changes=t,this.effects=e,this.mapped=i,this.startSelection=r,this.selectionsAfter=a}setSelAfter(t){return new Hi(this.changes,this.effects,this.mapped,this.startSelection,t)}toJSON(){var t,e,i;return{changes:(t=this.changes)===null||t===void 0?void 0:t.toJSON(),mapped:(e=this.mapped)===null||e===void 0?void 0:e.toJSON(),startSelection:(i=this.startSelection)===null||i===void 0?void 0:i.toJSON(),selectionsAfter:this.selectionsAfter.map(r=>r.toJSON())}}static fromJSON(t){return new Hi(t.changes&&Ke.fromJSON(t.changes),[],t.mapped&&Qn.fromJSON(t.mapped),t.startSelection&&ot.fromJSON(t.startSelection),t.selectionsAfter.map(ot.fromJSON))}static fromTransaction(t,e){let i=hn;for(let r of t.startState.facet(tE)){let a=r(t);a.length&&(i=i.concat(a))}return!i.length&&t.changes.empty?null:new Hi(t.changes.invert(t.startState.doc),i,void 0,e||t.startState.selection,hn)}static selection(t){return new Hi(void 0,hn,void 0,void 0,t)}}function Rf(l,t,e,i){let r=t+1>e+20?t-e-1:0,a=l.slice(r,t);return a.push(i),a}function lE(l,t){let e=[],i=!1;return l.iterChangedRanges((r,a)=>e.push(r,a)),t.iterChangedRanges((r,a,u,f)=>{for(let c=0;c<e.length;){let d=e[c++],g=e[c++];f>=d&&u<=g&&(i=!0)}}),i}function rE(l,t){return l.ranges.length==t.ranges.length&&l.ranges.filter((e,i)=>e.empty!=t.ranges[i].empty).length===0}function jS(l,t){return l.length?t.length?l.concat(t):l:t}const hn=[],sE=200;function QS(l,t){if(l.length){let e=l[l.length-1],i=e.selectionsAfter.slice(Math.max(0,e.selectionsAfter.length-sE));return i.length&&i[i.length-1].eq(t)?l:(i.push(t),Rf(l,l.length-1,1e9,e.setSelAfter(i)))}else return[Hi.selection([t])]}function aE(l){let t=l[l.length-1],e=l.slice();return e[l.length-1]=t.setSelAfter(t.selectionsAfter.slice(0,t.selectionsAfter.length-1)),e}function Nd(l,t){if(!l.length)return l;let e=l.length,i=hn;for(;e;){let r=oE(l[e-1],t,i);if(r.changes&&!r.changes.empty||r.effects.length){let a=l.slice(0,e);return a[e-1]=r,a}else t=r.mapped,e--,i=r.selectionsAfter}return i.length?[Hi.selection(i)]:hn}function oE(l,t,e){let i=jS(l.selectionsAfter.length?l.selectionsAfter.map(f=>f.map(t)):hn,e);if(!l.changes)return Hi.selection(i);let r=l.changes.map(t),a=t.mapDesc(l.changes,!0),u=l.mapped?l.mapped.composeDesc(a):a;return new Hi(r,Ut.mapEffects(l.effects,t),u,l.startSelection.map(a),i)}const uE=/^(input\.type|delete)($|\.)/;class jn{constructor(t,e,i=0,r=void 0){this.done=t,this.undone=e,this.prevTime=i,this.prevUserEvent=r}isolate(){return this.prevTime?new jn(this.done,this.undone):this}addChanges(t,e,i,r,a){let u=this.done,f=u[u.length-1];return f&&f.changes&&!f.changes.empty&&t.changes&&(!i||uE.test(i))&&(!f.selectionsAfter.length&&e-this.prevTime<r.newGroupDelay&&r.joinToEvent(a,lE(f.changes,t.changes))||i=="input.type.compose")?u=Rf(u,u.length-1,r.minDepth,new Hi(t.changes.compose(f.changes),jS(Ut.mapEffects(t.effects,f.changes),f.effects),f.mapped,f.startSelection,hn)):u=Rf(u,u.length,r.minDepth,t),new jn(u,hn,e,i)}addSelection(t,e,i,r){let a=this.done.length?this.done[this.done.length-1].selectionsAfter:hn;return a.length>0&&e-this.prevTime<r&&i==this.prevUserEvent&&i&&/^select($|\.)/.test(i)&&rE(a[a.length-1],t)?this:new jn(QS(this.done,t),this.undone,e,i)}addMapping(t){return new jn(Nd(this.done,t),Nd(this.undone,t),this.prevTime,this.prevUserEvent)}pop(t,e,i){let r=t==0?this.done:this.undone;if(r.length==0)return null;let a=r[r.length-1],u=a.selectionsAfter[0]||e.selection;if(i&&a.selectionsAfter.length)return e.update({selection:a.selectionsAfter[a.selectionsAfter.length-1],annotations:Nm.of({side:t,rest:aE(r),selection:u}),userEvent:t==0?"select.undo":"select.redo",scrollIntoView:!0});if(a.changes){let f=r.length==1?hn:r.slice(0,r.length-1);return a.mapped&&(f=Nd(f,a.mapped)),e.update({changes:a.changes,selection:a.startSelection,effects:a.effects,annotations:Nm.of({side:t,rest:f,selection:u}),filter:!1,userEvent:t==0?"undo":"redo",scrollIntoView:!0})}else return null}}jn.empty=new jn(hn,hn);const fE=[{key:"Mod-z",run:qS,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:zm,preventDefault:!0},{linux:"Ctrl-Shift-z",run:zm,preventDefault:!0},{key:"Mod-u",run:iE,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:nE,preventDefault:!0}];function zs(l,t){return ot.create(l.ranges.map(t),l.mainIndex)}function Xn(l,t){return l.update({selection:t,scrollIntoView:!0,userEvent:"select"})}function Cn({state:l,dispatch:t},e){let i=zs(l.selection,e);return i.eq(l.selection,!0)?!1:(t(Xn(l,i)),!0)}function If(l,t){return ot.cursor(t?l.to:l.from)}function YS(l,t){return Cn(l,e=>e.empty?l.moveByChar(e,t):If(e,t))}function yi(l){return l.textDirectionAt(l.state.selection.main.head)==ke.LTR}const PS=l=>YS(l,!yi(l)),GS=l=>YS(l,yi(l));function XS(l,t){return Cn(l,e=>e.empty?l.moveByGroup(e,t):If(e,t))}const hE=l=>XS(l,!yi(l)),cE=l=>XS(l,yi(l));function dE(l,t,e){if(t.type.prop(e))return!0;let i=t.to-t.from;return i&&(i>2||/[^\s,.;:]/.test(l.sliceDoc(t.from,t.to)))||t.firstChild}function Ff(l,t,e){let i=ii(l).resolveInner(t.head),r=e?Gt.closedBy:Gt.openedBy;for(let c=t.head;;){let d=e?i.childAfter(c):i.childBefore(c);if(!d)break;dE(l,d,r)?i=d:c=e?d.to:d.from}let a=i.type.prop(r),u,f;return a&&(u=e?qn(l,i.from,1):qn(l,i.to,-1))&&u.matched?f=e?u.end.to:u.end.from:f=e?i.to:i.from,ot.cursor(f,e?-1:1)}const mE=l=>Cn(l,t=>Ff(l.state,t,!yi(l))),gE=l=>Cn(l,t=>Ff(l.state,t,yi(l)));function ZS(l,t){return Cn(l,e=>{if(!e.empty)return If(e,t);let i=l.moveVertically(e,t);return i.head!=e.head?i:l.moveToLineBoundary(e,t)})}const KS=l=>ZS(l,!1),IS=l=>ZS(l,!0);function FS(l){let t=l.scrollDOM.clientHeight<l.scrollDOM.scrollHeight-2,e=0,i=0,r;if(t){for(let a of l.state.facet(At.scrollMargins)){let u=a(l);u!=null&&u.top&&(e=Math.max(u==null?void 0:u.top,e)),u!=null&&u.bottom&&(i=Math.max(u==null?void 0:u.bottom,i))}r=l.scrollDOM.clientHeight-e-i}else r=(l.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:e,marginBottom:i,selfScroll:t,height:Math.max(l.defaultLineHeight,r-5)}}function WS(l,t){let e=FS(l),{state:i}=l,r=zs(i.selection,u=>u.empty?l.moveVertically(u,t,e.height):If(u,t));if(r.eq(i.selection))return!1;let a;if(e.selfScroll){let u=l.coordsAtPos(i.selection.main.head),f=l.scrollDOM.getBoundingClientRect(),c=f.top+e.marginTop,d=f.bottom-e.marginBottom;u&&u.top>c&&u.bottom<d&&(a=At.scrollIntoView(r.main.head,{y:"start",yMargin:u.top-c}))}return l.dispatch(Xn(i,r),{effects:a}),!0}const Jv=l=>WS(l,!1),Lm=l=>WS(l,!0);function er(l,t,e){let i=l.lineBlockAt(t.head),r=l.moveToLineBoundary(t,e);if(r.head==t.head&&r.head!=(e?i.to:i.from)&&(r=l.moveToLineBoundary(t,e,!1)),!e&&r.head==i.from&&i.length){let a=/^\s*/.exec(l.state.sliceDoc(i.from,Math.min(i.from+100,i.to)))[0].length;a&&t.head!=i.from+a&&(r=ot.cursor(i.from+a))}return r}const pE=l=>Cn(l,t=>er(l,t,!0)),yE=l=>Cn(l,t=>er(l,t,!1)),vE=l=>Cn(l,t=>er(l,t,!yi(l))),bE=l=>Cn(l,t=>er(l,t,yi(l))),xE=l=>Cn(l,t=>ot.cursor(l.lineBlockAt(t.head).from,1)),SE=l=>Cn(l,t=>ot.cursor(l.lineBlockAt(t.head).to,-1));function wE(l,t,e){let i=!1,r=zs(l.selection,a=>{let u=qn(l,a.head,-1)||qn(l,a.head,1)||a.head>0&&qn(l,a.head-1,1)||a.head<l.doc.length&&qn(l,a.head+1,-1);if(!u||!u.end)return a;i=!0;let f=u.start.from==a.head?u.end.to:u.end.from;return ot.cursor(f)});return i?(t(Xn(l,r)),!0):!1}const kE=({state:l,dispatch:t})=>wE(l,t);function gn(l,t){let e=zs(l.state.selection,i=>{let r=t(i);return ot.range(i.anchor,r.head,r.goalColumn,r.bidiLevel||void 0)});return e.eq(l.state.selection)?!1:(l.dispatch(Xn(l.state,e)),!0)}function JS(l,t){return gn(l,e=>l.moveByChar(e,t))}const $S=l=>JS(l,!yi(l)),t2=l=>JS(l,yi(l));function e2(l,t){return gn(l,e=>l.moveByGroup(e,t))}const AE=l=>e2(l,!yi(l)),CE=l=>e2(l,yi(l)),_E=l=>gn(l,t=>Ff(l.state,t,!yi(l))),TE=l=>gn(l,t=>Ff(l.state,t,yi(l)));function i2(l,t){return gn(l,e=>l.moveVertically(e,t))}const n2=l=>i2(l,!1),l2=l=>i2(l,!0);function r2(l,t){return gn(l,e=>l.moveVertically(e,t,FS(l).height))}const $v=l=>r2(l,!1),tb=l=>r2(l,!0),OE=l=>gn(l,t=>er(l,t,!0)),ME=l=>gn(l,t=>er(l,t,!1)),EE=l=>gn(l,t=>er(l,t,!yi(l))),DE=l=>gn(l,t=>er(l,t,yi(l))),RE=l=>gn(l,t=>ot.cursor(l.lineBlockAt(t.head).from)),BE=l=>gn(l,t=>ot.cursor(l.lineBlockAt(t.head).to)),eb=({state:l,dispatch:t})=>(t(Xn(l,{anchor:0})),!0),ib=({state:l,dispatch:t})=>(t(Xn(l,{anchor:l.doc.length})),!0),nb=({state:l,dispatch:t})=>(t(Xn(l,{anchor:l.selection.main.anchor,head:0})),!0),lb=({state:l,dispatch:t})=>(t(Xn(l,{anchor:l.selection.main.anchor,head:l.doc.length})),!0),NE=({state:l,dispatch:t})=>(t(l.update({selection:{anchor:0,head:l.doc.length},userEvent:"select"})),!0),zE=({state:l,dispatch:t})=>{let e=Wf(l).map(({from:i,to:r})=>ot.range(i,Math.min(r+1,l.doc.length)));return t(l.update({selection:ot.create(e),userEvent:"select"})),!0},LE=({state:l,dispatch:t})=>{let e=zs(l.selection,i=>{let r=ii(l),a=r.resolveStack(i.from,1);if(i.empty){let u=r.resolveStack(i.from,-1);u.node.from>=a.node.from&&u.node.to<=a.node.to&&(a=u)}for(let u=a;u;u=u.next){let{node:f}=u;if((f.from<i.from&&f.to>=i.to||f.to>i.to&&f.from<=i.from)&&u.next)return ot.range(f.to,f.from)}return i});return e.eq(l.selection)?!1:(t(Xn(l,e)),!0)},HE=({state:l,dispatch:t})=>{let e=l.selection,i=null;return e.ranges.length>1?i=ot.create([e.main]):e.main.empty||(i=ot.create([ot.cursor(e.main.head)])),i?(t(Xn(l,i)),!0):!1};function yo(l,t){if(l.state.readOnly)return!1;let e="delete.selection",{state:i}=l,r=i.changeByRange(a=>{let{from:u,to:f}=a;if(u==f){let c=t(a);c<u?(e="delete.backward",c=Ku(l,c,!1)):c>u&&(e="delete.forward",c=Ku(l,c,!0)),u=Math.min(u,c),f=Math.max(f,c)}else u=Ku(l,u,!1),f=Ku(l,f,!0);return u==f?{range:a}:{changes:{from:u,to:f},range:ot.cursor(u,u<a.head?-1:1)}});return r.changes.empty?!1:(l.dispatch(i.update(r,{scrollIntoView:!0,userEvent:e,effects:e=="delete.selection"?At.announce.of(i.phrase("Selection deleted")):void 0})),!0)}function Ku(l,t,e){if(l instanceof At)for(let i of l.state.facet(At.atomicRanges).map(r=>r(l)))i.between(t,t,(r,a)=>{r<t&&a>t&&(t=e?a:r)});return t}const s2=(l,t,e)=>yo(l,i=>{let r=i.from,{state:a}=l,u=a.doc.lineAt(r),f,c;if(e&&!t&&r>u.from&&r<u.from+200&&!/[^ \t]/.test(f=u.text.slice(0,r-u.from))){if(f[f.length-1]=="	")return r-1;let d=Ns(f,a.tabSize),g=d%kf(a)||kf(a);for(let y=0;y<g&&f[f.length-1-y]==" ";y++)r--;c=r}else c=fi(u.text,r-u.from,t,t)+u.from,c==r&&u.number!=(t?a.doc.lines:1)?c+=t?1:-1:!t&&/[\ufe00-\ufe0f]/.test(u.text.slice(c-u.from,r-u.from))&&(c=fi(u.text,c-u.from,!1,!1)+u.from);return c}),Hm=l=>s2(l,!1,!0),a2=l=>s2(l,!0,!1),o2=(l,t)=>yo(l,e=>{let i=e.head,{state:r}=l,a=r.doc.lineAt(i),u=r.charCategorizer(i);for(let f=null;;){if(i==(t?a.to:a.from)){i==e.head&&a.number!=(t?r.doc.lines:1)&&(i+=t?1:-1);break}let c=fi(a.text,i-a.from,t)+a.from,d=a.text.slice(Math.min(i,c)-a.from,Math.max(i,c)-a.from),g=u(d);if(f!=null&&g!=f)break;(d!=" "||i!=e.head)&&(f=g),i=c}return i}),u2=l=>o2(l,!1),UE=l=>o2(l,!0),VE=l=>yo(l,t=>{let e=l.lineBlockAt(t.head).to;return t.head<e?e:Math.min(l.state.doc.length,t.head+1)}),qE=l=>yo(l,t=>{let e=l.moveToLineBoundary(t,!1).head;return t.head>e?e:Math.max(0,t.head-1)}),jE=l=>yo(l,t=>{let e=l.moveToLineBoundary(t,!0).head;return t.head<e?e:Math.min(l.state.doc.length,t.head+1)}),QE=({state:l,dispatch:t})=>{if(l.readOnly)return!1;let e=l.changeByRange(i=>({changes:{from:i.from,to:i.to,insert:ne.of(["",""])},range:ot.cursor(i.from)}));return t(l.update(e,{scrollIntoView:!0,userEvent:"input"})),!0},YE=({state:l,dispatch:t})=>{if(l.readOnly)return!1;let e=l.changeByRange(i=>{if(!i.empty||i.from==0||i.from==l.doc.length)return{range:i};let r=i.from,a=l.doc.lineAt(r),u=r==a.from?r-1:fi(a.text,r-a.from,!1)+a.from,f=r==a.to?r+1:fi(a.text,r-a.from,!0)+a.from;return{changes:{from:u,to:f,insert:l.doc.slice(r,f).append(l.doc.slice(u,r))},range:ot.cursor(f)}});return e.changes.empty?!1:(t(l.update(e,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function Wf(l){let t=[],e=-1;for(let i of l.selection.ranges){let r=l.doc.lineAt(i.from),a=l.doc.lineAt(i.to);if(!i.empty&&i.to==a.from&&(a=l.doc.lineAt(i.to-1)),e>=r.number){let u=t[t.length-1];u.to=a.to,u.ranges.push(i)}else t.push({from:r.from,to:a.to,ranges:[i]});e=a.number+1}return t}function f2(l,t,e){if(l.readOnly)return!1;let i=[],r=[];for(let a of Wf(l)){if(e?a.to==l.doc.length:a.from==0)continue;let u=l.doc.lineAt(e?a.to+1:a.from-1),f=u.length+1;if(e){i.push({from:a.to,to:u.to},{from:a.from,insert:u.text+l.lineBreak});for(let c of a.ranges)r.push(ot.range(Math.min(l.doc.length,c.anchor+f),Math.min(l.doc.length,c.head+f)))}else{i.push({from:u.from,to:a.from},{from:a.to,insert:l.lineBreak+u.text});for(let c of a.ranges)r.push(ot.range(c.anchor-f,c.head-f))}}return i.length?(t(l.update({changes:i,scrollIntoView:!0,selection:ot.create(r,l.selection.mainIndex),userEvent:"move.line"})),!0):!1}const PE=({state:l,dispatch:t})=>f2(l,t,!1),GE=({state:l,dispatch:t})=>f2(l,t,!0);function h2(l,t,e){if(l.readOnly)return!1;let i=[];for(let r of Wf(l))e?i.push({from:r.from,insert:l.doc.slice(r.from,r.to)+l.lineBreak}):i.push({from:r.to,insert:l.lineBreak+l.doc.slice(r.from,r.to)});return t(l.update({changes:i,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const XE=({state:l,dispatch:t})=>h2(l,t,!1),ZE=({state:l,dispatch:t})=>h2(l,t,!0),KE=l=>{if(l.state.readOnly)return!1;let{state:t}=l,e=t.changes(Wf(t).map(({from:r,to:a})=>(r>0?r--:a<t.doc.length&&a++,{from:r,to:a}))),i=zs(t.selection,r=>{let a;if(l.lineWrapping){let u=l.lineBlockAt(r.head),f=l.coordsAtPos(r.head,r.assoc||1);f&&(a=u.bottom+l.documentTop-f.bottom+l.defaultLineHeight/2)}return l.moveVertically(r,!0,a)}).map(e);return l.dispatch({changes:e,selection:i,scrollIntoView:!0,userEvent:"delete.line"}),!0};function IE(l,t){if(/\(\)|\[\]|\{\}/.test(l.sliceDoc(t-1,t+1)))return{from:t,to:t};let e=ii(l).resolveInner(t),i=e.childBefore(t),r=e.childAfter(t),a;return i&&r&&i.to<=t&&r.from>=t&&(a=i.type.prop(Gt.closedBy))&&a.indexOf(r.name)>-1&&l.doc.lineAt(i.to).from==l.doc.lineAt(r.from).from&&!/\S/.test(l.sliceDoc(i.to,r.from))?{from:i.to,to:r.from}:null}const rb=c2(!1),FE=c2(!0);function c2(l){return({state:t,dispatch:e})=>{if(t.readOnly)return!1;let i=t.changeByRange(r=>{let{from:a,to:u}=r,f=t.doc.lineAt(a),c=!l&&a==u&&IE(t,a);l&&(a=u=(u<=f.to?f:t.doc.lineAt(u)).to);let d=new Gf(t,{simulateBreak:a,simulateDoubleBreak:!!c}),g=ag(d,a);for(g==null&&(g=Ns(/^\s*/.exec(t.doc.lineAt(a).text)[0],t.tabSize));u<f.to&&/\s/.test(f.text[u-f.from]);)u++;c?{from:a,to:u}=c:a>f.from&&a<f.from+100&&!/\S/.test(f.text.slice(0,a))&&(a=f.from);let y=["",no(t,g)];return c&&y.push(no(t,d.lineIndent(f.from,-1))),{changes:{from:a,to:u,insert:ne.of(y)},range:ot.cursor(a+1+y[1].length)}});return e(t.update(i,{scrollIntoView:!0,userEvent:"input"})),!0}}function pg(l,t){let e=-1;return l.changeByRange(i=>{let r=[];for(let u=i.from;u<=i.to;){let f=l.doc.lineAt(u);f.number>e&&(i.empty||i.to>f.from)&&(t(f,r,i),e=f.number),u=f.to+1}let a=l.changes(r);return{changes:r,range:ot.range(a.mapPos(i.anchor,1),a.mapPos(i.head,1))}})}const WE=({state:l,dispatch:t})=>{if(l.readOnly)return!1;let e=Object.create(null),i=new Gf(l,{overrideIndentation:a=>{let u=e[a];return u??-1}}),r=pg(l,(a,u,f)=>{let c=ag(i,a.from);if(c==null)return;/\S/.test(a.text)||(c=0);let d=/^\s*/.exec(a.text)[0],g=no(l,c);(d!=g||f.from<a.from+d.length)&&(e[a.from]=c,u.push({from:a.from,to:a.from+d.length,insert:g}))});return r.changes.empty||t(l.update(r,{userEvent:"indent"})),!0},d2=({state:l,dispatch:t})=>l.readOnly?!1:(t(l.update(pg(l,(e,i)=>{i.push({from:e.from,insert:l.facet(Pf)})}),{userEvent:"input.indent"})),!0),m2=({state:l,dispatch:t})=>l.readOnly?!1:(t(l.update(pg(l,(e,i)=>{let r=/^\s*/.exec(e.text)[0];if(!r)return;let a=Ns(r,l.tabSize),u=0,f=no(l,Math.max(0,a-kf(l)));for(;u<r.length&&u<f.length&&r.charCodeAt(u)==f.charCodeAt(u);)u++;i.push({from:e.from+u,to:e.from+r.length,insert:f.slice(u)})}),{userEvent:"delete.dedent"})),!0),JE=l=>(l.setTabFocusMode(),!0),$E=[{key:"Ctrl-b",run:PS,shift:$S,preventDefault:!0},{key:"Ctrl-f",run:GS,shift:t2},{key:"Ctrl-p",run:KS,shift:n2},{key:"Ctrl-n",run:IS,shift:l2},{key:"Ctrl-a",run:xE,shift:RE},{key:"Ctrl-e",run:SE,shift:BE},{key:"Ctrl-d",run:a2},{key:"Ctrl-h",run:Hm},{key:"Ctrl-k",run:VE},{key:"Ctrl-Alt-h",run:u2},{key:"Ctrl-o",run:QE},{key:"Ctrl-t",run:YE},{key:"Ctrl-v",run:Lm}],tD=[{key:"ArrowLeft",run:PS,shift:$S,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:hE,shift:AE,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:vE,shift:EE,preventDefault:!0},{key:"ArrowRight",run:GS,shift:t2,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:cE,shift:CE,preventDefault:!0},{mac:"Cmd-ArrowRight",run:bE,shift:DE,preventDefault:!0},{key:"ArrowUp",run:KS,shift:n2,preventDefault:!0},{mac:"Cmd-ArrowUp",run:eb,shift:nb},{mac:"Ctrl-ArrowUp",run:Jv,shift:$v},{key:"ArrowDown",run:IS,shift:l2,preventDefault:!0},{mac:"Cmd-ArrowDown",run:ib,shift:lb},{mac:"Ctrl-ArrowDown",run:Lm,shift:tb},{key:"PageUp",run:Jv,shift:$v},{key:"PageDown",run:Lm,shift:tb},{key:"Home",run:yE,shift:ME,preventDefault:!0},{key:"Mod-Home",run:eb,shift:nb},{key:"End",run:pE,shift:OE,preventDefault:!0},{key:"Mod-End",run:ib,shift:lb},{key:"Enter",run:rb,shift:rb},{key:"Mod-a",run:NE},{key:"Backspace",run:Hm,shift:Hm},{key:"Delete",run:a2},{key:"Mod-Backspace",mac:"Alt-Backspace",run:u2},{key:"Mod-Delete",mac:"Alt-Delete",run:UE},{mac:"Mod-Backspace",run:qE},{mac:"Mod-Delete",run:jE}].concat($E.map(l=>({mac:l.key,run:l.run,shift:l.shift}))),eD=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:mE,shift:_E},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:gE,shift:TE},{key:"Alt-ArrowUp",run:PE},{key:"Shift-Alt-ArrowUp",run:XE},{key:"Alt-ArrowDown",run:GE},{key:"Shift-Alt-ArrowDown",run:ZE},{key:"Escape",run:HE},{key:"Mod-Enter",run:FE},{key:"Alt-l",mac:"Ctrl-l",run:zE},{key:"Mod-i",run:LE,preventDefault:!0},{key:"Mod-[",run:m2},{key:"Mod-]",run:d2},{key:"Mod-Alt-\\",run:WE},{key:"Shift-Mod-k",run:KE},{key:"Shift-Mod-\\",run:kE},{key:"Mod-/",run:XM},{key:"Alt-A",run:KM},{key:"Ctrl-m",mac:"Shift-Alt-m",run:JE}].concat(tD),iD={key:"Tab",run:d2,shift:m2};function be(){var l=arguments[0];typeof l=="string"&&(l=document.createElement(l));var t=1,e=arguments[1];if(e&&typeof e=="object"&&e.nodeType==null&&!Array.isArray(e)){for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var r=e[i];typeof r=="string"?l.setAttribute(i,r):r!=null&&(l[i]=r)}t++}for(;t<arguments.length;t++)g2(l,arguments[t]);return l}function g2(l,t){if(typeof t=="string")l.appendChild(document.createTextNode(t));else if(t!=null)if(t.nodeType!=null)l.appendChild(t);else if(Array.isArray(t))for(var e=0;e<t.length;e++)g2(l,t[e]);else throw new RangeError("Unsupported child node: "+t)}const sb=typeof String.prototype.normalize=="function"?l=>l.normalize("NFKD"):l=>l;class Rs{constructor(t,e,i=0,r=t.length,a,u){this.test=u,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=t.iterRange(i,r),this.bufferStart=i,this.normalize=a?f=>a(sb(f)):sb,this.query=this.normalize(e)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return ai(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let t=this.peek();if(t<0)return this.done=!0,this;let e=Xm(t),i=this.bufferStart+this.bufferPos;this.bufferPos+=fn(t);let r=this.normalize(e);for(let a=0,u=i;;a++){let f=r.charCodeAt(a),c=this.match(f,u,this.bufferPos+this.bufferStart);if(a==r.length-1){if(c)return this.value=c,this;break}u==i&&a<e.length&&e.charCodeAt(a)==f&&u++}}}match(t,e,i){let r=null;for(let a=0;a<this.matches.length;a+=2){let u=this.matches[a],f=!1;this.query.charCodeAt(u)==t&&(u==this.query.length-1?r={from:this.matches[a+1],to:i}:(this.matches[a]++,f=!0)),f||(this.matches.splice(a,2),a-=2)}return this.query.charCodeAt(0)==t&&(this.query.length==1?r={from:e,to:i}:this.matches.push(1,e)),r&&this.test&&!this.test(r.from,r.to,this.buffer,this.bufferStart)&&(r=null),r}}typeof Symbol<"u"&&(Rs.prototype[Symbol.iterator]=function(){return this});const p2={from:-1,to:-1,match:/.*/.exec("")},yg="gm"+(/x/.unicode==null?"":"u");class y2{constructor(t,e,i,r=0,a=t.length){if(this.text=t,this.to=a,this.curLine="",this.done=!1,this.value=p2,/\\[sWDnr]|\n|\r|\[\^/.test(e))return new v2(t,e,i,r,a);this.re=new RegExp(e,yg+(i!=null&&i.ignoreCase?"i":"")),this.test=i==null?void 0:i.test,this.iter=t.iter();let u=t.lineAt(r);this.curLineStart=u.from,this.matchPos=Bf(t,r),this.getLine(this.curLineStart)}getLine(t){this.iter.next(t),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let t=this.matchPos-this.curLineStart;;){this.re.lastIndex=t;let e=this.matchPos<=this.to&&this.re.exec(this.curLine);if(e){let i=this.curLineStart+e.index,r=i+e[0].length;if(this.matchPos=Bf(this.text,r+(i==r?1:0)),i==this.curLineStart+this.curLine.length&&this.nextLine(),(i<r||i>this.value.to)&&(!this.test||this.test(i,r,e)))return this.value={from:i,to:r,match:e},this;t=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),t=0;else return this.done=!0,this}}}const zd=new WeakMap;class Cs{constructor(t,e){this.from=t,this.text=e}get to(){return this.from+this.text.length}static get(t,e,i){let r=zd.get(t);if(!r||r.from>=i||r.to<=e){let f=new Cs(e,t.sliceString(e,i));return zd.set(t,f),f}if(r.from==e&&r.to==i)return r;let{text:a,from:u}=r;return u>e&&(a=t.sliceString(e,u)+a,u=e),r.to<i&&(a+=t.sliceString(r.to,i)),zd.set(t,new Cs(u,a)),new Cs(e,a.slice(e-u,i-u))}}class v2{constructor(t,e,i,r,a){this.text=t,this.to=a,this.done=!1,this.value=p2,this.matchPos=Bf(t,r),this.re=new RegExp(e,yg+(i!=null&&i.ignoreCase?"i":"")),this.test=i==null?void 0:i.test,this.flat=Cs.get(t,r,this.chunkEnd(r+5e3))}chunkEnd(t){return t>=this.to?this.to:this.text.lineAt(t).to}next(){for(;;){let t=this.re.lastIndex=this.matchPos-this.flat.from,e=this.re.exec(this.flat.text);if(e&&!e[0]&&e.index==t&&(this.re.lastIndex=t+1,e=this.re.exec(this.flat.text)),e){let i=this.flat.from+e.index,r=i+e[0].length;if((this.flat.to>=this.to||e.index+e[0].length<=this.flat.text.length-10)&&(!this.test||this.test(i,r,e)))return this.value={from:i,to:r,match:e},this.matchPos=Bf(this.text,r+(i==r?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=Cs.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(y2.prototype[Symbol.iterator]=v2.prototype[Symbol.iterator]=function(){return this});function nD(l){try{return new RegExp(l,yg),!0}catch{return!1}}function Bf(l,t){if(t>=l.length)return t;let e=l.lineAt(t),i;for(;t<e.to&&(i=e.text.charCodeAt(t-e.from))>=56320&&i<57344;)t++;return t}function Um(l){let t=String(l.state.doc.lineAt(l.state.selection.main.head).number),e=be("input",{class:"cm-textfield",name:"line",value:t}),i=be("form",{class:"cm-gotoLine",onkeydown:a=>{a.keyCode==27?(a.preventDefault(),l.dispatch({effects:Nf.of(!1)}),l.focus()):a.keyCode==13&&(a.preventDefault(),r())},onsubmit:a=>{a.preventDefault(),r()}},be("label",l.state.phrase("Go to line"),": ",e)," ",be("button",{class:"cm-button",type:"submit"},l.state.phrase("go")));function r(){let a=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(e.value);if(!a)return;let{state:u}=l,f=u.doc.lineAt(u.selection.main.head),[,c,d,g,y]=a,b=g?+g.slice(1):0,x=d?+d:f.number;if(d&&y){let O=x/100;c&&(O=O*(c=="-"?-1:1)+f.number/u.doc.lines),x=Math.round(u.doc.lines*O)}else d&&c&&(x=x*(c=="-"?-1:1)+f.number);let w=u.doc.line(Math.max(1,Math.min(u.doc.lines,x))),_=ot.cursor(w.from+Math.max(0,Math.min(b,w.length)));l.dispatch({effects:[Nf.of(!1),At.scrollIntoView(_.from,{y:"center"})],selection:_}),l.focus()}return{dom:i}}const Nf=Ut.define(),ab=hi.define({create(){return!0},update(l,t){for(let e of t.effects)e.is(Nf)&&(l=e.value);return l},provide:l=>io.from(l,t=>t?Um:null)}),lD=l=>{let t=eo(l,Um);if(!t){let e=[Nf.of(!0)];l.state.field(ab,!1)==null&&e.push(Ut.appendConfig.of([ab,rD])),l.dispatch({effects:e}),t=eo(l,Um)}return t&&t.dom.querySelector("input").select(),!0},rD=At.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),sD={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},aD=_t.define({combine(l){return Gn(l,sD,{highlightWordAroundCursor:(t,e)=>t||e,minSelectionLength:Math.min,maxMatches:Math.min})}});function oD(l){return[dD,cD]}const uD=Dt.mark({class:"cm-selectionMatch"}),fD=Dt.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function ob(l,t,e,i){return(e==0||l(t.sliceDoc(e-1,e))!=Te.Word)&&(i==t.doc.length||l(t.sliceDoc(i,i+1))!=Te.Word)}function hD(l,t,e,i){return l(t.sliceDoc(e,e+1))==Te.Word&&l(t.sliceDoc(i-1,i))==Te.Word}const cD=Ue.fromClass(class{constructor(l){this.decorations=this.getDeco(l)}update(l){(l.selectionSet||l.docChanged||l.viewportChanged)&&(this.decorations=this.getDeco(l.view))}getDeco(l){let t=l.state.facet(aD),{state:e}=l,i=e.selection;if(i.ranges.length>1)return Dt.none;let r=i.main,a,u=null;if(r.empty){if(!t.highlightWordAroundCursor)return Dt.none;let c=e.wordAt(r.head);if(!c)return Dt.none;u=e.charCategorizer(r.head),a=e.sliceDoc(c.from,c.to)}else{let c=r.to-r.from;if(c<t.minSelectionLength||c>200)return Dt.none;if(t.wholeWords){if(a=e.sliceDoc(r.from,r.to),u=e.charCategorizer(r.head),!(ob(u,e,r.from,r.to)&&hD(u,e,r.from,r.to)))return Dt.none}else if(a=e.sliceDoc(r.from,r.to),!a)return Dt.none}let f=[];for(let c of l.visibleRanges){let d=new Rs(e.doc,a,c.from,c.to);for(;!d.next().done;){let{from:g,to:y}=d.value;if((!u||ob(u,e,g,y))&&(r.empty&&g<=r.from&&y>=r.to?f.push(fD.range(g,y)):(g>=r.to||y<=r.from)&&f.push(uD.range(g,y)),f.length>t.maxMatches))return Dt.none}}return Dt.set(f)}},{decorations:l=>l.decorations}),dD=At.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),mD=({state:l,dispatch:t})=>{let{selection:e}=l,i=ot.create(e.ranges.map(r=>l.wordAt(r.head)||ot.cursor(r.head)),e.mainIndex);return i.eq(e)?!1:(t(l.update({selection:i})),!0)};function gD(l,t){let{main:e,ranges:i}=l.selection,r=l.wordAt(e.head),a=r&&r.from==e.from&&r.to==e.to;for(let u=!1,f=new Rs(l.doc,t,i[i.length-1].to);;)if(f.next(),f.done){if(u)return null;f=new Rs(l.doc,t,0,Math.max(0,i[i.length-1].from-1)),u=!0}else{if(u&&i.some(c=>c.from==f.value.from))continue;if(a){let c=l.wordAt(f.value.from);if(!c||c.from!=f.value.from||c.to!=f.value.to)continue}return f.value}}const pD=({state:l,dispatch:t})=>{let{ranges:e}=l.selection;if(e.some(a=>a.from===a.to))return mD({state:l,dispatch:t});let i=l.sliceDoc(e[0].from,e[0].to);if(l.selection.ranges.some(a=>l.sliceDoc(a.from,a.to)!=i))return!1;let r=gD(l,i);return r?(t(l.update({selection:l.selection.addRange(ot.range(r.from,r.to),!1),effects:At.scrollIntoView(r.to)})),!0):!1},Ls=_t.define({combine(l){return Gn(l,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:t=>new OD(t),scrollToMatch:t=>At.scrollIntoView(t)})}});class b2{constructor(t){this.search=t.search,this.caseSensitive=!!t.caseSensitive,this.literal=!!t.literal,this.regexp=!!t.regexp,this.replace=t.replace||"",this.valid=!!this.search&&(!this.regexp||nD(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!t.wholeWord}unquote(t){return this.literal?t:t.replace(/\\([nrt\\])/g,(e,i)=>i=="n"?`
`:i=="r"?"\r":i=="t"?"	":"\\")}eq(t){return this.search==t.search&&this.replace==t.replace&&this.caseSensitive==t.caseSensitive&&this.regexp==t.regexp&&this.wholeWord==t.wholeWord}create(){return this.regexp?new xD(this):new vD(this)}getCursor(t,e=0,i){let r=t.doc?t:Ft.create({doc:t});return i==null&&(i=r.doc.length),this.regexp?gs(this,r,e,i):ms(this,r,e,i)}}class x2{constructor(t){this.spec=t}}function ms(l,t,e,i){return new Rs(t.doc,l.unquoted,e,i,l.caseSensitive?void 0:r=>r.toLowerCase(),l.wholeWord?yD(t.doc,t.charCategorizer(t.selection.main.head)):void 0)}function yD(l,t){return(e,i,r,a)=>((a>e||a+r.length<i)&&(a=Math.max(0,e-2),r=l.sliceString(a,Math.min(l.length,i+2))),(t(zf(r,e-a))!=Te.Word||t(Lf(r,e-a))!=Te.Word)&&(t(Lf(r,i-a))!=Te.Word||t(zf(r,i-a))!=Te.Word))}class vD extends x2{constructor(t){super(t)}nextMatch(t,e,i){let r=ms(this.spec,t,i,t.doc.length).nextOverlapping();return r.done&&(r=ms(this.spec,t,0,e).nextOverlapping()),r.done?null:r.value}prevMatchInRange(t,e,i){for(let r=i;;){let a=Math.max(e,r-1e4-this.spec.unquoted.length),u=ms(this.spec,t,a,r),f=null;for(;!u.nextOverlapping().done;)f=u.value;if(f)return f;if(a==e)return null;r-=1e4}}prevMatch(t,e,i){return this.prevMatchInRange(t,0,e)||this.prevMatchInRange(t,i,t.doc.length)}getReplacement(t){return this.spec.unquote(this.spec.replace)}matchAll(t,e){let i=ms(this.spec,t,0,t.doc.length),r=[];for(;!i.next().done;){if(r.length>=e)return null;r.push(i.value)}return r}highlight(t,e,i,r){let a=ms(this.spec,t,Math.max(0,e-this.spec.unquoted.length),Math.min(i+this.spec.unquoted.length,t.doc.length));for(;!a.next().done;)r(a.value.from,a.value.to)}}function gs(l,t,e,i){return new y2(t.doc,l.search,{ignoreCase:!l.caseSensitive,test:l.wholeWord?bD(t.charCategorizer(t.selection.main.head)):void 0},e,i)}function zf(l,t){return l.slice(fi(l,t,!1),t)}function Lf(l,t){return l.slice(t,fi(l,t))}function bD(l){return(t,e,i)=>!i[0].length||(l(zf(i.input,i.index))!=Te.Word||l(Lf(i.input,i.index))!=Te.Word)&&(l(Lf(i.input,i.index+i[0].length))!=Te.Word||l(zf(i.input,i.index+i[0].length))!=Te.Word)}class xD extends x2{nextMatch(t,e,i){let r=gs(this.spec,t,i,t.doc.length).next();return r.done&&(r=gs(this.spec,t,0,e).next()),r.done?null:r.value}prevMatchInRange(t,e,i){for(let r=1;;r++){let a=Math.max(e,i-r*1e4),u=gs(this.spec,t,a,i),f=null;for(;!u.next().done;)f=u.value;if(f&&(a==e||f.from>a+10))return f;if(a==e)return null}}prevMatch(t,e,i){return this.prevMatchInRange(t,0,e)||this.prevMatchInRange(t,i,t.doc.length)}getReplacement(t){return this.spec.unquote(this.spec.replace).replace(/\$([$&\d+])/g,(e,i)=>i=="$"?"$":i=="&"?t.match[0]:i!="0"&&+i<t.match.length?t.match[i]:e)}matchAll(t,e){let i=gs(this.spec,t,0,t.doc.length),r=[];for(;!i.next().done;){if(r.length>=e)return null;r.push(i.value)}return r}highlight(t,e,i,r){let a=gs(this.spec,t,Math.max(0,e-250),Math.min(i+250,t.doc.length));for(;!a.next().done;)r(a.value.from,a.value.to)}}const ao=Ut.define(),vg=Ut.define(),Kl=hi.define({create(l){return new Ld(Vm(l).create(),null)},update(l,t){for(let e of t.effects)e.is(ao)?l=new Ld(e.value.create(),l.panel):e.is(vg)&&(l=new Ld(l.query,e.value?bg:null));return l},provide:l=>io.from(l,t=>t.panel)});class Ld{constructor(t,e){this.query=t,this.panel=e}}const SD=Dt.mark({class:"cm-searchMatch"}),wD=Dt.mark({class:"cm-searchMatch cm-searchMatch-selected"}),kD=Ue.fromClass(class{constructor(l){this.view=l,this.decorations=this.highlight(l.state.field(Kl))}update(l){let t=l.state.field(Kl);(t!=l.startState.field(Kl)||l.docChanged||l.selectionSet||l.viewportChanged)&&(this.decorations=this.highlight(t))}highlight({query:l,panel:t}){if(!t||!l.spec.valid)return Dt.none;let{view:e}=this,i=new Fl;for(let r=0,a=e.visibleRanges,u=a.length;r<u;r++){let{from:f,to:c}=a[r];for(;r<u-1&&c>a[r+1].from-2*250;)c=a[++r].to;l.highlight(e.state,f,c,(d,g)=>{let y=e.state.selection.ranges.some(b=>b.from==d&&b.to==g);i.add(d,g,y?wD:SD)})}return i.finish()}},{decorations:l=>l.decorations});function vo(l){return t=>{let e=t.state.field(Kl,!1);return e&&e.query.spec.valid?l(t,e):k2(t)}}const Hf=vo((l,{query:t})=>{let{to:e}=l.state.selection.main,i=t.nextMatch(l.state,e,e);if(!i)return!1;let r=ot.single(i.from,i.to),a=l.state.facet(Ls);return l.dispatch({selection:r,effects:[xg(l,i),a.scrollToMatch(r.main,l)],userEvent:"select.search"}),w2(l),!0}),Uf=vo((l,{query:t})=>{let{state:e}=l,{from:i}=e.selection.main,r=t.prevMatch(e,i,i);if(!r)return!1;let a=ot.single(r.from,r.to),u=l.state.facet(Ls);return l.dispatch({selection:a,effects:[xg(l,r),u.scrollToMatch(a.main,l)],userEvent:"select.search"}),w2(l),!0}),AD=vo((l,{query:t})=>{let e=t.matchAll(l.state,1e3);return!e||!e.length?!1:(l.dispatch({selection:ot.create(e.map(i=>ot.range(i.from,i.to))),userEvent:"select.search.matches"}),!0)}),CD=({state:l,dispatch:t})=>{let e=l.selection;if(e.ranges.length>1||e.main.empty)return!1;let{from:i,to:r}=e.main,a=[],u=0;for(let f=new Rs(l.doc,l.sliceDoc(i,r));!f.next().done;){if(a.length>1e3)return!1;f.value.from==i&&(u=a.length),a.push(ot.range(f.value.from,f.value.to))}return t(l.update({selection:ot.create(a,u),userEvent:"select.search.matches"})),!0},ub=vo((l,{query:t})=>{let{state:e}=l,{from:i,to:r}=e.selection.main;if(e.readOnly)return!1;let a=t.nextMatch(e,i,i);if(!a)return!1;let u=[],f,c,d=[];if(a.from==i&&a.to==r&&(c=e.toText(t.getReplacement(a)),u.push({from:a.from,to:a.to,insert:c}),a=t.nextMatch(e,a.from,a.to),d.push(At.announce.of(e.phrase("replaced match on line $",e.doc.lineAt(i).number)+"."))),a){let g=u.length==0||u[0].from>=a.to?0:a.to-a.from-c.length;f=ot.single(a.from-g,a.to-g),d.push(xg(l,a)),d.push(e.facet(Ls).scrollToMatch(f.main,l))}return l.dispatch({changes:u,selection:f,effects:d,userEvent:"input.replace"}),!0}),_D=vo((l,{query:t})=>{if(l.state.readOnly)return!1;let e=t.matchAll(l.state,1e9).map(r=>{let{from:a,to:u}=r;return{from:a,to:u,insert:t.getReplacement(r)}});if(!e.length)return!1;let i=l.state.phrase("replaced $ matches",e.length)+".";return l.dispatch({changes:e,effects:At.announce.of(i),userEvent:"input.replace.all"}),!0});function bg(l){return l.state.facet(Ls).createPanel(l)}function Vm(l,t){var e,i,r,a,u;let f=l.selection.main,c=f.empty||f.to>f.from+100?"":l.sliceDoc(f.from,f.to);if(t&&!c)return t;let d=l.facet(Ls);return new b2({search:((e=t==null?void 0:t.literal)!==null&&e!==void 0?e:d.literal)?c:c.replace(/\n/g,"\\n"),caseSensitive:(i=t==null?void 0:t.caseSensitive)!==null&&i!==void 0?i:d.caseSensitive,literal:(r=t==null?void 0:t.literal)!==null&&r!==void 0?r:d.literal,regexp:(a=t==null?void 0:t.regexp)!==null&&a!==void 0?a:d.regexp,wholeWord:(u=t==null?void 0:t.wholeWord)!==null&&u!==void 0?u:d.wholeWord})}function S2(l){let t=eo(l,bg);return t&&t.dom.querySelector("[main-field]")}function w2(l){let t=S2(l);t&&t==l.root.activeElement&&t.select()}const k2=l=>{let t=l.state.field(Kl,!1);if(t&&t.panel){let e=S2(l);if(e&&e!=l.root.activeElement){let i=Vm(l.state,t.query.spec);i.valid&&l.dispatch({effects:ao.of(i)}),e.focus(),e.select()}}else l.dispatch({effects:[vg.of(!0),t?ao.of(Vm(l.state,t.query.spec)):Ut.appendConfig.of(ED)]});return!0},A2=l=>{let t=l.state.field(Kl,!1);if(!t||!t.panel)return!1;let e=eo(l,bg);return e&&e.dom.contains(l.root.activeElement)&&l.focus(),l.dispatch({effects:vg.of(!1)}),!0},TD=[{key:"Mod-f",run:k2,scope:"editor search-panel"},{key:"F3",run:Hf,shift:Uf,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:Hf,shift:Uf,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:A2,scope:"editor search-panel"},{key:"Mod-Shift-l",run:CD},{key:"Mod-Alt-g",run:lD},{key:"Mod-d",run:pD,preventDefault:!0}];class OD{constructor(t){this.view=t;let e=this.query=t.state.field(Kl).query.spec;this.commit=this.commit.bind(this),this.searchField=be("input",{value:e.search,placeholder:Ki(t,"Find"),"aria-label":Ki(t,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=be("input",{value:e.replace,placeholder:Ki(t,"Replace"),"aria-label":Ki(t,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=be("input",{type:"checkbox",name:"case",form:"",checked:e.caseSensitive,onchange:this.commit}),this.reField=be("input",{type:"checkbox",name:"re",form:"",checked:e.regexp,onchange:this.commit}),this.wordField=be("input",{type:"checkbox",name:"word",form:"",checked:e.wholeWord,onchange:this.commit});function i(r,a,u){return be("button",{class:"cm-button",name:r,onclick:a,type:"button"},u)}this.dom=be("div",{onkeydown:r=>this.keydown(r),class:"cm-search"},[this.searchField,i("next",()=>Hf(t),[Ki(t,"next")]),i("prev",()=>Uf(t),[Ki(t,"previous")]),i("select",()=>AD(t),[Ki(t,"all")]),be("label",null,[this.caseField,Ki(t,"match case")]),be("label",null,[this.reField,Ki(t,"regexp")]),be("label",null,[this.wordField,Ki(t,"by word")]),...t.state.readOnly?[]:[be("br"),this.replaceField,i("replace",()=>ub(t),[Ki(t,"replace")]),i("replaceAll",()=>_D(t),[Ki(t,"replace all")])],be("button",{name:"close",onclick:()=>A2(t),"aria-label":Ki(t,"close"),type:"button"},[""])])}commit(){let t=new b2({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});t.eq(this.query)||(this.query=t,this.view.dispatch({effects:ao.of(t)}))}keydown(t){l_(this.view,t,"search-panel")?t.preventDefault():t.keyCode==13&&t.target==this.searchField?(t.preventDefault(),(t.shiftKey?Uf:Hf)(this.view)):t.keyCode==13&&t.target==this.replaceField&&(t.preventDefault(),ub(this.view))}update(t){for(let e of t.transactions)for(let i of e.effects)i.is(ao)&&!i.value.eq(this.query)&&this.setQuery(i.value)}setQuery(t){this.query=t,this.searchField.value=t.search,this.replaceField.value=t.replace,this.caseField.checked=t.caseSensitive,this.reField.checked=t.regexp,this.wordField.checked=t.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(Ls).top}}function Ki(l,t){return l.state.phrase(t)}const Iu=30,Fu=/[\s\.,:;?!]/;function xg(l,{from:t,to:e}){let i=l.state.doc.lineAt(t),r=l.state.doc.lineAt(e).to,a=Math.max(i.from,t-Iu),u=Math.min(r,e+Iu),f=l.state.sliceDoc(a,u);if(a!=i.from){for(let c=0;c<Iu;c++)if(!Fu.test(f[c+1])&&Fu.test(f[c])){f=f.slice(c);break}}if(u!=r){for(let c=f.length-1;c>f.length-Iu;c--)if(!Fu.test(f[c-1])&&Fu.test(f[c])){f=f.slice(0,c);break}}return At.announce.of(`${l.state.phrase("current match")}. ${f} ${l.state.phrase("on line")} ${i.number}.`)}const MD=At.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),ED=[Kl,Dr.low(kD),MD];class DD{constructor(t,e,i){this.from=t,this.to=e,this.diagnostic=i}}class wr{constructor(t,e,i){this.diagnostics=t,this.panel=e,this.selected=i}static init(t,e,i){let r=t,a=i.facet(oo).markerFilter;a&&(r=a(r,i));let u=Dt.set(r.map(f=>f.from==f.to||f.from==f.to-1&&i.doc.lineAt(f.from).to==f.from?Dt.widget({widget:new qD(f),diagnostic:f}).range(f.from):Dt.mark({attributes:{class:"cm-lintRange cm-lintRange-"+f.severity+(f.markClass?" "+f.markClass:"")},diagnostic:f}).range(f.from,f.to)),!0);return new wr(u,e,Bs(u))}}function Bs(l,t=null,e=0){let i=null;return l.between(e,1e9,(r,a,{spec:u})=>{if(!(t&&u.diagnostic!=t))return i=new DD(r,a,u.diagnostic),!1}),i}function RD(l,t){let e=t.pos,i=t.end||e,r=l.state.facet(oo).hideOn(l,e,i);if(r!=null)return r;let a=l.startState.doc.lineAt(t.pos);return!!(l.effects.some(u=>u.is(C2))||l.changes.touchesRange(a.from,Math.max(a.to,i)))}function BD(l,t){return l.field(Wi,!1)?t:t.concat(Ut.appendConfig.of(YD))}const C2=Ut.define(),Sg=Ut.define(),_2=Ut.define(),Wi=hi.define({create(){return new wr(Dt.none,null,null)},update(l,t){if(t.docChanged&&l.diagnostics.size){let e=l.diagnostics.map(t.changes),i=null,r=l.panel;if(l.selected){let a=t.changes.mapPos(l.selected.from,1);i=Bs(e,l.selected.diagnostic,a)||Bs(e,null,a)}!e.size&&r&&t.state.facet(oo).autoPanel&&(r=null),l=new wr(e,r,i)}for(let e of t.effects)if(e.is(C2)){let i=t.state.facet(oo).autoPanel?e.value.length?uo.open:null:l.panel;l=wr.init(e.value,i,t.state)}else e.is(Sg)?l=new wr(l.diagnostics,e.value?uo.open:null,l.selected):e.is(_2)&&(l=new wr(l.diagnostics,l.panel,e.value));return l},provide:l=>[io.from(l,t=>t.panel),At.decorations.from(l,t=>t.diagnostics)]}),ND=Dt.mark({class:"cm-lintRange cm-lintRange-active"});function zD(l,t,e){let{diagnostics:i}=l.state.field(Wi),r=[],a=2e8,u=0;i.between(t-(e<0?1:0),t+(e>0?1:0),(c,d,{spec:g})=>{t>=c&&t<=d&&(c==d||(t>c||e>0)&&(t<d||e<0))&&(r.push(g.diagnostic),a=Math.min(c,a),u=Math.max(d,u))});let f=l.state.facet(oo).tooltipFilter;return f&&(r=f(r,l.state)),r.length?{pos:a,end:u,above:l.state.doc.lineAt(a).to<u,create(){return{dom:LD(l,r)}}}:null}function LD(l,t){return be("ul",{class:"cm-tooltip-lint"},t.map(e=>O2(l,e,!1)))}const HD=l=>{let t=l.state.field(Wi,!1);(!t||!t.panel)&&l.dispatch({effects:BD(l.state,[Sg.of(!0)])});let e=eo(l,uo.open);return e&&e.dom.querySelector(".cm-panel-lint ul").focus(),!0},fb=l=>{let t=l.state.field(Wi,!1);return!t||!t.panel?!1:(l.dispatch({effects:Sg.of(!1)}),!0)},UD=l=>{let t=l.state.field(Wi,!1);if(!t)return!1;let e=l.state.selection.main,i=t.diagnostics.iter(e.to+1);return!i.value&&(i=t.diagnostics.iter(0),!i.value||i.from==e.from&&i.to==e.to)?!1:(l.dispatch({selection:{anchor:i.from,head:i.to},scrollIntoView:!0}),!0)},VD=[{key:"Mod-Shift-m",run:HD,preventDefault:!0},{key:"F8",run:UD}],oo=_t.define({combine(l){return Object.assign({sources:l.map(t=>t.source).filter(t=>t!=null)},Gn(l.map(t=>t.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{needsRefresh:(t,e)=>t?e?i=>t(i)||e(i):t:e}))}});function T2(l){let t=[];if(l)t:for(let{name:e}of l){for(let i=0;i<e.length;i++){let r=e[i];if(/[a-zA-Z]/.test(r)&&!t.some(a=>a.toLowerCase()==r.toLowerCase())){t.push(r);continue t}}t.push("")}return t}function O2(l,t,e){var i;let r=e?T2(t.actions):[];return be("li",{class:"cm-diagnostic cm-diagnostic-"+t.severity},be("span",{class:"cm-diagnosticText"},t.renderMessage?t.renderMessage(l):t.message),(i=t.actions)===null||i===void 0?void 0:i.map((a,u)=>{let f=!1,c=b=>{if(b.preventDefault(),f)return;f=!0;let x=Bs(l.state.field(Wi).diagnostics,t);x&&a.apply(l,x.from,x.to)},{name:d}=a,g=r[u]?d.indexOf(r[u]):-1,y=g<0?d:[d.slice(0,g),be("u",d.slice(g,g+1)),d.slice(g+1)];return be("button",{type:"button",class:"cm-diagnosticAction",onclick:c,onmousedown:c,"aria-label":` Action: ${d}${g<0?"":` (access key "${r[u]})"`}.`},y)}),t.source&&be("div",{class:"cm-diagnosticSource"},t.source))}class qD extends dl{constructor(t){super(),this.diagnostic=t}eq(t){return t.diagnostic==this.diagnostic}toDOM(){return be("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class hb{constructor(t,e){this.diagnostic=e,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=O2(t,e,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class uo{constructor(t){this.view=t,this.items=[];let e=r=>{if(r.keyCode==27)fb(this.view),this.view.focus();else if(r.keyCode==38||r.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(r.keyCode==40||r.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(r.keyCode==36)this.moveSelection(0);else if(r.keyCode==35)this.moveSelection(this.items.length-1);else if(r.keyCode==13)this.view.focus();else if(r.keyCode>=65&&r.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:a}=this.items[this.selectedIndex],u=T2(a.actions);for(let f=0;f<u.length;f++)if(u[f].toUpperCase().charCodeAt(0)==r.keyCode){let c=Bs(this.view.state.field(Wi).diagnostics,a);c&&a.actions[f].apply(t,c.from,c.to)}}else return;r.preventDefault()},i=r=>{for(let a=0;a<this.items.length;a++)this.items[a].dom.contains(r.target)&&this.moveSelection(a)};this.list=be("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:e,onclick:i}),this.dom=be("div",{class:"cm-panel-lint"},this.list,be("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>fb(this.view)},"")),this.update()}get selectedIndex(){let t=this.view.state.field(Wi).selected;if(!t)return-1;for(let e=0;e<this.items.length;e++)if(this.items[e].diagnostic==t.diagnostic)return e;return-1}update(){let{diagnostics:t,selected:e}=this.view.state.field(Wi),i=0,r=!1,a=null;for(t.between(0,this.view.state.doc.length,(u,f,{spec:c})=>{let d=-1,g;for(let y=i;y<this.items.length;y++)if(this.items[y].diagnostic==c.diagnostic){d=y;break}d<0?(g=new hb(this.view,c.diagnostic),this.items.splice(i,0,g),r=!0):(g=this.items[d],d>i&&(this.items.splice(i,d-i),r=!0)),e&&g.diagnostic==e.diagnostic?g.dom.hasAttribute("aria-selected")||(g.dom.setAttribute("aria-selected","true"),a=g):g.dom.hasAttribute("aria-selected")&&g.dom.removeAttribute("aria-selected"),i++});i<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)r=!0,this.items.pop();this.items.length==0&&(this.items.push(new hb(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),r=!0),a?(this.list.setAttribute("aria-activedescendant",a.id),this.view.requestMeasure({key:this,read:()=>({sel:a.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:u,panel:f})=>{let c=f.height/this.list.offsetHeight;u.top<f.top?this.list.scrollTop-=(f.top-u.top)/c:u.bottom>f.bottom&&(this.list.scrollTop+=(u.bottom-f.bottom)/c)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),r&&this.sync()}sync(){let t=this.list.firstChild;function e(){let i=t;t=i.nextSibling,i.remove()}for(let i of this.items)if(i.dom.parentNode==this.list){for(;t!=i.dom;)e();t=i.dom.nextSibling}else this.list.insertBefore(i.dom,t);for(;t;)e()}moveSelection(t){if(this.selectedIndex<0)return;let e=this.view.state.field(Wi),i=Bs(e.diagnostics,this.items[t].diagnostic);i&&this.view.dispatch({selection:{anchor:i.from,head:i.to},scrollIntoView:!0,effects:_2.of(i)})}static open(t){return new uo(t)}}function jD(l,t='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${t}>${encodeURIComponent(l)}</svg>')`}function Wu(l){return jD(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${l}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const QD=At.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:Wu("#d11")},".cm-lintRange-warning":{backgroundImage:Wu("orange")},".cm-lintRange-info":{backgroundImage:Wu("#999")},".cm-lintRange-hint":{backgroundImage:Wu("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}}),YD=[Wi,At.decorations.compute([Wi],l=>{let{selected:t,panel:e}=l.field(Wi);return!t||!e||t.from==t.to?Dt.none:Dt.set([ND.range(t.from,t.to)])}),X_(zD,{hideOn:RD}),QD];var cb=function(t){t===void 0&&(t={});var{crosshairCursor:e=!1}=t,i=[];t.closeBracketsKeymap!==!1&&(i=i.concat(KO)),t.defaultKeymap!==!1&&(i=i.concat(eD)),t.searchKeymap!==!1&&(i=i.concat(TD)),t.historyKeymap!==!1&&(i=i.concat(fE)),t.foldKeymap!==!1&&(i=i.concat(VT)),t.completionKeymap!==!1&&(i=i.concat(DS)),t.lintKeymap!==!1&&(i=i.concat(VD));var r=[];return t.lineNumbers!==!1&&r.push(nT()),t.highlightActiveLineGutter!==!1&&r.push(sT()),t.highlightSpecialChars!==!1&&r.push(S_()),t.history!==!1&&r.push(eE()),t.foldGutter!==!1&&r.push(YT()),t.drawSelection!==!1&&r.push(f_()),t.dropCursor!==!1&&r.push(g_()),t.allowMultipleSelections!==!1&&r.push(Ft.allowMultipleSelections.of(!0)),t.indentOnInput!==!1&&r.push(ET()),t.syntaxHighlighting!==!1&&r.push(pS(ZT,{fallback:!0})),t.bracketMatching!==!1&&r.push(tO()),t.closeBrackets!==!1&&r.push(PO()),t.autocompletion!==!1&&r.push(eM()),t.rectangularSelection!==!1&&r.push(z_()),e!==!1&&r.push(U_()),t.highlightActiveLine!==!1&&r.push(T_()),t.highlightSelectionMatches!==!1&&r.push(oD()),t.tabSize&&typeof t.tabSize=="number"&&r.push(Pf.of(" ".repeat(t.tabSize))),r.concat([Qf.of(i.flat())]).filter(Boolean)};const PD="#e5c07b",db="#e06c75",GD="#56b6c2",XD="#ffffff",uf="#abb2bf",qm="#7d8799",ZD="#61afef",KD="#98c379",mb="#d19a66",ID="#c678dd",FD="#21252b",gb="#2c313a",pb="#282c34",Hd="#353a42",WD="#3E4451",yb="#528bff",JD=At.theme({"&":{color:uf,backgroundColor:pb},".cm-content":{caretColor:yb},".cm-cursor, .cm-dropCursor":{borderLeftColor:yb},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:WD},".cm-panels":{backgroundColor:FD,color:uf},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:pb,color:qm,border:"none"},".cm-activeLineGutter":{backgroundColor:gb},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:Hd},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:Hd,borderBottomColor:Hd},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:gb,color:uf}}},{dark:!0}),$D=po.define([{tag:I.keyword,color:ID},{tag:[I.name,I.deleted,I.character,I.propertyName,I.macroName],color:db},{tag:[I.function(I.variableName),I.labelName],color:ZD},{tag:[I.color,I.constant(I.name),I.standard(I.name)],color:mb},{tag:[I.definition(I.name),I.separator],color:uf},{tag:[I.typeName,I.className,I.number,I.changed,I.annotation,I.modifier,I.self,I.namespace],color:PD},{tag:[I.operator,I.operatorKeyword,I.url,I.escape,I.regexp,I.link,I.special(I.string)],color:GD},{tag:[I.meta,I.comment],color:qm},{tag:I.strong,fontWeight:"bold"},{tag:I.emphasis,fontStyle:"italic"},{tag:I.strikethrough,textDecoration:"line-through"},{tag:I.link,color:qm,textDecoration:"underline"},{tag:I.heading,fontWeight:"bold",color:db},{tag:[I.atom,I.bool,I.special(I.variableName)],color:mb},{tag:[I.processingInstruction,I.string,I.inserted],color:KD},{tag:I.invalid,color:XD}]),t3=[JD,pS($D)];var e3=At.theme({"&":{backgroundColor:"#fff"}},{dark:!1}),i3=function(t){t===void 0&&(t={});var{indentWithTab:e=!0,editable:i=!0,readOnly:r=!1,theme:a="light",placeholder:u="",basicSetup:f=!0}=t,c=[];switch(e&&c.unshift(Qf.of([iD])),f&&(typeof f=="boolean"?c.unshift(cb()):c.unshift(cb(f))),u&&c.unshift(D_(u)),a){case"light":c.push(e3);break;case"dark":c.push(t3);break;case"none":break;default:c.push(a);break}return i===!1&&c.push(At.editable.of(!1)),r&&c.push(Ft.readOnly.of(!0)),[...c]},n3=l=>({line:l.state.doc.lineAt(l.state.selection.main.from),lineCount:l.state.doc.lines,lineBreak:l.state.lineBreak,length:l.state.doc.length,readOnly:l.state.readOnly,tabSize:l.state.tabSize,selection:l.state.selection,selectionAsSingle:l.state.selection.asSingle().main,ranges:l.state.selection.ranges,selectionCode:l.state.sliceDoc(l.state.selection.main.from,l.state.selection.main.to),selections:l.state.selection.ranges.map(t=>l.state.sliceDoc(t.from,t.to)),selectedText:l.state.selection.ranges.some(t=>!t.empty)}),vb=Pn.define(),l3=[];function r3(l){var{value:t,selection:e,onChange:i,onStatistics:r,onCreateEditor:a,onUpdate:u,extensions:f=l3,autoFocus:c,theme:d="light",height:g=null,minHeight:y=null,maxHeight:b=null,width:x=null,minWidth:w=null,maxWidth:_=null,placeholder:O="",editable:M=!0,readOnly:B=!1,indentWithTab:j=!0,basicSetup:et=!0,root:L,initialState:Q}=l,[Z,nt]=se.useState(),[st,mt]=se.useState(),[ut,G]=se.useState(),yt=At.theme({"&":{height:g,minHeight:y,maxHeight:b,width:x,minWidth:w,maxWidth:_},"& .cm-scroller":{height:"100% !important"}}),St=At.updateListener.of($=>{if($.docChanged&&typeof i=="function"&&!$.transactions.some(E=>E.annotation(vb))){var rt=$.state.doc,bt=rt.toString();i(bt,$)}r&&r(n3($))}),gt=i3({theme:d,editable:M,readOnly:B,placeholder:O,indentWithTab:j,basicSetup:et}),U=[St,yt,...gt];return u&&typeof u=="function"&&U.push(At.updateListener.of(u)),U=U.concat(f),se.useLayoutEffect(()=>{if(Z&&!ut){var $={doc:t,selection:e,extensions:U},rt=Q?Ft.fromJSON(Q.json,$,Q.fields):Ft.create($);if(G(rt),!st){var bt=new At({state:rt,parent:Z,root:L});mt(bt),a&&a(bt,rt)}}return()=>{st&&(G(void 0),mt(void 0))}},[Z,ut]),se.useEffect(()=>{l.container&&nt(l.container)},[l.container]),se.useEffect(()=>()=>{st&&(st.destroy(),mt(void 0))},[st]),se.useEffect(()=>{c&&st&&st.focus()},[c,st]),se.useEffect(()=>{st&&st.dispatch({effects:Ut.reconfigure.of(U)})},[d,f,g,y,b,x,w,_,O,M,B,j,et,i,u]),se.useEffect(()=>{if(t!==void 0){var $=st?st.state.doc.toString():"";st&&t!==$&&st.dispatch({changes:{from:0,to:$.length,insert:t||""},annotations:[vb.of(!0)]})}},[t,st]),{state:ut,setState:G,view:st,setView:mt,container:Z,setContainer:nt}}var s3=["className","value","selection","extensions","onChange","onStatistics","onCreateEditor","onUpdate","autoFocus","theme","height","minHeight","maxHeight","width","minWidth","maxWidth","basicSetup","placeholder","indentWithTab","editable","readOnly","root","initialState"],M2=se.forwardRef((l,t)=>{var{className:e,value:i="",selection:r,extensions:a=[],onChange:u,onStatistics:f,onCreateEditor:c,onUpdate:d,autoFocus:g,theme:y="light",height:b,minHeight:x,maxHeight:w,width:_,minWidth:O,maxWidth:M,basicSetup:B,placeholder:j,indentWithTab:et,editable:L,readOnly:Q,root:Z,initialState:nt}=l,st=GM(l,s3),mt=se.useRef(null),{state:ut,view:G,container:yt,setContainer:St}=r3({root:Z,value:i,autoFocus:g,theme:y,height:b,minHeight:x,maxHeight:w,width:_,minWidth:O,maxWidth:M,basicSetup:B,placeholder:j,indentWithTab:et,editable:L,readOnly:Q,selection:r,onChange:u,onStatistics:f,onCreateEditor:c,onUpdate:d,extensions:a,initialState:nt});se.useImperativeHandle(t,()=>({editor:mt.current,state:ut,view:G}),[mt,yt,ut,G]);var gt=se.useCallback($=>{mt.current=$,St($)},[St]);if(typeof i!="string")throw new Error("value must be typeof string but got "+typeof i);var U=typeof y=="string"?"cm-theme-"+y:"cm-theme";return It.jsx("div",Bm({ref:gt,className:""+U+(e?" "+e:"")},st))});M2.displayName="CodeMirror";function E2(l){const[t,e]=se.useState(l.value);se.useEffect(()=>{e(l.value)},[l.value]);const i=r=>{e(r),l.onChange(r)};return It.jsx(M2,{theme:"dark",value:t,width:"100%",height:"100%",onChange:i,readOnly:l.readOnly,extensions:l.extensions})}function a3(l,t){let e;return function(...i){const r=this;clearTimeout(e),e=setTimeout(()=>l.apply(r,i),t)}}class o3{async toUniversalModel(t){return{entities:t.tables.map(i=>({label:i.name,properties:i.columns.map(r=>{let a=r.type.name;return r.type.parameters&&r.type.parameters.length>0&&(a+=`(${r.type.parameters.join(", ")})`),{label:r.name,type:{domainSpecificType:a}}})}))}}async fromUniversalModel(t){return{tables:t.entities.map(i=>({name:i.label,columns:i.properties.map(r=>({name:r.label,type:this.parseDataTypeFromString(r.type.domainSpecificType)}))}))}}parseDataTypeFromString(t){const e=t.match(/(\w+)(?:\(([^)]+)\))?/);if(e){const i=e[1].toUpperCase(),a=(e[2]?e[2].split(",").map(u=>u.trim()):[]).map(u=>{const f=Number(u);return isNaN(f)?u:f});return{name:i,parameters:a.length>0?a:void 0}}return{name:t.toUpperCase()}}}class u3{constructor(){ny(this,"validBaseDataTypes",new Set(["INT","INTEGER","TINYINT","SMALLINT","MEDIUMINT","BIGINT","UNSIGNED BIG INT","INT2","INT8","CHARACTER","VARCHAR","VARYING CHARACTER","NCHAR","NATIVE CHARACTER","NVARCHAR","TEXT","CLOB","BLOB","REAL","DOUBLE","DOUBLE PRECISION","FLOAT","NUMERIC","DECIMAL","BOOLEAN","DATE","DATETIME","TIMESTAMP","TIME","YEAR"]))}parse(t){const e={tables:[]};return t.split(/(?=CREATE\s+TABLE)/i).forEach(r=>{if(r.trim()==="")return;const a=r.match(/CREATE\s+TABLE\s+(\w+)/i);if(!a){console.warn(`Skipping malformed statement starting near: "${r.slice(0,30)}..."`);return}const u=a[1],f=r.match(/\(([\s\S]*)\)/);if(!f){console.warn(`Could not find column definitions for table "${u}". Skipping.`);return}const c={name:u,columns:[]};f[1].split(/,(?![^()]*\))/g).forEach(y=>{const b=y.trim();b&&this.parseColumn(b,c)}),e.tables.push(c)}),e}parseColumn(t,e){const i=t.trim().split(/\s+/);if(i.length<2||i[1]==="")throw new Error(`SQL syntax error in table "${e.name}": Column definition "${t}" is incomplete.`);const r=i[0],a=i.slice(1).join(" "),u=a.split("(")[0].toUpperCase();if(!this.validBaseDataTypes.has(u))throw new Error(`SQL syntax error in table "${e.name}": Invalid data type "${u}" for column "${r}".`);const f=this.mapStringToSqlDataType(a);e.columns.push({name:r,type:f})}mapStringToSqlDataType(t){const e=t.match(/(\w+)(?:\((.*)\))?/);if(e){const i=e[1].toUpperCase(),r=e[2],a=r?r.split(",").map(u=>{const f=Number(u.trim());return isNaN(f)?u.trim():f}):void 0;return{name:i,parameters:a}}return{name:t.toUpperCase()}}}class f3{generateCode(t){let e="";for(const i of t.tables){e+=`CREATE TABLE ${i.name} (
`;const r=i.columns.map(a=>`  ${a.name} ${this.formatDataType(a.type)}`).join(`,
`);e+=`${r}
);

`}return e}formatDataType(t){let e=t.name;return t.parameters&&t.parameters.length>0&&(e+=`(${t.parameters.join(", ")})`),e}}function h3(l){const t=new f3,e=new o3,i=new u3,r=se.useCallback(a3(async f=>{var c,d;try{const g=i.parse(f);if(g.tables.length>0||f.trim()===""){const y=await e.toUniversalModel(g);(c=l.onError)==null||c.call(l,null),l.onChange(y)}}catch(g){const y=g;(d=l.onError)==null||d.call(l,y.message),console.error("Error handling editor change:",y)}},500),[e,i,l.onChange,l.onError]),[a,u]=se.useState("");return se.useEffect(()=>{async function f(){const c=await e.fromUniversalModel(l.value),d=t.generateCode(c);u(d)}f()},[l.value,e,t]),It.jsx(E2,{value:a,onChange:r,readOnly:l.readonly,extensions:[PM()]})}class c3{write(t){return console.log("MockVocabularyWriter.write called with:",t),JSON.stringify(t,null,2)}}class d3{toJsonVocabulary(t){return console.log("MockVocabularyAdapter.toJsonVocabulary called with:",t),t}fromJsonVocabulary(t){return console.log("MockVocabularyAdapter.fromJsonVocabulary called with:",t),t}}class m3{read(t){console.log("MockVocabularyReader.read with csharpString",t);try{return JSON.parse(t)}catch(e){return console.error("MockVocabularyReader.read: could not parse csharpString",t,e),null}}}function bb(l){const[t,e]=se.useState(""),i=new c3,r=new d3,a=new m3;se.useEffect(()=>{const f=r.toJsonVocabulary(l.value),c=i.write(f);e(c)},[l.value,r,i]);const u=f=>{var c,d;try{const g=a.read(f),y=r.fromJsonVocabulary(g);(c=l.onError)==null||c.call(l,null),l.onChange(y)}catch(g){const y=g;(d=l.onError)==null||d.call(l,y.message),console.error("Error handling editor change:",y)}};return It.jsx(E2,{value:t,onChange:u,readOnly:l.readonly})}function Xl(l){throw new Error('Could not dynamically require "'+l+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Ud={exports:{}},xb;function g3(){return xb||(xb=1,function(l,t){(function(e){l.exports=e()})(function(){return function(){function e(i,r,a){function u(d,g){if(!r[d]){if(!i[d]){var y=typeof Xl=="function"&&Xl;if(!g&&y)return y(d,!0);if(f)return f(d,!0);var b=new Error("Cannot find module '"+d+"'");throw b.code="MODULE_NOT_FOUND",b}var x=r[d]={exports:{}};i[d][0].call(x.exports,function(w){var _=i[d][1][w];return u(_||w)},x,x.exports,e,i,r,a)}return r[d].exports}for(var f=typeof Xl=="function"&&Xl,c=0;c<a.length;c++)u(a[c]);return u}return e}()({1:[function(e,i,r){var a=e("pako/lib/deflate.js");i.exports=function(u){return a.deflateRaw(u,{level:9,to:"string"})}},{"pako/lib/deflate.js":4}],2:[function(e,i,r){function a(f){return f<10?String.fromCharCode(48+f):(f-=10,f<26?String.fromCharCode(65+f):(f-=26,f<26?String.fromCharCode(97+f):(f-=26,f===0?"-":f===1?"_":"?")))}function u(f,c,d){var g=f>>2,y=(f&3)<<4|c>>4,b=(c&15)<<2|d>>6,x=d&63,w="";return w+=a(g&63),w+=a(y&63),w+=a(b&63),w+=a(x&63),w}i.exports=function(f){for(var c="",d=0;d<f.length;d+=3)d+2===f.length?c+=u(f.charCodeAt(d),f.charCodeAt(d+1),0):d+1===f.length?c+=u(f.charCodeAt(d),0,0):c+=u(f.charCodeAt(d),f.charCodeAt(d+1),f.charCodeAt(d+2));return c}},{}],3:[function(e,i,r){var a=e("./deflate"),u=e("./encode64");i.exports.encode=function(f){var c=a(f);return u(c)}},{"./deflate":1,"./encode64":2}],4:[function(e,i,r){var a=e("./zlib/deflate"),u=e("./utils/common"),f=e("./utils/strings"),c=e("./zlib/messages"),d=e("./zlib/zstream"),g=Object.prototype.toString,y=0,b=4,x=0,w=1,_=2,O=-1,M=0,B=8;function j(Z){if(!(this instanceof j))return new j(Z);this.options=u.assign({level:O,method:B,chunkSize:16384,windowBits:15,memLevel:8,strategy:M,to:""},Z||{});var nt=this.options;nt.raw&&nt.windowBits>0?nt.windowBits=-nt.windowBits:nt.gzip&&nt.windowBits>0&&nt.windowBits<16&&(nt.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var st=a.deflateInit2(this.strm,nt.level,nt.method,nt.windowBits,nt.memLevel,nt.strategy);if(st!==x)throw new Error(c[st]);if(nt.header&&a.deflateSetHeader(this.strm,nt.header),nt.dictionary){var mt;if(typeof nt.dictionary=="string"?mt=f.string2buf(nt.dictionary):g.call(nt.dictionary)==="[object ArrayBuffer]"?mt=new Uint8Array(nt.dictionary):mt=nt.dictionary,st=a.deflateSetDictionary(this.strm,mt),st!==x)throw new Error(c[st]);this._dict_set=!0}}j.prototype.push=function(Z,nt){var st=this.strm,mt=this.options.chunkSize,ut,G;if(this.ended)return!1;G=nt===~~nt?nt:nt===!0?b:y,typeof Z=="string"?st.input=f.string2buf(Z):g.call(Z)==="[object ArrayBuffer]"?st.input=new Uint8Array(Z):st.input=Z,st.next_in=0,st.avail_in=st.input.length;do{if(st.avail_out===0&&(st.output=new u.Buf8(mt),st.next_out=0,st.avail_out=mt),ut=a.deflate(st,G),ut!==w&&ut!==x)return this.onEnd(ut),this.ended=!0,!1;(st.avail_out===0||st.avail_in===0&&(G===b||G===_))&&(this.options.to==="string"?this.onData(f.buf2binstring(u.shrinkBuf(st.output,st.next_out))):this.onData(u.shrinkBuf(st.output,st.next_out)))}while((st.avail_in>0||st.avail_out===0)&&ut!==w);return G===b?(ut=a.deflateEnd(this.strm),this.onEnd(ut),this.ended=!0,ut===x):(G===_&&(this.onEnd(x),st.avail_out=0),!0)},j.prototype.onData=function(Z){this.chunks.push(Z)},j.prototype.onEnd=function(Z){Z===x&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=u.flattenChunks(this.chunks)),this.chunks=[],this.err=Z,this.msg=this.strm.msg};function et(Z,nt){var st=new j(nt);if(st.push(Z,!0),st.err)throw st.msg||c[st.err];return st.result}function L(Z,nt){return nt=nt||{},nt.raw=!0,et(Z,nt)}function Q(Z,nt){return nt=nt||{},nt.gzip=!0,et(Z,nt)}r.Deflate=j,r.deflate=et,r.deflateRaw=L,r.gzip=Q},{"./utils/common":5,"./utils/strings":6,"./zlib/deflate":9,"./zlib/messages":10,"./zlib/zstream":12}],5:[function(e,i,r){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function u(d,g){return Object.prototype.hasOwnProperty.call(d,g)}r.assign=function(d){for(var g=Array.prototype.slice.call(arguments,1);g.length;){var y=g.shift();if(y){if(typeof y!="object")throw new TypeError(y+"must be non-object");for(var b in y)u(y,b)&&(d[b]=y[b])}}return d},r.shrinkBuf=function(d,g){return d.length===g?d:d.subarray?d.subarray(0,g):(d.length=g,d)};var f={arraySet:function(d,g,y,b,x){if(g.subarray&&d.subarray){d.set(g.subarray(y,y+b),x);return}for(var w=0;w<b;w++)d[x+w]=g[y+w]},flattenChunks:function(d){var g,y,b,x,w,_;for(b=0,g=0,y=d.length;g<y;g++)b+=d[g].length;for(_=new Uint8Array(b),x=0,g=0,y=d.length;g<y;g++)w=d[g],_.set(w,x),x+=w.length;return _}},c={arraySet:function(d,g,y,b,x){for(var w=0;w<b;w++)d[x+w]=g[y+w]},flattenChunks:function(d){return[].concat.apply([],d)}};r.setTyped=function(d){d?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,f)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,c))},r.setTyped(a)},{}],6:[function(e,i,r){var a=e("./common"),u=!0,f=!0;try{String.fromCharCode.apply(null,[0])}catch{u=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{f=!1}for(var c=new a.Buf8(256),d=0;d<256;d++)c[d]=d>=252?6:d>=248?5:d>=240?4:d>=224?3:d>=192?2:1;c[254]=c[254]=1,r.string2buf=function(y){var b,x,w,_,O,M=y.length,B=0;for(_=0;_<M;_++)x=y.charCodeAt(_),(x&64512)===55296&&_+1<M&&(w=y.charCodeAt(_+1),(w&64512)===56320&&(x=65536+(x-55296<<10)+(w-56320),_++)),B+=x<128?1:x<2048?2:x<65536?3:4;for(b=new a.Buf8(B),O=0,_=0;O<B;_++)x=y.charCodeAt(_),(x&64512)===55296&&_+1<M&&(w=y.charCodeAt(_+1),(w&64512)===56320&&(x=65536+(x-55296<<10)+(w-56320),_++)),x<128?b[O++]=x:x<2048?(b[O++]=192|x>>>6,b[O++]=128|x&63):x<65536?(b[O++]=224|x>>>12,b[O++]=128|x>>>6&63,b[O++]=128|x&63):(b[O++]=240|x>>>18,b[O++]=128|x>>>12&63,b[O++]=128|x>>>6&63,b[O++]=128|x&63);return b};function g(y,b){if(b<65534&&(y.subarray&&f||!y.subarray&&u))return String.fromCharCode.apply(null,a.shrinkBuf(y,b));for(var x="",w=0;w<b;w++)x+=String.fromCharCode(y[w]);return x}r.buf2binstring=function(y){return g(y,y.length)},r.binstring2buf=function(y){for(var b=new a.Buf8(y.length),x=0,w=b.length;x<w;x++)b[x]=y.charCodeAt(x);return b},r.buf2string=function(y,b){var x,w,_,O,M=b||y.length,B=new Array(M*2);for(w=0,x=0;x<M;){if(_=y[x++],_<128){B[w++]=_;continue}if(O=c[_],O>4){B[w++]=65533,x+=O-1;continue}for(_&=O===2?31:O===3?15:7;O>1&&x<M;)_=_<<6|y[x++]&63,O--;if(O>1){B[w++]=65533;continue}_<65536?B[w++]=_:(_-=65536,B[w++]=55296|_>>10&1023,B[w++]=56320|_&1023)}return g(B,w)},r.utf8border=function(y,b){var x;for(b=b||y.length,b>y.length&&(b=y.length),x=b-1;x>=0&&(y[x]&192)===128;)x--;return x<0||x===0?b:x+c[y[x]]>b?x:b}},{"./common":5}],7:[function(e,i,r){function a(u,f,c,d){for(var g=u&65535|0,y=u>>>16&65535|0,b=0;c!==0;){b=c>2e3?2e3:c,c-=b;do g=g+f[d++]|0,y=y+g|0;while(--b);g%=65521,y%=65521}return g|y<<16|0}i.exports=a},{}],8:[function(e,i,r){function a(){for(var c,d=[],g=0;g<256;g++){c=g;for(var y=0;y<8;y++)c=c&1?3988292384^c>>>1:c>>>1;d[g]=c}return d}var u=a();function f(c,d,g,y){var b=u,x=y+g;c^=-1;for(var w=y;w<x;w++)c=c>>>8^b[(c^d[w])&255];return c^-1}i.exports=f},{}],9:[function(e,i,r){var a=e("../utils/common"),u=e("./trees"),f=e("./adler32"),c=e("./crc32"),d=e("./messages"),g=0,y=1,b=3,x=4,w=5,_=0,O=1,M=-2,B=-3,j=-5,et=-1,L=1,Q=2,Z=3,nt=4,st=0,mt=2,ut=8,G=9,yt=15,St=8,gt=29,U=256,$=U+1+gt,rt=30,bt=19,E=2*$+1,W=15,J=3,ht=258,vt=ht+J+1,Rt=32,Mt=42,Wt=69,Ht=73,Ae=91,Me=103,te=113,pe=666,Jt=1,Ve=2,Ci=3,_i=4,jt=3;function ci(v,K){return v.msg=d[K],K}function _n(v){return(v<<1)-(v>4?9:0)}function vi(v){for(var K=v.length;--K>=0;)v[K]=0}function Fe(v){var K=v.state,F=K.pending;F>v.avail_out&&(F=v.avail_out),F!==0&&(a.arraySet(v.output,K.pending_buf,K.pending_out,F,v.next_out),v.next_out+=F,K.pending_out+=F,v.total_out+=F,v.avail_out-=F,K.pending-=F,K.pending===0&&(K.pending_out=0))}function xe(v,K){u._tr_flush_block(v,v.block_start>=0?v.block_start:-1,v.strstart-v.block_start,K),v.block_start=v.strstart,Fe(v.strm)}function qt(v,K){v.pending_buf[v.pending++]=K}function Ti(v,K){v.pending_buf[v.pending++]=K>>>8&255,v.pending_buf[v.pending++]=K&255}function ml(v,K,F,C){var R=v.avail_in;return R>C&&(R=C),R===0?0:(v.avail_in-=R,a.arraySet(K,v.input,v.next_in,R,F),v.state.wrap===1?v.adler=f(v.adler,K,R,F):v.state.wrap===2&&(v.adler=c(v.adler,K,R,F)),v.next_in+=R,v.total_in+=R,R)}function Oi(v,K){var F=v.max_chain_length,C=v.strstart,R,Y,wt=v.prev_length,pt=v.nice_match,kt=v.strstart>v.w_size-vt?v.strstart-(v.w_size-vt):0,Yt=v.window,pn=v.w_mask,Ce=v.prev,Kt=v.strstart+ht,Se=Yt[C+wt-1],qe=Yt[C+wt];v.prev_length>=v.good_match&&(F>>=2),pt>v.lookahead&&(pt=v.lookahead);do if(R=K,!(Yt[R+wt]!==qe||Yt[R+wt-1]!==Se||Yt[R]!==Yt[C]||Yt[++R]!==Yt[C+1])){C+=2,R++;do;while(Yt[++C]===Yt[++R]&&Yt[++C]===Yt[++R]&&Yt[++C]===Yt[++R]&&Yt[++C]===Yt[++R]&&Yt[++C]===Yt[++R]&&Yt[++C]===Yt[++R]&&Yt[++C]===Yt[++R]&&Yt[++C]===Yt[++R]&&C<Kt);if(Y=ht-(Kt-C),C=Kt-ht,Y>wt){if(v.match_start=K,wt=Y,Y>=pt)break;Se=Yt[C+wt-1],qe=Yt[C+wt]}}while((K=Ce[K&pn])>kt&&--F!==0);return wt<=v.lookahead?wt:v.lookahead}function ye(v){var K=v.w_size,F,C,R,Y,wt;do{if(Y=v.window_size-v.lookahead-v.strstart,v.strstart>=K+(K-vt)){a.arraySet(v.window,v.window,K,K,0),v.match_start-=K,v.strstart-=K,v.block_start-=K,C=v.hash_size,F=C;do R=v.head[--F],v.head[F]=R>=K?R-K:0;while(--C);C=K,F=C;do R=v.prev[--F],v.prev[F]=R>=K?R-K:0;while(--C);Y+=K}if(v.strm.avail_in===0)break;if(C=ml(v.strm,v.window,v.strstart+v.lookahead,Y),v.lookahead+=C,v.lookahead+v.insert>=J)for(wt=v.strstart-v.insert,v.ins_h=v.window[wt],v.ins_h=(v.ins_h<<v.hash_shift^v.window[wt+1])&v.hash_mask;v.insert&&(v.ins_h=(v.ins_h<<v.hash_shift^v.window[wt+J-1])&v.hash_mask,v.prev[wt&v.w_mask]=v.head[v.ins_h],v.head[v.ins_h]=wt,wt++,v.insert--,!(v.lookahead+v.insert<J)););}while(v.lookahead<vt&&v.strm.avail_in!==0)}function bi(v,K){var F=65535;for(F>v.pending_buf_size-5&&(F=v.pending_buf_size-5);;){if(v.lookahead<=1){if(ye(v),v.lookahead===0&&K===g)return Jt;if(v.lookahead===0)break}v.strstart+=v.lookahead,v.lookahead=0;var C=v.block_start+F;if((v.strstart===0||v.strstart>=C)&&(v.lookahead=v.strstart-C,v.strstart=C,xe(v,!1),v.strm.avail_out===0)||v.strstart-v.block_start>=v.w_size-vt&&(xe(v,!1),v.strm.avail_out===0))return Jt}return v.insert=0,K===x?(xe(v,!0),v.strm.avail_out===0?Ci:_i):(v.strstart>v.block_start&&(xe(v,!1),v.strm.avail_out===0),Jt)}function Ee(v,K){for(var F,C;;){if(v.lookahead<vt){if(ye(v),v.lookahead<vt&&K===g)return Jt;if(v.lookahead===0)break}if(F=0,v.lookahead>=J&&(v.ins_h=(v.ins_h<<v.hash_shift^v.window[v.strstart+J-1])&v.hash_mask,F=v.prev[v.strstart&v.w_mask]=v.head[v.ins_h],v.head[v.ins_h]=v.strstart),F!==0&&v.strstart-F<=v.w_size-vt&&(v.match_length=Oi(v,F)),v.match_length>=J)if(C=u._tr_tally(v,v.strstart-v.match_start,v.match_length-J),v.lookahead-=v.match_length,v.match_length<=v.max_lazy_match&&v.lookahead>=J){v.match_length--;do v.strstart++,v.ins_h=(v.ins_h<<v.hash_shift^v.window[v.strstart+J-1])&v.hash_mask,F=v.prev[v.strstart&v.w_mask]=v.head[v.ins_h],v.head[v.ins_h]=v.strstart;while(--v.match_length!==0);v.strstart++}else v.strstart+=v.match_length,v.match_length=0,v.ins_h=v.window[v.strstart],v.ins_h=(v.ins_h<<v.hash_shift^v.window[v.strstart+1])&v.hash_mask;else C=u._tr_tally(v,0,v.window[v.strstart]),v.lookahead--,v.strstart++;if(C&&(xe(v,!1),v.strm.avail_out===0))return Jt}return v.insert=v.strstart<J-1?v.strstart:J-1,K===x?(xe(v,!0),v.strm.avail_out===0?Ci:_i):v.last_lit&&(xe(v,!1),v.strm.avail_out===0)?Jt:Ve}function Vi(v,K){for(var F,C,R;;){if(v.lookahead<vt){if(ye(v),v.lookahead<vt&&K===g)return Jt;if(v.lookahead===0)break}if(F=0,v.lookahead>=J&&(v.ins_h=(v.ins_h<<v.hash_shift^v.window[v.strstart+J-1])&v.hash_mask,F=v.prev[v.strstart&v.w_mask]=v.head[v.ins_h],v.head[v.ins_h]=v.strstart),v.prev_length=v.match_length,v.prev_match=v.match_start,v.match_length=J-1,F!==0&&v.prev_length<v.max_lazy_match&&v.strstart-F<=v.w_size-vt&&(v.match_length=Oi(v,F),v.match_length<=5&&(v.strategy===L||v.match_length===J&&v.strstart-v.match_start>4096)&&(v.match_length=J-1)),v.prev_length>=J&&v.match_length<=v.prev_length){R=v.strstart+v.lookahead-J,C=u._tr_tally(v,v.strstart-1-v.prev_match,v.prev_length-J),v.lookahead-=v.prev_length-1,v.prev_length-=2;do++v.strstart<=R&&(v.ins_h=(v.ins_h<<v.hash_shift^v.window[v.strstart+J-1])&v.hash_mask,F=v.prev[v.strstart&v.w_mask]=v.head[v.ins_h],v.head[v.ins_h]=v.strstart);while(--v.prev_length!==0);if(v.match_available=0,v.match_length=J-1,v.strstart++,C&&(xe(v,!1),v.strm.avail_out===0))return Jt}else if(v.match_available){if(C=u._tr_tally(v,0,v.window[v.strstart-1]),C&&xe(v,!1),v.strstart++,v.lookahead--,v.strm.avail_out===0)return Jt}else v.match_available=1,v.strstart++,v.lookahead--}return v.match_available&&(C=u._tr_tally(v,0,v.window[v.strstart-1]),v.match_available=0),v.insert=v.strstart<J-1?v.strstart:J-1,K===x?(xe(v,!0),v.strm.avail_out===0?Ci:_i):v.last_lit&&(xe(v,!1),v.strm.avail_out===0)?Jt:Ve}function gl(v,K){for(var F,C,R,Y,wt=v.window;;){if(v.lookahead<=ht){if(ye(v),v.lookahead<=ht&&K===g)return Jt;if(v.lookahead===0)break}if(v.match_length=0,v.lookahead>=J&&v.strstart>0&&(R=v.strstart-1,C=wt[R],C===wt[++R]&&C===wt[++R]&&C===wt[++R])){Y=v.strstart+ht;do;while(C===wt[++R]&&C===wt[++R]&&C===wt[++R]&&C===wt[++R]&&C===wt[++R]&&C===wt[++R]&&C===wt[++R]&&C===wt[++R]&&R<Y);v.match_length=ht-(Y-R),v.match_length>v.lookahead&&(v.match_length=v.lookahead)}if(v.match_length>=J?(F=u._tr_tally(v,1,v.match_length-J),v.lookahead-=v.match_length,v.strstart+=v.match_length,v.match_length=0):(F=u._tr_tally(v,0,v.window[v.strstart]),v.lookahead--,v.strstart++),F&&(xe(v,!1),v.strm.avail_out===0))return Jt}return v.insert=0,K===x?(xe(v,!0),v.strm.avail_out===0?Ci:_i):v.last_lit&&(xe(v,!1),v.strm.avail_out===0)?Jt:Ve}function Tn(v,K){for(var F;;){if(v.lookahead===0&&(ye(v),v.lookahead===0)){if(K===g)return Jt;break}if(v.match_length=0,F=u._tr_tally(v,0,v.window[v.strstart]),v.lookahead--,v.strstart++,F&&(xe(v,!1),v.strm.avail_out===0))return Jt}return v.insert=0,K===x?(xe(v,!0),v.strm.avail_out===0?Ci:_i):v.last_lit&&(xe(v,!1),v.strm.avail_out===0)?Jt:Ve}function Be(v,K,F,C,R){this.good_length=v,this.max_lazy=K,this.nice_length=F,this.max_chain=C,this.func=R}var xi;xi=[new Be(0,0,0,0,bi),new Be(4,4,8,4,Ee),new Be(4,5,16,8,Ee),new Be(4,6,32,32,Ee),new Be(4,4,16,16,Vi),new Be(8,16,32,32,Vi),new Be(8,16,128,128,Vi),new Be(8,32,128,256,Vi),new Be(32,128,258,1024,Vi),new Be(32,258,258,4096,Vi)];function Mi(v){v.window_size=2*v.w_size,vi(v.head),v.max_lazy_match=xi[v.level].max_lazy,v.good_match=xi[v.level].good_length,v.nice_match=xi[v.level].nice_length,v.max_chain_length=xi[v.level].max_chain,v.strstart=0,v.block_start=0,v.lookahead=0,v.insert=0,v.match_length=v.prev_length=J-1,v.match_available=0,v.ins_h=0}function T(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=ut,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(E*2),this.dyn_dtree=new a.Buf16((2*rt+1)*2),this.bl_tree=new a.Buf16((2*bt+1)*2),vi(this.dyn_ltree),vi(this.dyn_dtree),vi(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(W+1),this.heap=new a.Buf16(2*$+1),vi(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*$+1),vi(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ft(v){var K;return!v||!v.state?ci(v,M):(v.total_in=v.total_out=0,v.data_type=mt,K=v.state,K.pending=0,K.pending_out=0,K.wrap<0&&(K.wrap=-K.wrap),K.status=K.wrap?Mt:te,v.adler=K.wrap===2?0:1,K.last_flush=g,u._tr_init(K),_)}function dt(v){var K=ft(v);return K===_&&Mi(v.state),K}function Ct(v,K){return!v||!v.state||v.state.wrap!==2?M:(v.state.gzhead=K,_)}function z(v,K,F,C,R,Y){if(!v)return M;var wt=1;if(K===et&&(K=6),C<0?(wt=0,C=-C):C>15&&(wt=2,C-=16),R<1||R>G||F!==ut||C<8||C>15||K<0||K>9||Y<0||Y>nt)return ci(v,M);C===8&&(C=9);var pt=new T;return v.state=pt,pt.strm=v,pt.wrap=wt,pt.gzhead=null,pt.w_bits=C,pt.w_size=1<<pt.w_bits,pt.w_mask=pt.w_size-1,pt.hash_bits=R+7,pt.hash_size=1<<pt.hash_bits,pt.hash_mask=pt.hash_size-1,pt.hash_shift=~~((pt.hash_bits+J-1)/J),pt.window=new a.Buf8(pt.w_size*2),pt.head=new a.Buf16(pt.hash_size),pt.prev=new a.Buf16(pt.w_size),pt.lit_bufsize=1<<R+6,pt.pending_buf_size=pt.lit_bufsize*4,pt.pending_buf=new a.Buf8(pt.pending_buf_size),pt.d_buf=1*pt.lit_bufsize,pt.l_buf=3*pt.lit_bufsize,pt.level=K,pt.strategy=Y,pt.method=F,dt(v)}function tt(v,K){return z(v,K,ut,yt,St,st)}function k(v,K){var F,C,R,Y;if(!v||!v.state||K>w||K<0)return v?ci(v,M):M;if(C=v.state,!v.output||!v.input&&v.avail_in!==0||C.status===pe&&K!==x)return ci(v,v.avail_out===0?j:M);if(C.strm=v,F=C.last_flush,C.last_flush=K,C.status===Mt)if(C.wrap===2)v.adler=0,qt(C,31),qt(C,139),qt(C,8),C.gzhead?(qt(C,(C.gzhead.text?1:0)+(C.gzhead.hcrc?2:0)+(C.gzhead.extra?4:0)+(C.gzhead.name?8:0)+(C.gzhead.comment?16:0)),qt(C,C.gzhead.time&255),qt(C,C.gzhead.time>>8&255),qt(C,C.gzhead.time>>16&255),qt(C,C.gzhead.time>>24&255),qt(C,C.level===9?2:C.strategy>=Q||C.level<2?4:0),qt(C,C.gzhead.os&255),C.gzhead.extra&&C.gzhead.extra.length&&(qt(C,C.gzhead.extra.length&255),qt(C,C.gzhead.extra.length>>8&255)),C.gzhead.hcrc&&(v.adler=c(v.adler,C.pending_buf,C.pending,0)),C.gzindex=0,C.status=Wt):(qt(C,0),qt(C,0),qt(C,0),qt(C,0),qt(C,0),qt(C,C.level===9?2:C.strategy>=Q||C.level<2?4:0),qt(C,jt),C.status=te);else{var wt=ut+(C.w_bits-8<<4)<<8,pt=-1;C.strategy>=Q||C.level<2?pt=0:C.level<6?pt=1:C.level===6?pt=2:pt=3,wt|=pt<<6,C.strstart!==0&&(wt|=Rt),wt+=31-wt%31,C.status=te,Ti(C,wt),C.strstart!==0&&(Ti(C,v.adler>>>16),Ti(C,v.adler&65535)),v.adler=1}if(C.status===Wt)if(C.gzhead.extra){for(R=C.pending;C.gzindex<(C.gzhead.extra.length&65535)&&!(C.pending===C.pending_buf_size&&(C.gzhead.hcrc&&C.pending>R&&(v.adler=c(v.adler,C.pending_buf,C.pending-R,R)),Fe(v),R=C.pending,C.pending===C.pending_buf_size));)qt(C,C.gzhead.extra[C.gzindex]&255),C.gzindex++;C.gzhead.hcrc&&C.pending>R&&(v.adler=c(v.adler,C.pending_buf,C.pending-R,R)),C.gzindex===C.gzhead.extra.length&&(C.gzindex=0,C.status=Ht)}else C.status=Ht;if(C.status===Ht)if(C.gzhead.name){R=C.pending;do{if(C.pending===C.pending_buf_size&&(C.gzhead.hcrc&&C.pending>R&&(v.adler=c(v.adler,C.pending_buf,C.pending-R,R)),Fe(v),R=C.pending,C.pending===C.pending_buf_size)){Y=1;break}C.gzindex<C.gzhead.name.length?Y=C.gzhead.name.charCodeAt(C.gzindex++)&255:Y=0,qt(C,Y)}while(Y!==0);C.gzhead.hcrc&&C.pending>R&&(v.adler=c(v.adler,C.pending_buf,C.pending-R,R)),Y===0&&(C.gzindex=0,C.status=Ae)}else C.status=Ae;if(C.status===Ae)if(C.gzhead.comment){R=C.pending;do{if(C.pending===C.pending_buf_size&&(C.gzhead.hcrc&&C.pending>R&&(v.adler=c(v.adler,C.pending_buf,C.pending-R,R)),Fe(v),R=C.pending,C.pending===C.pending_buf_size)){Y=1;break}C.gzindex<C.gzhead.comment.length?Y=C.gzhead.comment.charCodeAt(C.gzindex++)&255:Y=0,qt(C,Y)}while(Y!==0);C.gzhead.hcrc&&C.pending>R&&(v.adler=c(v.adler,C.pending_buf,C.pending-R,R)),Y===0&&(C.status=Me)}else C.status=Me;if(C.status===Me&&(C.gzhead.hcrc?(C.pending+2>C.pending_buf_size&&Fe(v),C.pending+2<=C.pending_buf_size&&(qt(C,v.adler&255),qt(C,v.adler>>8&255),v.adler=0,C.status=te)):C.status=te),C.pending!==0){if(Fe(v),v.avail_out===0)return C.last_flush=-1,_}else if(v.avail_in===0&&_n(K)<=_n(F)&&K!==x)return ci(v,j);if(C.status===pe&&v.avail_in!==0)return ci(v,j);if(v.avail_in!==0||C.lookahead!==0||K!==g&&C.status!==pe){var kt=C.strategy===Q?Tn(C,K):C.strategy===Z?gl(C,K):xi[C.level].func(C,K);if((kt===Ci||kt===_i)&&(C.status=pe),kt===Jt||kt===Ci)return v.avail_out===0&&(C.last_flush=-1),_;if(kt===Ve&&(K===y?u._tr_align(C):K!==w&&(u._tr_stored_block(C,0,0,!1),K===b&&(vi(C.head),C.lookahead===0&&(C.strstart=0,C.block_start=0,C.insert=0))),Fe(v),v.avail_out===0))return C.last_flush=-1,_}return K!==x?_:C.wrap<=0?O:(C.wrap===2?(qt(C,v.adler&255),qt(C,v.adler>>8&255),qt(C,v.adler>>16&255),qt(C,v.adler>>24&255),qt(C,v.total_in&255),qt(C,v.total_in>>8&255),qt(C,v.total_in>>16&255),qt(C,v.total_in>>24&255)):(Ti(C,v.adler>>>16),Ti(C,v.adler&65535)),Fe(v),C.wrap>0&&(C.wrap=-C.wrap),C.pending!==0?_:O)}function ct(v){var K;return!v||!v.state?M:(K=v.state.status,K!==Mt&&K!==Wt&&K!==Ht&&K!==Ae&&K!==Me&&K!==te&&K!==pe?ci(v,M):(v.state=null,K===te?ci(v,B):_))}function Bt(v,K){var F=K.length,C,R,Y,wt,pt,kt,Yt,pn;if(!v||!v.state||(C=v.state,wt=C.wrap,wt===2||wt===1&&C.status!==Mt||C.lookahead))return M;for(wt===1&&(v.adler=f(v.adler,K,F,0)),C.wrap=0,F>=C.w_size&&(wt===0&&(vi(C.head),C.strstart=0,C.block_start=0,C.insert=0),pn=new a.Buf8(C.w_size),a.arraySet(pn,K,F-C.w_size,C.w_size,0),K=pn,F=C.w_size),pt=v.avail_in,kt=v.next_in,Yt=v.input,v.avail_in=F,v.next_in=0,v.input=K,ye(C);C.lookahead>=J;){R=C.strstart,Y=C.lookahead-(J-1);do C.ins_h=(C.ins_h<<C.hash_shift^C.window[R+J-1])&C.hash_mask,C.prev[R&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=R,R++;while(--Y);C.strstart=R,C.lookahead=J-1,ye(C)}return C.strstart+=C.lookahead,C.block_start=C.strstart,C.insert=C.lookahead,C.lookahead=0,C.match_length=C.prev_length=J-1,C.match_available=0,v.next_in=kt,v.input=Yt,v.avail_in=pt,C.wrap=wt,_}r.deflateInit=tt,r.deflateInit2=z,r.deflateReset=dt,r.deflateResetKeep=ft,r.deflateSetHeader=Ct,r.deflate=k,r.deflateEnd=ct,r.deflateSetDictionary=Bt,r.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":5,"./adler32":7,"./crc32":8,"./messages":10,"./trees":11}],10:[function(e,i,r){i.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],11:[function(e,i,r){var a=e("../utils/common"),u=4,f=0,c=1,d=2;function g(T){for(var ft=T.length;--ft>=0;)T[ft]=0}var y=0,b=1,x=2,w=3,_=258,O=29,M=256,B=M+1+O,j=30,et=19,L=2*B+1,Q=15,Z=16,nt=7,st=256,mt=16,ut=17,G=18,yt=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],St=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],gt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],U=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],$=512,rt=new Array((B+2)*2);g(rt);var bt=new Array(j*2);g(bt);var E=new Array($);g(E);var W=new Array(_-w+1);g(W);var J=new Array(O);g(J);var ht=new Array(j);g(ht);function vt(T,ft,dt,Ct,z){this.static_tree=T,this.extra_bits=ft,this.extra_base=dt,this.elems=Ct,this.max_length=z,this.has_stree=T&&T.length}var Rt,Mt,Wt;function Ht(T,ft){this.dyn_tree=T,this.max_code=0,this.stat_desc=ft}function Ae(T){return T<256?E[T]:E[256+(T>>>7)]}function Me(T,ft){T.pending_buf[T.pending++]=ft&255,T.pending_buf[T.pending++]=ft>>>8&255}function te(T,ft,dt){T.bi_valid>Z-dt?(T.bi_buf|=ft<<T.bi_valid&65535,Me(T,T.bi_buf),T.bi_buf=ft>>Z-T.bi_valid,T.bi_valid+=dt-Z):(T.bi_buf|=ft<<T.bi_valid&65535,T.bi_valid+=dt)}function pe(T,ft,dt){te(T,dt[ft*2],dt[ft*2+1])}function Jt(T,ft){var dt=0;do dt|=T&1,T>>>=1,dt<<=1;while(--ft>0);return dt>>>1}function Ve(T){T.bi_valid===16?(Me(T,T.bi_buf),T.bi_buf=0,T.bi_valid=0):T.bi_valid>=8&&(T.pending_buf[T.pending++]=T.bi_buf&255,T.bi_buf>>=8,T.bi_valid-=8)}function Ci(T,ft){var dt=ft.dyn_tree,Ct=ft.max_code,z=ft.stat_desc.static_tree,tt=ft.stat_desc.has_stree,k=ft.stat_desc.extra_bits,ct=ft.stat_desc.extra_base,Bt=ft.stat_desc.max_length,v,K,F,C,R,Y,wt=0;for(C=0;C<=Q;C++)T.bl_count[C]=0;for(dt[T.heap[T.heap_max]*2+1]=0,v=T.heap_max+1;v<L;v++)K=T.heap[v],C=dt[dt[K*2+1]*2+1]+1,C>Bt&&(C=Bt,wt++),dt[K*2+1]=C,!(K>Ct)&&(T.bl_count[C]++,R=0,K>=ct&&(R=k[K-ct]),Y=dt[K*2],T.opt_len+=Y*(C+R),tt&&(T.static_len+=Y*(z[K*2+1]+R)));if(wt!==0){do{for(C=Bt-1;T.bl_count[C]===0;)C--;T.bl_count[C]--,T.bl_count[C+1]+=2,T.bl_count[Bt]--,wt-=2}while(wt>0);for(C=Bt;C!==0;C--)for(K=T.bl_count[C];K!==0;)F=T.heap[--v],!(F>Ct)&&(dt[F*2+1]!==C&&(T.opt_len+=(C-dt[F*2+1])*dt[F*2],dt[F*2+1]=C),K--)}}function _i(T,ft,dt){var Ct=new Array(Q+1),z=0,tt,k;for(tt=1;tt<=Q;tt++)Ct[tt]=z=z+dt[tt-1]<<1;for(k=0;k<=ft;k++){var ct=T[k*2+1];ct!==0&&(T[k*2]=Jt(Ct[ct]++,ct))}}function jt(){var T,ft,dt,Ct,z,tt=new Array(Q+1);for(dt=0,Ct=0;Ct<O-1;Ct++)for(J[Ct]=dt,T=0;T<1<<yt[Ct];T++)W[dt++]=Ct;for(W[dt-1]=Ct,z=0,Ct=0;Ct<16;Ct++)for(ht[Ct]=z,T=0;T<1<<St[Ct];T++)E[z++]=Ct;for(z>>=7;Ct<j;Ct++)for(ht[Ct]=z<<7,T=0;T<1<<St[Ct]-7;T++)E[256+z++]=Ct;for(ft=0;ft<=Q;ft++)tt[ft]=0;for(T=0;T<=143;)rt[T*2+1]=8,T++,tt[8]++;for(;T<=255;)rt[T*2+1]=9,T++,tt[9]++;for(;T<=279;)rt[T*2+1]=7,T++,tt[7]++;for(;T<=287;)rt[T*2+1]=8,T++,tt[8]++;for(_i(rt,B+1,tt),T=0;T<j;T++)bt[T*2+1]=5,bt[T*2]=Jt(T,5);Rt=new vt(rt,yt,M+1,B,Q),Mt=new vt(bt,St,0,j,Q),Wt=new vt(new Array(0),gt,0,et,nt)}function ci(T){var ft;for(ft=0;ft<B;ft++)T.dyn_ltree[ft*2]=0;for(ft=0;ft<j;ft++)T.dyn_dtree[ft*2]=0;for(ft=0;ft<et;ft++)T.bl_tree[ft*2]=0;T.dyn_ltree[st*2]=1,T.opt_len=T.static_len=0,T.last_lit=T.matches=0}function _n(T){T.bi_valid>8?Me(T,T.bi_buf):T.bi_valid>0&&(T.pending_buf[T.pending++]=T.bi_buf),T.bi_buf=0,T.bi_valid=0}function vi(T,ft,dt,Ct){_n(T),Me(T,dt),Me(T,~dt),a.arraySet(T.pending_buf,T.window,ft,dt,T.pending),T.pending+=dt}function Fe(T,ft,dt,Ct){var z=ft*2,tt=dt*2;return T[z]<T[tt]||T[z]===T[tt]&&Ct[ft]<=Ct[dt]}function xe(T,ft,dt){for(var Ct=T.heap[dt],z=dt<<1;z<=T.heap_len&&(z<T.heap_len&&Fe(ft,T.heap[z+1],T.heap[z],T.depth)&&z++,!Fe(ft,Ct,T.heap[z],T.depth));)T.heap[dt]=T.heap[z],dt=z,z<<=1;T.heap[dt]=Ct}function qt(T,ft,dt){var Ct,z,tt=0,k,ct;if(T.last_lit!==0)do Ct=T.pending_buf[T.d_buf+tt*2]<<8|T.pending_buf[T.d_buf+tt*2+1],z=T.pending_buf[T.l_buf+tt],tt++,Ct===0?pe(T,z,ft):(k=W[z],pe(T,k+M+1,ft),ct=yt[k],ct!==0&&(z-=J[k],te(T,z,ct)),Ct--,k=Ae(Ct),pe(T,k,dt),ct=St[k],ct!==0&&(Ct-=ht[k],te(T,Ct,ct)));while(tt<T.last_lit);pe(T,st,ft)}function Ti(T,ft){var dt=ft.dyn_tree,Ct=ft.stat_desc.static_tree,z=ft.stat_desc.has_stree,tt=ft.stat_desc.elems,k,ct,Bt=-1,v;for(T.heap_len=0,T.heap_max=L,k=0;k<tt;k++)dt[k*2]!==0?(T.heap[++T.heap_len]=Bt=k,T.depth[k]=0):dt[k*2+1]=0;for(;T.heap_len<2;)v=T.heap[++T.heap_len]=Bt<2?++Bt:0,dt[v*2]=1,T.depth[v]=0,T.opt_len--,z&&(T.static_len-=Ct[v*2+1]);for(ft.max_code=Bt,k=T.heap_len>>1;k>=1;k--)xe(T,dt,k);v=tt;do k=T.heap[1],T.heap[1]=T.heap[T.heap_len--],xe(T,dt,1),ct=T.heap[1],T.heap[--T.heap_max]=k,T.heap[--T.heap_max]=ct,dt[v*2]=dt[k*2]+dt[ct*2],T.depth[v]=(T.depth[k]>=T.depth[ct]?T.depth[k]:T.depth[ct])+1,dt[k*2+1]=dt[ct*2+1]=v,T.heap[1]=v++,xe(T,dt,1);while(T.heap_len>=2);T.heap[--T.heap_max]=T.heap[1],Ci(T,ft),_i(dt,Bt,T.bl_count)}function ml(T,ft,dt){var Ct,z=-1,tt,k=ft[0*2+1],ct=0,Bt=7,v=4;for(k===0&&(Bt=138,v=3),ft[(dt+1)*2+1]=65535,Ct=0;Ct<=dt;Ct++)tt=k,k=ft[(Ct+1)*2+1],!(++ct<Bt&&tt===k)&&(ct<v?T.bl_tree[tt*2]+=ct:tt!==0?(tt!==z&&T.bl_tree[tt*2]++,T.bl_tree[mt*2]++):ct<=10?T.bl_tree[ut*2]++:T.bl_tree[G*2]++,ct=0,z=tt,k===0?(Bt=138,v=3):tt===k?(Bt=6,v=3):(Bt=7,v=4))}function Oi(T,ft,dt){var Ct,z=-1,tt,k=ft[0*2+1],ct=0,Bt=7,v=4;for(k===0&&(Bt=138,v=3),Ct=0;Ct<=dt;Ct++)if(tt=k,k=ft[(Ct+1)*2+1],!(++ct<Bt&&tt===k)){if(ct<v)do pe(T,tt,T.bl_tree);while(--ct!==0);else tt!==0?(tt!==z&&(pe(T,tt,T.bl_tree),ct--),pe(T,mt,T.bl_tree),te(T,ct-3,2)):ct<=10?(pe(T,ut,T.bl_tree),te(T,ct-3,3)):(pe(T,G,T.bl_tree),te(T,ct-11,7));ct=0,z=tt,k===0?(Bt=138,v=3):tt===k?(Bt=6,v=3):(Bt=7,v=4)}}function ye(T){var ft;for(ml(T,T.dyn_ltree,T.l_desc.max_code),ml(T,T.dyn_dtree,T.d_desc.max_code),Ti(T,T.bl_desc),ft=et-1;ft>=3&&T.bl_tree[U[ft]*2+1]===0;ft--);return T.opt_len+=3*(ft+1)+5+5+4,ft}function bi(T,ft,dt,Ct){var z;for(te(T,ft-257,5),te(T,dt-1,5),te(T,Ct-4,4),z=0;z<Ct;z++)te(T,T.bl_tree[U[z]*2+1],3);Oi(T,T.dyn_ltree,ft-1),Oi(T,T.dyn_dtree,dt-1)}function Ee(T){var ft=4093624447,dt;for(dt=0;dt<=31;dt++,ft>>>=1)if(ft&1&&T.dyn_ltree[dt*2]!==0)return f;if(T.dyn_ltree[9*2]!==0||T.dyn_ltree[10*2]!==0||T.dyn_ltree[13*2]!==0)return c;for(dt=32;dt<M;dt++)if(T.dyn_ltree[dt*2]!==0)return c;return f}var Vi=!1;function gl(T){Vi||(jt(),Vi=!0),T.l_desc=new Ht(T.dyn_ltree,Rt),T.d_desc=new Ht(T.dyn_dtree,Mt),T.bl_desc=new Ht(T.bl_tree,Wt),T.bi_buf=0,T.bi_valid=0,ci(T)}function Tn(T,ft,dt,Ct){te(T,(y<<1)+(Ct?1:0),3),vi(T,ft,dt)}function Be(T){te(T,b<<1,3),pe(T,st,rt),Ve(T)}function xi(T,ft,dt,Ct){var z,tt,k=0;T.level>0?(T.strm.data_type===d&&(T.strm.data_type=Ee(T)),Ti(T,T.l_desc),Ti(T,T.d_desc),k=ye(T),z=T.opt_len+3+7>>>3,tt=T.static_len+3+7>>>3,tt<=z&&(z=tt)):z=tt=dt+5,dt+4<=z&&ft!==-1?Tn(T,ft,dt,Ct):T.strategy===u||tt===z?(te(T,(b<<1)+(Ct?1:0),3),qt(T,rt,bt)):(te(T,(x<<1)+(Ct?1:0),3),bi(T,T.l_desc.max_code+1,T.d_desc.max_code+1,k+1),qt(T,T.dyn_ltree,T.dyn_dtree)),ci(T),Ct&&_n(T)}function Mi(T,ft,dt){return T.pending_buf[T.d_buf+T.last_lit*2]=ft>>>8&255,T.pending_buf[T.d_buf+T.last_lit*2+1]=ft&255,T.pending_buf[T.l_buf+T.last_lit]=dt&255,T.last_lit++,ft===0?T.dyn_ltree[dt*2]++:(T.matches++,ft--,T.dyn_ltree[(W[dt]+M+1)*2]++,T.dyn_dtree[Ae(ft)*2]++),T.last_lit===T.lit_bufsize-1}r._tr_init=gl,r._tr_stored_block=Tn,r._tr_flush_block=xi,r._tr_tally=Mi,r._tr_align=Be},{"../utils/common":5}],12:[function(e,i,r){function a(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}i.exports=a},{}]},{},[3])(3)})}(Ud)),Ud.exports}var Vd={exports:{}},Sb;function p3(){return Sb||(Sb=1,function(l,t){(function(e){l.exports=e()})(function(){return function(){function e(i,r,a){function u(d,g){if(!r[d]){if(!i[d]){var y=typeof Xl=="function"&&Xl;if(!g&&y)return y(d,!0);if(f)return f(d,!0);var b=new Error("Cannot find module '"+d+"'");throw b.code="MODULE_NOT_FOUND",b}var x=r[d]={exports:{}};i[d][0].call(x.exports,function(w){var _=i[d][1][w];return u(_||w)},x,x.exports,e,i,r,a)}return r[d].exports}for(var f=typeof Xl=="function"&&Xl,c=0;c<a.length;c++)u(a[c]);return u}return e}()({1:[function(e,i,r){var a=e("pako/lib/inflate.js");i.exports=function(u){return a.inflateRaw(u,{to:"string"})}},{"pako/lib/inflate.js":4}],2:[function(e,i,r){function a(f){var c=f.charCodeAt(0);return f==="_"?63:f==="-"?62:c>=97?c-61:c>=65?c-55:c>=48?c-48:"?"}function u(f){var c=a(f[0]),d=a(f[1]),g=a(f[2]),y=a(f[3]),b=c<<2|d>>4&63,x=d<<4&240|g>>2&15,w=g<<6&192|y&63;return[b,x,w]}i.exports=function(f){var c="",d=0;for(d=0;d<f.length;d+=4){var g=u(f.substring(d,d+4));c=c+String.fromCharCode(g[0]),c=c+String.fromCharCode(g[1]),c=c+String.fromCharCode(g[2])}return c}},{}],3:[function(e,i,r){var a=e("./inflate"),u=e("./decode64");i.exports.decode=function(f){var c=u(f);return a(c)}},{"./decode64":2,"./inflate":1}],4:[function(e,i,r){var a=e("./zlib/inflate"),u=e("./utils/common"),f=e("./utils/strings"),c=e("./zlib/constants"),d=e("./zlib/messages"),g=e("./zlib/zstream"),y=e("./zlib/gzheader"),b=Object.prototype.toString;function x(O){if(!(this instanceof x))return new x(O);this.options=u.assign({chunkSize:16384,windowBits:0,to:""},O||{});var M=this.options;M.raw&&M.windowBits>=0&&M.windowBits<16&&(M.windowBits=-M.windowBits,M.windowBits===0&&(M.windowBits=-15)),M.windowBits>=0&&M.windowBits<16&&!(O&&O.windowBits)&&(M.windowBits+=32),M.windowBits>15&&M.windowBits<48&&(M.windowBits&15)===0&&(M.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new g,this.strm.avail_out=0;var B=a.inflateInit2(this.strm,M.windowBits);if(B!==c.Z_OK)throw new Error(d[B]);if(this.header=new y,a.inflateGetHeader(this.strm,this.header),M.dictionary&&(typeof M.dictionary=="string"?M.dictionary=f.string2buf(M.dictionary):b.call(M.dictionary)==="[object ArrayBuffer]"&&(M.dictionary=new Uint8Array(M.dictionary)),M.raw&&(B=a.inflateSetDictionary(this.strm,M.dictionary),B!==c.Z_OK)))throw new Error(d[B])}x.prototype.push=function(O,M){var B=this.strm,j=this.options.chunkSize,et=this.options.dictionary,L,Q,Z,nt,st,mt=!1;if(this.ended)return!1;Q=M===~~M?M:M===!0?c.Z_FINISH:c.Z_NO_FLUSH,typeof O=="string"?B.input=f.binstring2buf(O):b.call(O)==="[object ArrayBuffer]"?B.input=new Uint8Array(O):B.input=O,B.next_in=0,B.avail_in=B.input.length;do{if(B.avail_out===0&&(B.output=new u.Buf8(j),B.next_out=0,B.avail_out=j),L=a.inflate(B,c.Z_NO_FLUSH),L===c.Z_NEED_DICT&&et&&(L=a.inflateSetDictionary(this.strm,et)),L===c.Z_BUF_ERROR&&mt===!0&&(L=c.Z_OK,mt=!1),L!==c.Z_STREAM_END&&L!==c.Z_OK)return this.onEnd(L),this.ended=!0,!1;B.next_out&&(B.avail_out===0||L===c.Z_STREAM_END||B.avail_in===0&&(Q===c.Z_FINISH||Q===c.Z_SYNC_FLUSH))&&(this.options.to==="string"?(Z=f.utf8border(B.output,B.next_out),nt=B.next_out-Z,st=f.buf2string(B.output,Z),B.next_out=nt,B.avail_out=j-nt,nt&&u.arraySet(B.output,B.output,Z,nt,0),this.onData(st)):this.onData(u.shrinkBuf(B.output,B.next_out))),B.avail_in===0&&B.avail_out===0&&(mt=!0)}while((B.avail_in>0||B.avail_out===0)&&L!==c.Z_STREAM_END);return L===c.Z_STREAM_END&&(Q=c.Z_FINISH),Q===c.Z_FINISH?(L=a.inflateEnd(this.strm),this.onEnd(L),this.ended=!0,L===c.Z_OK):(Q===c.Z_SYNC_FLUSH&&(this.onEnd(c.Z_OK),B.avail_out=0),!0)},x.prototype.onData=function(O){this.chunks.push(O)},x.prototype.onEnd=function(O){O===c.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=u.flattenChunks(this.chunks)),this.chunks=[],this.err=O,this.msg=this.strm.msg};function w(O,M){var B=new x(M);if(B.push(O,!0),B.err)throw B.msg||d[B.err];return B.result}function _(O,M){return M=M||{},M.raw=!0,w(O,M)}r.Inflate=x,r.inflate=w,r.inflateRaw=_,r.ungzip=w},{"./utils/common":5,"./utils/strings":6,"./zlib/constants":8,"./zlib/gzheader":10,"./zlib/inflate":12,"./zlib/messages":14,"./zlib/zstream":15}],5:[function(e,i,r){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function u(d,g){return Object.prototype.hasOwnProperty.call(d,g)}r.assign=function(d){for(var g=Array.prototype.slice.call(arguments,1);g.length;){var y=g.shift();if(y){if(typeof y!="object")throw new TypeError(y+"must be non-object");for(var b in y)u(y,b)&&(d[b]=y[b])}}return d},r.shrinkBuf=function(d,g){return d.length===g?d:d.subarray?d.subarray(0,g):(d.length=g,d)};var f={arraySet:function(d,g,y,b,x){if(g.subarray&&d.subarray){d.set(g.subarray(y,y+b),x);return}for(var w=0;w<b;w++)d[x+w]=g[y+w]},flattenChunks:function(d){var g,y,b,x,w,_;for(b=0,g=0,y=d.length;g<y;g++)b+=d[g].length;for(_=new Uint8Array(b),x=0,g=0,y=d.length;g<y;g++)w=d[g],_.set(w,x),x+=w.length;return _}},c={arraySet:function(d,g,y,b,x){for(var w=0;w<b;w++)d[x+w]=g[y+w]},flattenChunks:function(d){return[].concat.apply([],d)}};r.setTyped=function(d){d?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,f)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,c))},r.setTyped(a)},{}],6:[function(e,i,r){var a=e("./common"),u=!0,f=!0;try{String.fromCharCode.apply(null,[0])}catch{u=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{f=!1}for(var c=new a.Buf8(256),d=0;d<256;d++)c[d]=d>=252?6:d>=248?5:d>=240?4:d>=224?3:d>=192?2:1;c[254]=c[254]=1,r.string2buf=function(y){var b,x,w,_,O,M=y.length,B=0;for(_=0;_<M;_++)x=y.charCodeAt(_),(x&64512)===55296&&_+1<M&&(w=y.charCodeAt(_+1),(w&64512)===56320&&(x=65536+(x-55296<<10)+(w-56320),_++)),B+=x<128?1:x<2048?2:x<65536?3:4;for(b=new a.Buf8(B),O=0,_=0;O<B;_++)x=y.charCodeAt(_),(x&64512)===55296&&_+1<M&&(w=y.charCodeAt(_+1),(w&64512)===56320&&(x=65536+(x-55296<<10)+(w-56320),_++)),x<128?b[O++]=x:x<2048?(b[O++]=192|x>>>6,b[O++]=128|x&63):x<65536?(b[O++]=224|x>>>12,b[O++]=128|x>>>6&63,b[O++]=128|x&63):(b[O++]=240|x>>>18,b[O++]=128|x>>>12&63,b[O++]=128|x>>>6&63,b[O++]=128|x&63);return b};function g(y,b){if(b<65534&&(y.subarray&&f||!y.subarray&&u))return String.fromCharCode.apply(null,a.shrinkBuf(y,b));for(var x="",w=0;w<b;w++)x+=String.fromCharCode(y[w]);return x}r.buf2binstring=function(y){return g(y,y.length)},r.binstring2buf=function(y){for(var b=new a.Buf8(y.length),x=0,w=b.length;x<w;x++)b[x]=y.charCodeAt(x);return b},r.buf2string=function(y,b){var x,w,_,O,M=b||y.length,B=new Array(M*2);for(w=0,x=0;x<M;){if(_=y[x++],_<128){B[w++]=_;continue}if(O=c[_],O>4){B[w++]=65533,x+=O-1;continue}for(_&=O===2?31:O===3?15:7;O>1&&x<M;)_=_<<6|y[x++]&63,O--;if(O>1){B[w++]=65533;continue}_<65536?B[w++]=_:(_-=65536,B[w++]=55296|_>>10&1023,B[w++]=56320|_&1023)}return g(B,w)},r.utf8border=function(y,b){var x;for(b=b||y.length,b>y.length&&(b=y.length),x=b-1;x>=0&&(y[x]&192)===128;)x--;return x<0||x===0?b:x+c[y[x]]>b?x:b}},{"./common":5}],7:[function(e,i,r){function a(u,f,c,d){for(var g=u&65535|0,y=u>>>16&65535|0,b=0;c!==0;){b=c>2e3?2e3:c,c-=b;do g=g+f[d++]|0,y=y+g|0;while(--b);g%=65521,y%=65521}return g|y<<16|0}i.exports=a},{}],8:[function(e,i,r){i.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],9:[function(e,i,r){function a(){for(var c,d=[],g=0;g<256;g++){c=g;for(var y=0;y<8;y++)c=c&1?3988292384^c>>>1:c>>>1;d[g]=c}return d}var u=a();function f(c,d,g,y){var b=u,x=y+g;c^=-1;for(var w=y;w<x;w++)c=c>>>8^b[(c^d[w])&255];return c^-1}i.exports=f},{}],10:[function(e,i,r){function a(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}i.exports=a},{}],11:[function(e,i,r){var a=30,u=12;i.exports=function(c,d){var g,y,b,x,w,_,O,M,B,j,et,L,Q,Z,nt,st,mt,ut,G,yt,St,gt,U,$,rt;g=c.state,y=c.next_in,$=c.input,b=y+(c.avail_in-5),x=c.next_out,rt=c.output,w=x-(d-c.avail_out),_=x+(c.avail_out-257),O=g.dmax,M=g.wsize,B=g.whave,j=g.wnext,et=g.window,L=g.hold,Q=g.bits,Z=g.lencode,nt=g.distcode,st=(1<<g.lenbits)-1,mt=(1<<g.distbits)-1;t:do{Q<15&&(L+=$[y++]<<Q,Q+=8,L+=$[y++]<<Q,Q+=8),ut=Z[L&st];e:for(;;){if(G=ut>>>24,L>>>=G,Q-=G,G=ut>>>16&255,G===0)rt[x++]=ut&65535;else if(G&16){yt=ut&65535,G&=15,G&&(Q<G&&(L+=$[y++]<<Q,Q+=8),yt+=L&(1<<G)-1,L>>>=G,Q-=G),Q<15&&(L+=$[y++]<<Q,Q+=8,L+=$[y++]<<Q,Q+=8),ut=nt[L&mt];i:for(;;){if(G=ut>>>24,L>>>=G,Q-=G,G=ut>>>16&255,G&16){if(St=ut&65535,G&=15,Q<G&&(L+=$[y++]<<Q,Q+=8,Q<G&&(L+=$[y++]<<Q,Q+=8)),St+=L&(1<<G)-1,St>O){c.msg="invalid distance too far back",g.mode=a;break t}if(L>>>=G,Q-=G,G=x-w,St>G){if(G=St-G,G>B&&g.sane){c.msg="invalid distance too far back",g.mode=a;break t}if(gt=0,U=et,j===0){if(gt+=M-G,G<yt){yt-=G;do rt[x++]=et[gt++];while(--G);gt=x-St,U=rt}}else if(j<G){if(gt+=M+j-G,G-=j,G<yt){yt-=G;do rt[x++]=et[gt++];while(--G);if(gt=0,j<yt){G=j,yt-=G;do rt[x++]=et[gt++];while(--G);gt=x-St,U=rt}}}else if(gt+=j-G,G<yt){yt-=G;do rt[x++]=et[gt++];while(--G);gt=x-St,U=rt}for(;yt>2;)rt[x++]=U[gt++],rt[x++]=U[gt++],rt[x++]=U[gt++],yt-=3;yt&&(rt[x++]=U[gt++],yt>1&&(rt[x++]=U[gt++]))}else{gt=x-St;do rt[x++]=rt[gt++],rt[x++]=rt[gt++],rt[x++]=rt[gt++],yt-=3;while(yt>2);yt&&(rt[x++]=rt[gt++],yt>1&&(rt[x++]=rt[gt++]))}}else if((G&64)===0){ut=nt[(ut&65535)+(L&(1<<G)-1)];continue i}else{c.msg="invalid distance code",g.mode=a;break t}break}}else if((G&64)===0){ut=Z[(ut&65535)+(L&(1<<G)-1)];continue e}else if(G&32){g.mode=u;break t}else{c.msg="invalid literal/length code",g.mode=a;break t}break}}while(y<b&&x<_);yt=Q>>3,y-=yt,Q-=yt<<3,L&=(1<<Q)-1,c.next_in=y,c.next_out=x,c.avail_in=y<b?5+(b-y):5-(y-b),c.avail_out=x<_?257+(_-x):257-(x-_),g.hold=L,g.bits=Q}},{}],12:[function(e,i,r){var a=e("../utils/common"),u=e("./adler32"),f=e("./crc32"),c=e("./inffast"),d=e("./inftrees"),g=0,y=1,b=2,x=4,w=5,_=6,O=0,M=1,B=2,j=-2,et=-3,L=-4,Q=-5,Z=8,nt=1,st=2,mt=3,ut=4,G=5,yt=6,St=7,gt=8,U=9,$=10,rt=11,bt=12,E=13,W=14,J=15,ht=16,vt=17,Rt=18,Mt=19,Wt=20,Ht=21,Ae=22,Me=23,te=24,pe=25,Jt=26,Ve=27,Ci=28,_i=29,jt=30,ci=31,_n=32,vi=852,Fe=592,xe=15,qt=xe;function Ti(z){return(z>>>24&255)+(z>>>8&65280)+((z&65280)<<8)+((z&255)<<24)}function ml(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Oi(z){var tt;return!z||!z.state?j:(tt=z.state,z.total_in=z.total_out=tt.total=0,z.msg="",tt.wrap&&(z.adler=tt.wrap&1),tt.mode=nt,tt.last=0,tt.havedict=0,tt.dmax=32768,tt.head=null,tt.hold=0,tt.bits=0,tt.lencode=tt.lendyn=new a.Buf32(vi),tt.distcode=tt.distdyn=new a.Buf32(Fe),tt.sane=1,tt.back=-1,O)}function ye(z){var tt;return!z||!z.state?j:(tt=z.state,tt.wsize=0,tt.whave=0,tt.wnext=0,Oi(z))}function bi(z,tt){var k,ct;return!z||!z.state||(ct=z.state,tt<0?(k=0,tt=-tt):(k=(tt>>4)+1,tt<48&&(tt&=15)),tt&&(tt<8||tt>15))?j:(ct.window!==null&&ct.wbits!==tt&&(ct.window=null),ct.wrap=k,ct.wbits=tt,ye(z))}function Ee(z,tt){var k,ct;return z?(ct=new ml,z.state=ct,ct.window=null,k=bi(z,tt),k!==O&&(z.state=null),k):j}function Vi(z){return Ee(z,qt)}var gl=!0,Tn,Be;function xi(z){if(gl){var tt;for(Tn=new a.Buf32(512),Be=new a.Buf32(32),tt=0;tt<144;)z.lens[tt++]=8;for(;tt<256;)z.lens[tt++]=9;for(;tt<280;)z.lens[tt++]=7;for(;tt<288;)z.lens[tt++]=8;for(d(y,z.lens,0,288,Tn,0,z.work,{bits:9}),tt=0;tt<32;)z.lens[tt++]=5;d(b,z.lens,0,32,Be,0,z.work,{bits:5}),gl=!1}z.lencode=Tn,z.lenbits=9,z.distcode=Be,z.distbits=5}function Mi(z,tt,k,ct){var Bt,v=z.state;return v.window===null&&(v.wsize=1<<v.wbits,v.wnext=0,v.whave=0,v.window=new a.Buf8(v.wsize)),ct>=v.wsize?(a.arraySet(v.window,tt,k-v.wsize,v.wsize,0),v.wnext=0,v.whave=v.wsize):(Bt=v.wsize-v.wnext,Bt>ct&&(Bt=ct),a.arraySet(v.window,tt,k-ct,Bt,v.wnext),ct-=Bt,ct?(a.arraySet(v.window,tt,k-ct,ct,0),v.wnext=ct,v.whave=v.wsize):(v.wnext+=Bt,v.wnext===v.wsize&&(v.wnext=0),v.whave<v.wsize&&(v.whave+=Bt))),0}function T(z,tt){var k,ct,Bt,v,K,F,C,R,Y,wt,pt,kt,Yt,pn,Ce=0,Kt,Se,qe,Ne,yn,On,ce,le,je=new a.Buf8(4),Ji,We,Zn=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!z||!z.state||!z.output||!z.input&&z.avail_in!==0)return j;k=z.state,k.mode===bt&&(k.mode=E),K=z.next_out,Bt=z.output,C=z.avail_out,v=z.next_in,ct=z.input,F=z.avail_in,R=k.hold,Y=k.bits,wt=F,pt=C,le=O;t:for(;;)switch(k.mode){case nt:if(k.wrap===0){k.mode=E;break}for(;Y<16;){if(F===0)break t;F--,R+=ct[v++]<<Y,Y+=8}if(k.wrap&2&&R===35615){k.check=0,je[0]=R&255,je[1]=R>>>8&255,k.check=f(k.check,je,2,0),R=0,Y=0,k.mode=st;break}if(k.flags=0,k.head&&(k.head.done=!1),!(k.wrap&1)||(((R&255)<<8)+(R>>8))%31){z.msg="incorrect header check",k.mode=jt;break}if((R&15)!==Z){z.msg="unknown compression method",k.mode=jt;break}if(R>>>=4,Y-=4,ce=(R&15)+8,k.wbits===0)k.wbits=ce;else if(ce>k.wbits){z.msg="invalid window size",k.mode=jt;break}k.dmax=1<<ce,z.adler=k.check=1,k.mode=R&512?$:bt,R=0,Y=0;break;case st:for(;Y<16;){if(F===0)break t;F--,R+=ct[v++]<<Y,Y+=8}if(k.flags=R,(k.flags&255)!==Z){z.msg="unknown compression method",k.mode=jt;break}if(k.flags&57344){z.msg="unknown header flags set",k.mode=jt;break}k.head&&(k.head.text=R>>8&1),k.flags&512&&(je[0]=R&255,je[1]=R>>>8&255,k.check=f(k.check,je,2,0)),R=0,Y=0,k.mode=mt;case mt:for(;Y<32;){if(F===0)break t;F--,R+=ct[v++]<<Y,Y+=8}k.head&&(k.head.time=R),k.flags&512&&(je[0]=R&255,je[1]=R>>>8&255,je[2]=R>>>16&255,je[3]=R>>>24&255,k.check=f(k.check,je,4,0)),R=0,Y=0,k.mode=ut;case ut:for(;Y<16;){if(F===0)break t;F--,R+=ct[v++]<<Y,Y+=8}k.head&&(k.head.xflags=R&255,k.head.os=R>>8),k.flags&512&&(je[0]=R&255,je[1]=R>>>8&255,k.check=f(k.check,je,2,0)),R=0,Y=0,k.mode=G;case G:if(k.flags&1024){for(;Y<16;){if(F===0)break t;F--,R+=ct[v++]<<Y,Y+=8}k.length=R,k.head&&(k.head.extra_len=R),k.flags&512&&(je[0]=R&255,je[1]=R>>>8&255,k.check=f(k.check,je,2,0)),R=0,Y=0}else k.head&&(k.head.extra=null);k.mode=yt;case yt:if(k.flags&1024&&(kt=k.length,kt>F&&(kt=F),kt&&(k.head&&(ce=k.head.extra_len-k.length,k.head.extra||(k.head.extra=new Array(k.head.extra_len)),a.arraySet(k.head.extra,ct,v,kt,ce)),k.flags&512&&(k.check=f(k.check,ct,kt,v)),F-=kt,v+=kt,k.length-=kt),k.length))break t;k.length=0,k.mode=St;case St:if(k.flags&2048){if(F===0)break t;kt=0;do ce=ct[v+kt++],k.head&&ce&&k.length<65536&&(k.head.name+=String.fromCharCode(ce));while(ce&&kt<F);if(k.flags&512&&(k.check=f(k.check,ct,kt,v)),F-=kt,v+=kt,ce)break t}else k.head&&(k.head.name=null);k.length=0,k.mode=gt;case gt:if(k.flags&4096){if(F===0)break t;kt=0;do ce=ct[v+kt++],k.head&&ce&&k.length<65536&&(k.head.comment+=String.fromCharCode(ce));while(ce&&kt<F);if(k.flags&512&&(k.check=f(k.check,ct,kt,v)),F-=kt,v+=kt,ce)break t}else k.head&&(k.head.comment=null);k.mode=U;case U:if(k.flags&512){for(;Y<16;){if(F===0)break t;F--,R+=ct[v++]<<Y,Y+=8}if(R!==(k.check&65535)){z.msg="header crc mismatch",k.mode=jt;break}R=0,Y=0}k.head&&(k.head.hcrc=k.flags>>9&1,k.head.done=!0),z.adler=k.check=0,k.mode=bt;break;case $:for(;Y<32;){if(F===0)break t;F--,R+=ct[v++]<<Y,Y+=8}z.adler=k.check=Ti(R),R=0,Y=0,k.mode=rt;case rt:if(k.havedict===0)return z.next_out=K,z.avail_out=C,z.next_in=v,z.avail_in=F,k.hold=R,k.bits=Y,B;z.adler=k.check=1,k.mode=bt;case bt:if(tt===w||tt===_)break t;case E:if(k.last){R>>>=Y&7,Y-=Y&7,k.mode=Ve;break}for(;Y<3;){if(F===0)break t;F--,R+=ct[v++]<<Y,Y+=8}switch(k.last=R&1,R>>>=1,Y-=1,R&3){case 0:k.mode=W;break;case 1:if(xi(k),k.mode=Wt,tt===_){R>>>=2,Y-=2;break t}break;case 2:k.mode=vt;break;case 3:z.msg="invalid block type",k.mode=jt}R>>>=2,Y-=2;break;case W:for(R>>>=Y&7,Y-=Y&7;Y<32;){if(F===0)break t;F--,R+=ct[v++]<<Y,Y+=8}if((R&65535)!==(R>>>16^65535)){z.msg="invalid stored block lengths",k.mode=jt;break}if(k.length=R&65535,R=0,Y=0,k.mode=J,tt===_)break t;case J:k.mode=ht;case ht:if(kt=k.length,kt){if(kt>F&&(kt=F),kt>C&&(kt=C),kt===0)break t;a.arraySet(Bt,ct,v,kt,K),F-=kt,v+=kt,C-=kt,K+=kt,k.length-=kt;break}k.mode=bt;break;case vt:for(;Y<14;){if(F===0)break t;F--,R+=ct[v++]<<Y,Y+=8}if(k.nlen=(R&31)+257,R>>>=5,Y-=5,k.ndist=(R&31)+1,R>>>=5,Y-=5,k.ncode=(R&15)+4,R>>>=4,Y-=4,k.nlen>286||k.ndist>30){z.msg="too many length or distance symbols",k.mode=jt;break}k.have=0,k.mode=Rt;case Rt:for(;k.have<k.ncode;){for(;Y<3;){if(F===0)break t;F--,R+=ct[v++]<<Y,Y+=8}k.lens[Zn[k.have++]]=R&7,R>>>=3,Y-=3}for(;k.have<19;)k.lens[Zn[k.have++]]=0;if(k.lencode=k.lendyn,k.lenbits=7,Ji={bits:k.lenbits},le=d(g,k.lens,0,19,k.lencode,0,k.work,Ji),k.lenbits=Ji.bits,le){z.msg="invalid code lengths set",k.mode=jt;break}k.have=0,k.mode=Mt;case Mt:for(;k.have<k.nlen+k.ndist;){for(;Ce=k.lencode[R&(1<<k.lenbits)-1],Kt=Ce>>>24,Se=Ce>>>16&255,qe=Ce&65535,!(Kt<=Y);){if(F===0)break t;F--,R+=ct[v++]<<Y,Y+=8}if(qe<16)R>>>=Kt,Y-=Kt,k.lens[k.have++]=qe;else{if(qe===16){for(We=Kt+2;Y<We;){if(F===0)break t;F--,R+=ct[v++]<<Y,Y+=8}if(R>>>=Kt,Y-=Kt,k.have===0){z.msg="invalid bit length repeat",k.mode=jt;break}ce=k.lens[k.have-1],kt=3+(R&3),R>>>=2,Y-=2}else if(qe===17){for(We=Kt+3;Y<We;){if(F===0)break t;F--,R+=ct[v++]<<Y,Y+=8}R>>>=Kt,Y-=Kt,ce=0,kt=3+(R&7),R>>>=3,Y-=3}else{for(We=Kt+7;Y<We;){if(F===0)break t;F--,R+=ct[v++]<<Y,Y+=8}R>>>=Kt,Y-=Kt,ce=0,kt=11+(R&127),R>>>=7,Y-=7}if(k.have+kt>k.nlen+k.ndist){z.msg="invalid bit length repeat",k.mode=jt;break}for(;kt--;)k.lens[k.have++]=ce}}if(k.mode===jt)break;if(k.lens[256]===0){z.msg="invalid code -- missing end-of-block",k.mode=jt;break}if(k.lenbits=9,Ji={bits:k.lenbits},le=d(y,k.lens,0,k.nlen,k.lencode,0,k.work,Ji),k.lenbits=Ji.bits,le){z.msg="invalid literal/lengths set",k.mode=jt;break}if(k.distbits=6,k.distcode=k.distdyn,Ji={bits:k.distbits},le=d(b,k.lens,k.nlen,k.ndist,k.distcode,0,k.work,Ji),k.distbits=Ji.bits,le){z.msg="invalid distances set",k.mode=jt;break}if(k.mode=Wt,tt===_)break t;case Wt:k.mode=Ht;case Ht:if(F>=6&&C>=258){z.next_out=K,z.avail_out=C,z.next_in=v,z.avail_in=F,k.hold=R,k.bits=Y,c(z,pt),K=z.next_out,Bt=z.output,C=z.avail_out,v=z.next_in,ct=z.input,F=z.avail_in,R=k.hold,Y=k.bits,k.mode===bt&&(k.back=-1);break}for(k.back=0;Ce=k.lencode[R&(1<<k.lenbits)-1],Kt=Ce>>>24,Se=Ce>>>16&255,qe=Ce&65535,!(Kt<=Y);){if(F===0)break t;F--,R+=ct[v++]<<Y,Y+=8}if(Se&&(Se&240)===0){for(Ne=Kt,yn=Se,On=qe;Ce=k.lencode[On+((R&(1<<Ne+yn)-1)>>Ne)],Kt=Ce>>>24,Se=Ce>>>16&255,qe=Ce&65535,!(Ne+Kt<=Y);){if(F===0)break t;F--,R+=ct[v++]<<Y,Y+=8}R>>>=Ne,Y-=Ne,k.back+=Ne}if(R>>>=Kt,Y-=Kt,k.back+=Kt,k.length=qe,Se===0){k.mode=Jt;break}if(Se&32){k.back=-1,k.mode=bt;break}if(Se&64){z.msg="invalid literal/length code",k.mode=jt;break}k.extra=Se&15,k.mode=Ae;case Ae:if(k.extra){for(We=k.extra;Y<We;){if(F===0)break t;F--,R+=ct[v++]<<Y,Y+=8}k.length+=R&(1<<k.extra)-1,R>>>=k.extra,Y-=k.extra,k.back+=k.extra}k.was=k.length,k.mode=Me;case Me:for(;Ce=k.distcode[R&(1<<k.distbits)-1],Kt=Ce>>>24,Se=Ce>>>16&255,qe=Ce&65535,!(Kt<=Y);){if(F===0)break t;F--,R+=ct[v++]<<Y,Y+=8}if((Se&240)===0){for(Ne=Kt,yn=Se,On=qe;Ce=k.distcode[On+((R&(1<<Ne+yn)-1)>>Ne)],Kt=Ce>>>24,Se=Ce>>>16&255,qe=Ce&65535,!(Ne+Kt<=Y);){if(F===0)break t;F--,R+=ct[v++]<<Y,Y+=8}R>>>=Ne,Y-=Ne,k.back+=Ne}if(R>>>=Kt,Y-=Kt,k.back+=Kt,Se&64){z.msg="invalid distance code",k.mode=jt;break}k.offset=qe,k.extra=Se&15,k.mode=te;case te:if(k.extra){for(We=k.extra;Y<We;){if(F===0)break t;F--,R+=ct[v++]<<Y,Y+=8}k.offset+=R&(1<<k.extra)-1,R>>>=k.extra,Y-=k.extra,k.back+=k.extra}if(k.offset>k.dmax){z.msg="invalid distance too far back",k.mode=jt;break}k.mode=pe;case pe:if(C===0)break t;if(kt=pt-C,k.offset>kt){if(kt=k.offset-kt,kt>k.whave&&k.sane){z.msg="invalid distance too far back",k.mode=jt;break}kt>k.wnext?(kt-=k.wnext,Yt=k.wsize-kt):Yt=k.wnext-kt,kt>k.length&&(kt=k.length),pn=k.window}else pn=Bt,Yt=K-k.offset,kt=k.length;kt>C&&(kt=C),C-=kt,k.length-=kt;do Bt[K++]=pn[Yt++];while(--kt);k.length===0&&(k.mode=Ht);break;case Jt:if(C===0)break t;Bt[K++]=k.length,C--,k.mode=Ht;break;case Ve:if(k.wrap){for(;Y<32;){if(F===0)break t;F--,R|=ct[v++]<<Y,Y+=8}if(pt-=C,z.total_out+=pt,k.total+=pt,pt&&(z.adler=k.check=k.flags?f(k.check,Bt,pt,K-pt):u(k.check,Bt,pt,K-pt)),pt=C,(k.flags?R:Ti(R))!==k.check){z.msg="incorrect data check",k.mode=jt;break}R=0,Y=0}k.mode=Ci;case Ci:if(k.wrap&&k.flags){for(;Y<32;){if(F===0)break t;F--,R+=ct[v++]<<Y,Y+=8}if(R!==(k.total&4294967295)){z.msg="incorrect length check",k.mode=jt;break}R=0,Y=0}k.mode=_i;case _i:le=M;break t;case jt:le=et;break t;case ci:return L;case _n:default:return j}return z.next_out=K,z.avail_out=C,z.next_in=v,z.avail_in=F,k.hold=R,k.bits=Y,(k.wsize||pt!==z.avail_out&&k.mode<jt&&(k.mode<Ve||tt!==x))&&Mi(z,z.output,z.next_out,pt-z.avail_out),wt-=z.avail_in,pt-=z.avail_out,z.total_in+=wt,z.total_out+=pt,k.total+=pt,k.wrap&&pt&&(z.adler=k.check=k.flags?f(k.check,Bt,pt,z.next_out-pt):u(k.check,Bt,pt,z.next_out-pt)),z.data_type=k.bits+(k.last?64:0)+(k.mode===bt?128:0)+(k.mode===Wt||k.mode===J?256:0),(wt===0&&pt===0||tt===x)&&le===O&&(le=Q),le}function ft(z){if(!z||!z.state)return j;var tt=z.state;return tt.window&&(tt.window=null),z.state=null,O}function dt(z,tt){var k;return!z||!z.state||(k=z.state,(k.wrap&2)===0)?j:(k.head=tt,tt.done=!1,O)}function Ct(z,tt){var k=tt.length,ct,Bt,v;return!z||!z.state||(ct=z.state,ct.wrap!==0&&ct.mode!==rt)?j:ct.mode===rt&&(Bt=1,Bt=u(Bt,tt,k,0),Bt!==ct.check)?et:(v=Mi(z,tt,k,k),v?(ct.mode=ci,L):(ct.havedict=1,O))}r.inflateReset=ye,r.inflateReset2=bi,r.inflateResetKeep=Oi,r.inflateInit=Vi,r.inflateInit2=Ee,r.inflate=T,r.inflateEnd=ft,r.inflateGetHeader=dt,r.inflateSetDictionary=Ct,r.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":5,"./adler32":7,"./crc32":9,"./inffast":11,"./inftrees":13}],13:[function(e,i,r){var a=e("../utils/common"),u=15,f=852,c=592,d=0,g=1,y=2,b=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],x=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],w=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],_=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];i.exports=function(M,B,j,et,L,Q,Z,nt){var st=nt.bits,mt=0,ut=0,G=0,yt=0,St=0,gt=0,U=0,$=0,rt=0,bt=0,E,W,J,ht,vt,Rt=null,Mt=0,Wt,Ht=new a.Buf16(u+1),Ae=new a.Buf16(u+1),Me=null,te=0,pe,Jt,Ve;for(mt=0;mt<=u;mt++)Ht[mt]=0;for(ut=0;ut<et;ut++)Ht[B[j+ut]]++;for(St=st,yt=u;yt>=1&&Ht[yt]===0;yt--);if(St>yt&&(St=yt),yt===0)return L[Q++]=1<<24|64<<16|0,L[Q++]=1<<24|64<<16|0,nt.bits=1,0;for(G=1;G<yt&&Ht[G]===0;G++);for(St<G&&(St=G),$=1,mt=1;mt<=u;mt++)if($<<=1,$-=Ht[mt],$<0)return-1;if($>0&&(M===d||yt!==1))return-1;for(Ae[1]=0,mt=1;mt<u;mt++)Ae[mt+1]=Ae[mt]+Ht[mt];for(ut=0;ut<et;ut++)B[j+ut]!==0&&(Z[Ae[B[j+ut]]++]=ut);if(M===d?(Rt=Me=Z,Wt=19):M===g?(Rt=b,Mt-=257,Me=x,te-=257,Wt=256):(Rt=w,Me=_,Wt=-1),bt=0,ut=0,mt=G,vt=Q,gt=St,U=0,J=-1,rt=1<<St,ht=rt-1,M===g&&rt>f||M===y&&rt>c)return 1;for(;;){pe=mt-U,Z[ut]<Wt?(Jt=0,Ve=Z[ut]):Z[ut]>Wt?(Jt=Me[te+Z[ut]],Ve=Rt[Mt+Z[ut]]):(Jt=96,Ve=0),E=1<<mt-U,W=1<<gt,G=W;do W-=E,L[vt+(bt>>U)+W]=pe<<24|Jt<<16|Ve|0;while(W!==0);for(E=1<<mt-1;bt&E;)E>>=1;if(E!==0?(bt&=E-1,bt+=E):bt=0,ut++,--Ht[mt]===0){if(mt===yt)break;mt=B[j+Z[ut]]}if(mt>St&&(bt&ht)!==J){for(U===0&&(U=St),vt+=G,gt=mt-U,$=1<<gt;gt+U<yt&&($-=Ht[gt+U],!($<=0));)gt++,$<<=1;if(rt+=1<<gt,M===g&&rt>f||M===y&&rt>c)return 1;J=bt&ht,L[J]=St<<24|gt<<16|vt-Q|0}}return bt!==0&&(L[vt+bt]=mt-U<<24|64<<16|0),nt.bits=St,0}},{"../utils/common":5}],14:[function(e,i,r){i.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],15:[function(e,i,r){function a(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}i.exports=a},{}]},{},[3])(3)})}(Vd)),Vd.exports}var qd,wb;function y3(){return wb||(wb=1,qd={encode:g3().encode,decode:p3().decode}),qd}var v3=y3();function b3(){const e=`http://www.plantuml.com/plantuml/svg/${v3.encode(`
@startuml
title "Example C# Object Model"
skinparam classAttributeIconSize 0
skinparam style strictuml
skinparam class {
  BackgroundColor #f8fafc
  ArrowColor #64748b
  BorderColor #64748b
}

' Abstract base class
abstract class Person {
  + Name: string
  # BirthDate: DateTime
  + {abstract} GetAge(): int
}

' Derived class showing inheritance
class Employee extends Person {
  - EmployeeId: Guid
  - Salary: decimal
  + Department: Department
  + override GetAge(): int
  + PerformWork()
}

' An enum for a specific property type
enum EmployeeStatus {
  Active
  OnLeave
  Terminated
}

' A class showing an association
class Department {
  + Name: string
  + GetEmployees(): List<Employee>
}

' Relationships between the types
Department "1" o-- "0..*" Employee : "contains"
Employee --> EmployeeStatus

@enduml
`)}`;return It.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",padding:"1rem",boxSizing:"border-box",backgroundColor:"#f8fafc",overflow:"auto"},children:It.jsx("img",{src:e,alt:"C# Object Model Visualization",style:{maxWidth:"100%",maxHeight:"100%",backgroundColor:"white"}})})}function x3(l){switch(l){case Sn.ClassDiagram:return bb;case Sn.SecondaryEditor:return bb;case Sn.SQLQuery:return h3;case Sn.PlantUML:return b3;default:throw new Error(`Unknown editor type: ${l}`)}}const S3=({className:l,type:t,onChangeType:e,autoRefresh:i,onToggleAutoRefresh:r,onTranslateClick:a,isRightEditor:u})=>{const f=d=>{const g=d.target.value;console.log("EditorHeader: newType selected:",g),e(g)},c=()=>{r(!i)};return It.jsxs("div",{className:`flex items-center p-2 border-b border-gray-800 ${l}`,children:[It.jsx("label",{htmlFor:"editor-type",className:"mr-2",children:"Editor Type:"}),It.jsxs("select",{id:"editor-type",value:t,onChange:f,className:"bg-gray-700 text-white rounded-md p-1",children:[It.jsx("option",{value:Sn.ClassDiagram,children:"Class Diagram"}),It.jsx("option",{value:Sn.SQLQuery,children:"SQL Query"}),It.jsx("option",{value:Sn.SecondaryEditor,children:"Secondary"}),It.jsx("option",{value:Sn.PlantUML,children:"PlantUML Diagram"})]}),u&&It.jsxs("div",{className:"ml-4 flex items-center",children:[It.jsx("label",{htmlFor:"auto-refresh-toggle",className:"mr-2",children:"Auto-refresh:"}),It.jsx("input",{type:"checkbox",id:"auto-refresh-toggle",checked:i,onChange:c,className:"form-checkbox h-4 w-4 text-blue-600"})]}),It.jsx("div",{className:"ml-auto",children:u&&!i&&It.jsx("button",{onClick:a,className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-1 px-3 rounded",children:"Translate"})})]})};function kb({value:l,onChange:t,readOnly:e,className:i,type:r,onChangeType:a,error:u,onError:f,isRightEditor:c,autoRefresh:d,onToggleAutoRefresh:g,onTranslateClick:y}){return It.jsxs("div",{className:`h-full flex flex-col overflow-y-auto relative ${i}`,children:[It.jsx(S3,{className:"h-10 flex-shrink-0 z-10 sticky top-0 bg-gray-800",type:r,onChangeType:a,isRightEditor:c,autoRefresh:d||!1,onToggleAutoRefresh:g||(()=>{}),onTranslateClick:y||(()=>{})}),u?It.jsx("div",{className:"p-4 text-red-500",children:u}):It.jsx(w3,{type:r,value:l,onChange:t,readOnly:e,onChangeType:a,onError:f})]})}function w3({type:l,value:t,onChange:e,readOnly:i,onChangeType:r,onError:a}){if(!r)throw new Error("onChangeType is required for EditorWrap");const u=x3(l);return It.jsx("div",{className:"flex-1 min-h-0",children:It.jsx(u,{value:t,onChange:e||(()=>{}),readonly:i,onError:a})})}const k3=()=>{const[l,t]=se.useState(iA()),[e,i]=se.useState(null),[r,a]=se.useState(!0),[u,f]=se.useState(l.value);se.useEffect(()=>{r&&f(l.value)},[l.value,r]);const c=nA(t),d=x=>{i(x)},g=x=>{t(w=>({...w,value:x}))},y=x=>{a(x),x&&f(l.value)},b=()=>{f(l.value)};return It.jsxs("div",{className:"flex flex-col h-full bg-gray-900 text-white",children:[It.jsx($k,{className:"flex-shrink-0 h-12"}),It.jsxs(tA,{initialSize:50,className:"flex-1 min-h-0",children:[It.jsx(kb,{type:l.leftEditorType,onChangeType:c.onChangeLeftEditorType,value:l.value,onChange:g,extensions:[],className:"flex-col bg-gray-900 text-white",onError:d,isRightEditor:!1}),It.jsx(kb,{type:l.rightEditorType,onChangeType:c.onChangeRightEditorType,value:u,onChange:()=>{},readOnly:!0,className:"flex-col bg-gray-900 text-white",error:e,isRightEditor:!0,autoRefresh:r,onToggleAutoRefresh:y,onTranslateClick:b})]})]})};Jk.createRoot(document.getElementById("root")).render(It.jsx(Pk.StrictMode,{children:It.jsx(k3,{})}));
